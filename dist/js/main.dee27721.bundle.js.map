{"version":3,"sources":["webpack:///./src/BpmTable.js","webpack:///./src/BpmFlowChart.js","webpack:///./src/BpmTaskApproval.js","webpack:///./src/app.js","webpack:///./src/demo.js","webpack:///./src/index.js","webpack:///./src/common.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/refOptions.js","webpack:///./src/BpmTestCheckTable.js","webpack:///./src/BpmWrap.js","webpack:///./src/BpmTaskApprovalWrap.js","webpack:///./src/BpmButtonSubmit.js","webpack:///./src/BpmButtonRecall.js","webpack:///./src/BpmLinkAssign.js"],"names":["__webpack_require__","_react","_tinperBee","_common","propTypes","processDefinitionId","PropTypes","string","processInstanceId","BpmTable","_this2","this","_classCallCheck","_this","_possibleConstructorReturn","__proto__","_getPrototypeOf2","default","call","componentDidMount","_asyncToGenerator","_regenerator2","mark","_callee","_this$props","hisTasklistData","wrap","_context","prev","next","props","sendBpmTaskAJAX","sent","setState","data","stop","state","columns","title","dataIndex","key","width","render","text","record","index","_react2","createElement","descriptionToText","timestampToDate","Component","Table","bordered","emptyText","defaultProps","url","height","BpmFlowChart","_props","style","minHeight","src","frameBorder","id","appType","filterRefUrl","refCode","properties","object","onBpmFlowClick","func","onStart","onEnd","onSuccess","onError","onChangestate","BpmTaskApproval","componentWillMount","approvetype","comment","approvetypeToText","handleChange","value","userName","userIds","userId","checkedArray","handlerCommentChange","e","target","activityModalClose","rejectToActivityShow","rejectlist","selectedRow","rejectToActivityOK","rejectToBillMakerMsg","activityId","taskId","catch","Message","create","content","toString","color","position","duration","type","msg","flag","handlerFlow","getDataSource","arr","_this$props$propertie","addsignAble","rejectAble","delegateAble","unagreeable","deleteable","push","rejectToActivity","_callee2","result","_context2","length","Array","animation","activityName","HuoDongID","HuoDongName","rejectToActivityCol","_this3","self","assignOption","textOption","modalTitle","leftTitle","rightTitle","leftTransferText","rightTransferText","param","refModelUrl","treeUrl","tableBodyUrlSearch","tableBodyUrl","refInfo","jsonp","hearders","displayField","valueField","onCancel","p","console","log","onSave","sels","showVal","temp","map","v","option","backdrop","disabled","multiple","strictMode","matchUrl","filterUrl","className","padding","Row","margin","Col","md","sm","xs","paddingLeft","paddingRight","_beeSelect2","placeholder","onChange","defaultValue","_index4","_index2","FormControl","readOnly","onClick","mdOffset","xsOffset","smOffset","textAlign","Button","colors","outline","resize","border","marginBottom","borderRadius","lineHeight","Radio","RadioGroup","name","selectedValue","Modal","show","onHide","Header","closeButton","Title","Body","rowKey","r","rowClassName","indent","onRowClick","Footer","marginRight","addSignAble","iscopytouser","assignAble","ReactDOM","_demo2","document","querySelector","_index","Demo","BpmTaskApprovalWrap","err","BpmLinkAssign","BpmTestCheckTable","BpmButtonSubmit","funccode","nodekey","size","isOne","urlAssignSubmit","createTime","createUser","lastModified","lastModifyUser","ts","newTs","dr","bpmState","taskKey","processDefineCode","bpmStateEnumValue","orderUser","orderType","orderTypeEnumValue","orderDeptName","orderDept","orderCode","orderPrice","orderDate","orderUserName","orderName","tenantid","orderName2","orderName3","orderName4","orderName5","orderName6","bpmBillCode","mainBoCode","shape","BpmButtonRecall","supplier","supplierName","purchasing","purchasingGroup","voucherDate","approvalState","confirmState","closeState","type_name","approvalState_name","confirmState_name","closeState_name","remark","BpmWrap","_stamp","formatStr","arguments","undefined","unixTimestamp","Date","str","replace","getFullYear","getYear","month","getMonth","getDay","getDate","getHours","getMinutes","getSeconds","vApproveType","getBpmTaskURL","root","axios","post","copyusers","intersection","participants","billidToIds","billId","queryBpmTemplateAllocate","obj","get","Math","random","params","onCommit","_axios2","method","onRecall","reconvert","$0","String","fromCharCode","parseInt","escape","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","Error","code","keys","Object","resolve","module","exports","_stringify2","fliterColumn","filterDropdown","filterDropdownType","filterType","filterDropdownIncludeKeys","hisTasklist","draw","order","search","search_EQ_code","processDefinitionName","billno","searchconfirm","isArray","factoryValue","location","hash","pID","_pID$data","_BpmFlowChart2","_BpmTable2","_pID$data$currentActi","message","isShowFlowBtn","currentActivity","handlerSubmitBtn","_this$state","signAddMsg","delegateMsg","res","rejectres","abrupt","t0","assignList","showModal","s","_assign2","JSON","parse","refOptions","hasPage","refType","isRadio","tenantId","sysId","transmitParam","_ref3","_callee3","agreeeMsg","_context3","_from2","x","_x","_x2","apply","showKey","verification","_ref4","_callee4","_context4","_x3","_BpmTaskApproval2","RefTreeTransfer","_extends","array","scrollY","number","bool","handlerBtn","_ref2","_ref2$data","success","detailMsg","commitParam","_result","_result2","children","res_code","submitArray","assignedActivities","filter","item","startactivity","huanjieShow","chaosongShow","huanjieList","assignInfo","assignInfoItems","closeHuanjie","childRefKey","signAddOK","editRowIndex","sourseArray","slice","huanjieHandlerOK","_this$props2","submiting","_result3","concat","changeCheck","huanjieCol","_showVal","_childRefKey","_index3","enforceFocus","scroll","y","organrefCode","positonrefCode","roleRef","userRef","recallArray","loading"],"mappings":"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AAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,GACAC,aAAA,GACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,KAIA,SAAAC,EAAAC,GACA,IAAAlgB,EAAAmgB,EAAAD,GACA,OAAAjkB,EAAA+D,GAEA,SAAAmgB,EAAAD,GACA,IAAAjkB,EAAAmkB,EAAAta,EAAAoa,GAAA,CACA,IAAAze,EAAA,IAAA4e,MAAA,uBAAAH,EAAA,KAEA,MADAze,EAAA6e,KAAA,mBACA7e,EAEA,OAAAqE,EAAAoa,GAEAD,EAAAM,KAAA,WACA,OAAAC,OAAAD,KAAAza,IAEAma,EAAAQ,QAAAN,EACAO,EAAAC,QAAAV,EACAA,EAAAjgB,GAAA,gKC5Oe,EAAA4gB,EAAA1jB,UAtCXqB,MAAO,SACP0H,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,YAAY,EACZxB,OACIzE,QAAQ,mBAEZ0E,aACIG,aAAa,0CACbC,QAAQ,mCAEZoB,SAAU,yCACVC,UAAW,wCACXjB,WAAY,QACZD,aAAc,YACdyb,eACIriB,UAAW,OACXsiB,eAAgB,OAChBC,mBAAoB,SACpBC,WAAY,OACZC,2BAA4B,OAAQ,QAAS,QAE7CziB,UAAW,OACXsiB,eAAgB,OAChBC,mBAAoB,SACpBC,WAAY,OACZC,2BAA4B,OAAQ,QAAS,QAE7CziB,UAAW,QACXsiB,eAAgB,OAChBC,mBAAoB,SACpBC,WAAY,WACZC,2BAA4B,OAAQ,QAAS,+YC9BrD/kB,EAAAD,EAAA,UACAE,EAAAF,EAAA,QACAA,EAAA,4DAEMmO,cACF,SAAAA,IAAc,IAAAzN,EAAAC,kGAAAC,CAAAD,KAAAwN,GAAA,IAAAtN,mKAAAC,CAAAH,MAAAwN,EAAApN,YAAA,EAAAC,EAAAC,SAAAkN,IAAAjN,KAAAP,OAAA,OAAAE,EA8BdM,+SA9BcC,CAAAC,EAAAJ,QAAAK,KA8BM,SAAAC,IAAA,IAAA0jB,EAAAxjB,EAAA,OAAAJ,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZojB,EADY,iCAAAtjB,EAAAE,KAAA,EAEY8Q,UAAMC,KAAKqS,GAAeC,KAAQ,EAAGvd,OAAU,GAAIwd,SAAaC,QAAYC,eAAkB,GAAI3T,UAAa,GAAI4T,sBAAyB,GAAIC,OAAU,IAAMC,mBAF5K,OAEZ/jB,EAFYE,EAAAK,KAGZ4F,MAAM6d,QAAQhkB,EAAgBS,KAAKA,OACnCrB,EAAKoB,UACDC,KAAMT,EAAgBS,KAAKA,OALnB,wBAAAP,EAAAQ,SAAAZ,EAAAb,MA5BhBG,EAAKuB,OACDF,QACAwjB,iBAEJ7kB,EAAKwB,UAEGC,MAAO,OACPC,UAAW,OACXC,IAAK,OACLC,MAAO,QAGPH,MAAO,KACPC,UAAW,KACXC,IAAK,OAGLF,MAAO,sBACPC,UAAW,sBACXC,IAAK,wBAGLF,MAAO,oBACPC,UAAW,oBACXC,IAAK,sBA1BH3B,iTADcqC,iDAyCnB,IAAAgF,EAAAvH,KACL,OAAQmC,EAAA7B,QAAA8B,cAAC7C,EAAAiD,OACLC,UAAA,EACAC,UAAW,kBAAMP,EAAA7B,QAAA8B,cAAA,uBACjBV,QAAS1B,KAAK0B,QACdH,KAAMvB,KAAKyB,MAAMF,KACjBI,MAAO,kBAAMQ,EAAA7B,QAAA8B,cAAC7C,EAAA2L,QAAOC,OAAO,UAAUN,QAAS,WAE3CoC,SAAS+X,SAASC,KAAlB,wBAAiD1d,EAAK9F,MAAMsjB,aAAa3hB,GAAzE,wBAAmGmE,EAAK9F,MAAMsjB,aAAarlB,oBAA3H,sBAAoK6H,EAAK9F,MAAMsjB,aAAallB,oBAFnL,aAKb4M,WAAY,SAACxK,EAAQC,EAAOsK,GACxBjF,EAAKjG,UACDyjB,aAAc9iB,0BAOnBuL,uYCrEflO,EAAAD,EAAA,cACAA,EAAA,IACAE,EAAAF,EAAA,QACAA,EAAA,UACAA,EAAA,MACAG,EAAAH,EAAA,uDAGA,IAAMI,GACF2D,GAAIzD,UAAUC,OACdF,oBAAqBC,UAAUC,OAC/BC,kBAAmBF,UAAUC,QAG3B+Q,cACF,SAAAA,IAAc,IAAA5Q,EAAAC,kGAAAC,CAAAD,KAAA2Q,GAAA,IAAAzQ,mKAAAC,CAAAH,MAAA2Q,EAAAvQ,YAAA,EAAAC,EAAAC,SAAAqQ,IAAApQ,KAAAP,OAAA,OAAAE,EAQdgE,gTARczD,CAAAC,EAAAJ,QAAAK,KAQO,SAAAC,IAAA,IAAAskB,EAAAC,EAAAzlB,EAAAG,EAAA,OAAAa,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZhB,EAAKiB,MAAMzB,oBADC,CAAAsB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,GAEG,EAAA1B,EAAA6S,aAAYnS,EAAKiB,MAAMiC,IAF1B,OAET8hB,EAFSlkB,EAAAK,KAAA8jB,EAGoCD,EAAI3jB,KAA/C7B,EAHOylB,EAGPzlB,oBAAqBG,EAHdslB,EAGctlB,kBAC3BK,EAAKoB,UACD5B,sBACAG,sBANSmB,EAAAE,KAAA,eASbhB,EAAKoB,UACD5B,oBAAqBQ,EAAKiB,MAAMzB,oBAChCG,kBAAmBK,EAAKiB,MAAMtB,oBAXrB,wBAAAmB,EAAAQ,SAAAZ,EAAAb,MANjBG,EAAKuB,OACD/B,oBAAqB,GACrBG,kBAAmB,IAJbK,iTADIqC,iDA2Bd,OACIJ,EAAA7B,QAAA8B,cAAA,WACID,EAAA7B,QAAA8B,cAAC7C,EAAAsK,IAAD,KACI1H,EAAA7B,QAAA8B,cAAC7C,EAAAwK,KAAIC,GAAI,IACJhK,KAAKyB,MAAM/B,qBAAuByC,EAAA7B,QAAA8B,cAACgjB,EAAA9kB,SAChCZ,oBAAqBM,KAAKyB,MAAM/B,oBAChCG,kBAAmBG,KAAKyB,MAAM5B,sBAI1CsC,EAAA7B,QAAA8B,cAAC7C,EAAAsK,IAAD,KACI1H,EAAA7B,QAAA8B,cAAC7C,EAAAwK,KAAIC,GAAI,IACJhK,KAAKyB,MAAM/B,qBAAuByC,EAAA7B,QAAA8B,cAACijB,EAAA/kB,SAChCZ,oBAAqBM,KAAKyB,MAAM/B,oBAChCG,kBAAmBG,KAAKyB,MAAM5B,gCAQ1D8Q,EAAQlR,UAAYA,EACpBkR,EAAQhO,cACJS,GAAI,cAEOuN,8jBC/DfrR,EAAAD,EAAA,cACAA,EAAA,IACAE,EAAAF,EAAA,QACAA,EAAA,MACAG,EAAAH,EAAA,QACAA,EAAA,KACA8N,EAAA9N,EAAA,uVAIA,IAAMI,GACF2D,GAAIzD,UAAUC,OACd2D,QAAS5D,UAAUC,OACnBF,oBAAqBC,UAAUC,OAC/BC,kBAAmBF,UAAUC,OAC7B8D,eAAgB/D,UAAUgE,KAC1BN,QAAS1D,UAAUC,OACnBgE,QAASjE,UAAUgE,KACnBE,MAAOlE,UAAUgE,KACjBG,UAAWnE,UAAUgE,KACrBI,QAASpE,UAAUgE,MAEjB0J,cACF,SAAAA,IAAc,IAAAtN,EAAAC,kGAAAC,CAAAD,KAAAqN,GAAA,IAAAnN,mKAAAC,CAAAH,MAAAqN,EAAAjN,YAAA,EAAAC,EAAAC,SAAA+M,IAAA9M,KAAAP,OAAA,OAAAE,EA4BdgE,mBA5BczD,EAAAC,EAAAJ,QAAAK,KA4BO,SAAAC,IAAA,IAAAskB,EAAAC,EAAAzlB,EAAAG,EAAAyF,EAAAggB,EAAAhf,EAAAuG,EAAAtG,EAAAC,EAAAC,EAAAqG,EAAApG,EAAA,OAAAhG,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACZhB,EAAKiB,MAAMzB,oBADC,CAAAsB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,GAEG,EAAA1B,EAAA6S,aAAYnS,EAAKiB,MAAMiC,IAF1B,QAET8hB,EAFSlkB,EAAAK,MAGLE,KAAKgkB,SAA+B,SAApBL,EAAI3jB,KAAKgkB,QAE7BrlB,EAAKoB,UACDkkB,eAAe,IAEZN,EAAI3jB,KAAK+D,QAAQ6f,EACiCD,EAAI3jB,KAAvD7B,EADkBylB,EAClBzlB,oBAAqBG,EADHslB,EACGtlB,kBAAmByF,EADtB6f,EACsB7f,OADtBggB,EAGqGJ,EAAI3jB,KAA5HkkB,gBAAkBjiB,WAAa8C,EAHZgf,EAGYhf,YAAYuG,EAHxByY,EAGwBzY,aAAatG,EAHrC+e,EAGqC/e,WAAYC,EAHjD8e,EAGiD9e,aAAaC,EAH9D6e,EAG8D7e,YAAYqG,EAH1EwY,EAG0ExY,WAAYpG,EAHtF4e,EAGsF5e,WAE9GxG,EAAKoB,UACD8B,GAAIkC,EACJA,OAAOA,EACP9B,YACI8C,cAAYuG,eAAatG,aAAWC,eAAaC,cAAYqG,aAAWpG,cAE5EhH,sBACAG,uBAGJK,EAAKoB,UACDkkB,eAAe,IAxBVxkB,EAAAE,KAAA,eA4BbhB,EAAKoB,UACD5B,oBAAqBQ,EAAKiB,MAAMzB,oBAChCG,kBAAmBK,EAAKiB,MAAMtB,kBAC9BuD,GAAIlD,EAAKiB,MAAMiC,KA/BN,wBAAApC,EAAAQ,SAAAZ,EAAAb,MA5BPG,EAgEdwlB,iBAhEcjlB,EAAAC,EAAAJ,QAAAK,KAgEM,SAAAkG,IAAA,IAAAhG,EAAA+C,EAAAC,EAAAC,EAAAC,EAAA+C,EAAA6e,EAAAtgB,EAAAlB,EAAAC,EAAAvE,EAAAyF,EAAAF,EAAAwgB,EAAAC,EAAAC,EAAAC,EAAA,OAAArlB,EAAAJ,QAAAS,KAAA,SAAAgG,GAAA,cAAAA,EAAA9F,KAAA8F,EAAA7F,MAAA,UAAAL,EAC6BX,EAAKiB,MAA5CyC,EADU/C,EACV+C,QAASC,EADChD,EACDgD,MAAOC,EADNjD,EACMiD,UAAWC,EADjBlD,EACiBkD,QACP,IAAtB7D,EAAKuB,MAAM2C,QAFC,CAAA2C,EAAA7F,KAAA,eAGZsE,UAAQC,QAASC,QAAS,WAAYE,MAAO,SAAUC,SAAU,QAHrDkB,EAAAif,OAAA,iBAMhBpiB,GAAWA,IANKmD,EAAAkf,GAQR/lB,EAAKuB,MAAM0C,YARH4C,EAAA7F,KASP,UATO6F,EAAAkf,GAAA,EAUP,YAVOlf,EAAAkf,GAAA,EA0CP,qBA1COlf,EAAAkf,GAAA,GAqFP,YArFOlf,EAAAkf,GAAA,GA6HP,aA7HOlf,EAAAkf,GAAA,GAoKP,aApKOlf,EAAAkf,GAAA,GAiLP,sBAjLOlf,EAAAkf,GAAA,0BAAAlf,EAAA7F,KAAA,IAWW,EAAA1B,EAAA4B,iBAAgBlB,EAAKuB,MAAM0C,YAAajE,EAAKuB,OAXxD,cAagB,YAFpBqF,EAXIC,EAAA1F,MAaGE,KAAK0E,MACZT,UAAQC,QAASC,QAASoB,EAAOvF,KAAKyE,IAAKJ,MAAO,OAAQC,SAAU,QACpE/B,GAAaA,KACc,SAApBgD,EAAOvF,KAAK0E,OACnBT,UAAQC,QAASC,QAASoB,EAAOvF,KAAKyE,IAAKJ,MAAO,SAAUC,SAAU,QACtE9B,GAAWA,GACPgC,KAAM,EACNC,IAAKc,EAAOvF,KAAKyE,OAIrBc,EAAOvF,KAAKuL,aAERhG,EAAOvF,KAAK2kB,WAAWlf,OAAS,GAChC9G,EAAKoB,UACD8F,UAAWN,EAAOvF,KAAK2kB,WAAW,GAAG7gB,WACrCgC,YAAaP,EAAOvF,KAAK2kB,WAAW,GAAG/e,eAK/CtD,GAASA,IAIT3D,EAAKoB,UAAU6kB,WAAU,KAtCrBpf,EAAAif,OAAA,uBAAAL,EA2CsDzlB,EAAKuB,MAA9D4D,EA3CGsgB,EA2CHtgB,WAAWlB,EA3CRwhB,EA2CQxhB,YAAYC,EA3CpBuhB,EA2CoBvhB,QAAQvE,EA3C5B8lB,EA2C4B9lB,kBAAkByF,EA3C9CqgB,EA2C8CrgB,OAClDD,GAAkC,IAArBA,EAAW2B,OA5CpB,CAAAD,EAAA7F,KAAA,gBA6CJsE,UAAQC,QAASC,mBAAqBE,MAAO,UAAWC,SAAU,QAClE9B,GAAWA,GACPgC,KAAM,EACNC,iBAhDAe,EAAAif,OAAA,yBAAAjf,EAAA7F,KAAA,IAoDyB,EAAA1B,EAAA4B,iBAAgB,qBAC7CiE,WAAYA,EACZlB,YAAaA,EACbC,QAASA,EACTvE,kBAAmBA,EACnByF,OAAQA,EACR4M,UAAUhS,EAAKuB,MAAMyQ,UACrBC,aAAajS,EAAKuB,MAAM0Q,eACzB5M,MAAM,SAACV,GACNW,UAAQC,QAASC,WAAYb,EAAEc,WAAcC,MAAO,SAAUC,SAAU,QACxE9B,GAAWA,GACPgC,KAAM,EACNC,kBAhEA,cAoE8B,YAhBlCZ,EApDI2B,EAAA1F,MAoEiBE,KAAK0E,MAC1BnC,GAAaA,IACb0B,UAAQC,QAASC,WAAYN,EAAqB7D,KAAKyE,IAAOJ,MAAO,OAAQC,SAAU,QACvF3F,EAAKoB,UACD0D,sBAAsB,EACtBC,cACAC,mBAGJM,UAAQC,QAASC,WAAYN,EAAqB7D,KAAKyE,IAAOJ,MAAO,SAAUC,SAAU,QACzF9B,GAAWA,GACPgC,KAAM,EACNC,IAAKZ,EAAqB7D,KAAKyE,OAhF/Be,EAAAif,OAAA,uBAsFRpiB,GAAWA,IAEP1D,EAAKuB,MAAMgD,SAAuC,IAA7BvE,EAAKuB,MAAMgD,QAAQuC,OAxFpC,CAAAD,EAAA7F,KAAA,gBAyFJsE,UAAQC,QAASC,mBAAqBE,MAAO,UAAWC,SAAU,QAClE9B,GAAWA,GACPgC,KAAM,EACNC,iBA5FAe,EAAAif,OAAA,yBAAAjf,EAAA7F,KAAA,IAiGe,EAAA1B,EAAA4B,iBAAgB,eACnC+C,YAAajE,EAAKuB,MAAM0C,YACxBC,QAASlE,EAAKuB,MAAM2C,QACpBvE,kBAAmBK,EAAKuB,MAAM5B,kBAC9ByF,OAAQpF,EAAKuB,MAAM6D,OACnBb,QAASvE,EAAKuB,MAAMgD,QACpByN,UAAUhS,EAAKuB,MAAMyQ,UACrBC,aAAajS,EAAKuB,MAAM0Q,eACzB5M,MAAM,SAACV,GACNW,UAAQC,QAASC,WAAYb,EAAEc,WAAcC,MAAO,SAAUC,SAAU,QACxE9B,GAAWA,GACPgC,KAAM,EACNC,kBA7GA,cAiHoB,YAhBxB4f,EAjGI7e,EAAA1F,MAiHOE,KAAK0E,MAChBT,UAAQC,QAASC,WAAYkgB,EAAWrkB,KAAKyE,IAAOJ,MAAO,OAAQC,SAAU,QAC7E/B,GAAaA,MAEb0B,UAAQC,QAASC,WAAYkgB,EAAWrkB,KAAKyE,IAAOJ,MAAO,SAAUC,SAAU,QAC/E9B,GAAWA,GACPgC,KAAM,EACNC,IAAK4f,EAAWrkB,KAAKyE,OAxHrBe,EAAAif,OAAA,uBA8HRpiB,GAAWA,IACP1D,EAAKuB,MAAMiD,QAAqC,IAA5BxE,EAAKuB,MAAMiD,OAAOsC,OA/HlC,CAAAD,EAAA7F,KAAA,gBAgIJsE,UAAQC,QAASC,mBAAqBE,MAAO,UAAWC,SAAU,QAClE9B,GAAWA,GACPgC,KAAM,EACNC,iBAnIAe,EAAAif,OAAA,yBAAAjf,EAAA7F,KAAA,IAwIgB,EAAA1B,EAAA4B,iBAAgB,gBACpC+C,YAAajE,EAAKuB,MAAM0C,YACxBC,QAASlE,EAAKuB,MAAM2C,QACpBvE,kBAAmBK,EAAKuB,MAAM5B,kBAC9ByF,OAAQpF,EAAKuB,MAAM6D,OACnBZ,OAAQxE,EAAKuB,MAAMiD,OACnBwN,UAAUhS,EAAKuB,MAAMyQ,UACrBC,aAAajS,EAAKuB,MAAM0Q,eACzB5M,MAAM,SAACV,GACNW,UAAQC,QAASC,WAAYb,EAAEc,WAAcC,MAAO,SAAUC,SAAU,QACxE9B,GAAWA,GACPgC,KAAM,EACNC,kBApJA,cAwJsB,aAhB1B6f,EAxII9e,EAAA1F,MAwJQE,KAAK0E,MACjBT,UAAQC,QAASC,WAAYmgB,EAAYtkB,KAAKyE,IAAOJ,MAAO,OAAQC,SAAU,QAC9E/B,GAAaA,MAEb0B,UAAQC,QAASC,WAAYmgB,EAAYtkB,KAAKyE,IAAOJ,MAAO,SAAUC,SAAU,QAChF9B,GAAWA,GACPgC,KAAM,EACNC,IAAK6f,EAAYtkB,KAAKyE,OA/JtBe,EAAAif,OAAA,2BAAAjf,EAAA7F,KAAA,IAqKQ,EAAA1B,EAAA4B,iBAAgBlB,EAAKuB,MAAM0C,YAAajE,EAAKuB,OArKrD,cAsKc,aADlBqkB,EArKI/e,EAAA1F,MAsKAE,KAAK0E,MACTT,UAAQC,QAASC,QAASogB,EAAIvkB,KAAKyE,IAAKJ,MAAO,OAAQC,SAAU,QACjE/B,GAAaA,MAEb0B,UAAQC,QAASC,QAASogB,EAAIvkB,KAAKyE,IAAKJ,MAAO,SAAUC,SAAU,QACnE9B,GAAWA,GACPgC,KAAM,EACNC,IAAK8f,EAAIvkB,KAAKyE,OA7Kde,EAAAif,OAAA,2BAAAjf,EAAA7F,KAAA,IAkLc,EAAA1B,EAAA4B,iBAAgBlB,EAAKuB,MAAM0C,aAC7CkB,WAAY,aACZlB,YAAajE,EAAKuB,MAAM0C,YACxBC,QAAQlE,EAAKuB,MAAM2C,QACnBvE,kBAAmBK,EAAKuB,MAAM5B,kBAC9ByF,OAAQpF,EAAKuB,MAAM6D,OACnB4M,UAAUhS,EAAKuB,MAAMyQ,UACrBC,aAAajS,EAAKuB,MAAM0Q,eAzLpB,cA2LoB,aATxB4T,EAlLIhf,EAAA1F,MA2LME,KAAK0E,MACfT,UAAQC,QAASC,QAASqgB,EAAUxkB,KAAKyE,IAAKJ,MAAO,OAAQC,SAAU,QACvE/B,GAAaA,MAEb0B,UAAQC,QAASC,QAASqgB,EAAUxkB,KAAKyE,IAAKJ,MAAO,SAAUC,SAAU,QACzE9B,GAAWA,GACPgC,KAAM,EACNC,IAAK+f,EAAUxkB,KAAKyE,OAlMpBe,EAAAif,OAAA,2BAAAjf,EAAAif,OAAA,qCAAAjf,EAAAvF,SAAAqF,EAAA9G,MAhENG,EA0Qd8D,cAAe,SAACoiB,GAAI,IAEVjiB,EAA2DiiB,EAA3DjiB,YAAaC,EAA8CgiB,EAA9ChiB,QAAQkB,EAAsC8gB,EAAtC9gB,OAAQD,EAA8B+gB,EAA9B/gB,WAAYZ,EAAkB2hB,EAAlB3hB,QAASC,EAAS0hB,EAAT1hB,OACxDxE,EAAKoB,UACD6C,cAAaC,UAAQkB,SAAQD,aAAYZ,UAASC,YAE5C,EAAA2hB,EAAA/lB,SAAcgmB,KAAKC,MAAMC,YACnC7kB,MAAO,SACP0H,UAAU,EACVod,SAAS,EACTC,QAAS,EACTC,SAAS,EACThd,UAAW,GACX3B,OACIzE,QAASrD,EAAKiB,MAAMoC,QACpBqjB,SAAU,GACVC,MAAO,GACPC,cAAe,yCAGnBniB,gBACA+C,YACIC,WAAY,SACZC,UAAW,OACXC,WAAY,OACZC,iBAAkB,OAClBC,kBAAmB,QAGvBW,SAAU,SAAUC,GAChBC,QAAQC,IAAIF,IAGhBG,kBAAA,IAAAie,EAAAtmB,EAAAC,EAAAJ,QAAAK,KAAQ,SAAAqmB,EAAOje,EAAMC,GAAb,IAAAie,EAAA,OAAAvmB,EAAAJ,QAAAS,KAAA,SAAAmmB,GAAA,cAAAA,EAAAjmB,KAAAimB,EAAAhmB,MAAA,cAER0C,SAAWA,UAFHsjB,EAAAhmB,KAAA,GAKU,EAAA1B,EAAA4B,iBAAgB,UAClCiE,WAAYnF,EAAKuB,MAAM2F,UACvBD,aAAcjH,EAAKuB,MAAM4F,YACzBjD,QAASlE,EAAKuB,MAAM2C,QACpBkB,OAAQpF,EAAKuB,MAAM6D,OACnBnB,YAAajE,EAAKuB,MAAM0C,YACxBtE,kBAAmBK,EAAKuB,MAAM5B,kBAC9BuS,cAAc,EAAA+U,EAAA7mB,SAAWyI,EAAM,SAAAqe,GAAA,OAAQhkB,GAAMgkB,EAAEhkB,QACpDmC,MAAM,SAACV,GACFW,UAAQC,QAASC,WAAYb,EAAEc,WAAcC,MAAO,SAAUC,SAAU,QAC5E9B,SAAWA,SACPgC,KAAM,EACNC,kBAjBQ,OAqBe,YAhBvBihB,EALQC,EAAA7lB,MAqBEE,KAAK0E,MACfT,UAAQC,QAASC,WAAYuhB,EAAU1lB,KAAKyE,IAAOJ,MAAO,OAAQC,SAAU,QAC5E3F,EAAKoB,UACD2D,cACAC,iBAEJpB,WAAaA,cAEb0B,UAAQC,QAASC,WAAYuhB,EAAU1lB,KAAKyE,IAAOJ,MAAO,SAAUC,SAAU,QAC9E9B,SAAWA,SACPgC,KAAM,EACNC,IAAKihB,EAAU1lB,KAAKyE,OAhChB,wBAAAkhB,EAAA1lB,SAAAwlB,EAAAjnB,MAAR,gBAAAsnB,EAAAC,GAAA,OAAAP,EAAAQ,MAAAvnB,KAAA8Q,YAAAhI,GAoCJE,QAAS,GACLwe,QAAS,UACTC,cAAc,KA/UdvnB,EAAKuB,OACD+jB,eAAe,EACfpiB,GAAI,GACJkC,OAAQ,GACR5F,oBAAqB,GACrBG,kBAAmB,GACnBqS,aACAC,cAAa,EACbhO,YAAY,QACZC,QAAQ,OACRiB,WAAW,GACXZ,WACAC,OAAO,GACPyhB,WAAU,EACV3iB,YACIoJ,aAAY,EACZC,cAAa,EACbtG,YAAW,EACXC,cAAa,EACbC,aAAY,EACZqG,YAAW,EACXpG,YAAW,IAvBTxG,iTADgBqC,iDAqVrB,IAAAgF,EAAAvH,KACCyH,GACF9F,MAAO,SACP+F,YACIC,WAAY,SACZC,UAAW,OACXC,WAAY,OACZC,iBAAkB,OAClBC,kBAAmB,QAGvBC,OACIzE,QAAS,4BAGb0E,aACIC,QAAS,sCACTC,mBAAoB,GACpBC,aAAa,0CACbC,QAAQ,mCAEZC,OAAO,EACPC,YACAC,aAAc,YACdC,WAAY,UACZC,SAAU,SAAUC,GAChBC,QAAQC,IAAIF,GACZ3I,KAAKsB,UAAU6kB,WAAU,KAE7Brd,kBAAA,IAAA4e,EAAAjnB,EAAAC,EAAAJ,QAAAK,KAAQ,SAAAgnB,EAAM5e,GAAN,IAAAke,EAAA,OAAAvmB,EAAAJ,QAAAS,KAAA,SAAA6mB,GAAA,cAAAA,EAAA3mB,KAAA2mB,EAAA1mB,MAAA,cACJqG,EAAKjG,UAAU6kB,WAAU,IAE7BviB,SAAWA,UAHHgkB,EAAA1mB,KAAA,GAMc,EAAA1B,EAAA4B,iBAAgB,UAClCiE,WAAYkC,EAAK9F,MAAM2F,UACvBD,aAAcI,EAAK9F,MAAM4F,YACzBjD,QAASmD,EAAK9F,MAAM2C,QACpBkB,OAAQiC,EAAK9F,MAAM6D,OACnBnB,YAAaoD,EAAK9F,MAAM0C,YACxBtE,kBAAmB0H,EAAK9F,MAAM5B,kBAC9BuS,cAAc,EAAA+U,EAAA7mB,SAAWyI,EAAM,SAAAqe,GAAA,OAAQhkB,GAAMgkB,EAAEhkB,QAChDmC,MAAM,SAACV,GACFW,UAAQC,QAASC,WAAYb,EAAEc,WAAcC,MAAO,SAAUC,SAAU,QAC5E9B,SAAWA,SACPgC,KAAM,EACNC,kBAlBA,OAsBmB,YAhBvBihB,EANIW,EAAAvmB,MAsBME,KAAK0E,MACfT,UAAQC,QAASC,WAAYuhB,EAAU1lB,KAAKyE,IAAOJ,MAAO,OAAQC,SAAU,QAC5E0B,EAAKjG,UACD2D,cACAC,iBAEJpB,WAAaA,cAEb0B,UAAQC,QAASC,WAAYuhB,EAAU1lB,KAAKyE,IAAOJ,MAAO,SAAUC,SAAU,QAC9E9B,SAAWA,SACPgC,KAAM,EACNC,IAAKihB,EAAU1lB,KAAKyE,OAjCpB,wBAAA4hB,EAAApmB,SAAAmmB,EAAApgB,MAAR,gBAAAsgB,GAAA,OAAAH,EAAAH,MAAAvnB,KAAA8Q,YAAAhI,IAsCJ,OACI3G,EAAA7B,QAAA8B,cAAA,OAAKuH,UAAU,YACV3J,KAAKyB,MAAM/B,qBAAuByC,EAAA7B,QAAA8B,cAAA,WAC/BD,EAAA7B,QAAA8B,cAAC7C,EAAAsK,IAAD,KACI1H,EAAA7B,QAAA8B,cAAA,aAIJD,EAAA7B,QAAA8B,cAAC7C,EAAAsK,IAAD,KACA1H,EAAA7B,QAAA8B,cAAC7C,EAAAwK,KAAIC,GAAI,IACL7H,EAAA7B,QAAA8B,cAAC0lB,EAAAxnB,SACG8C,GAAIpD,KAAKyB,MAAM2B,GACfG,QAASvD,KAAKmB,MAAMoC,QACpBG,eAAgB1D,KAAKmB,MAAMuC,eAC3BhE,oBAAqBM,KAAKyB,MAAM/B,oBAChCG,kBAAmBG,KAAKyB,MAAM5B,kBAC9BwD,QAASrD,KAAKmB,MAAMkC,QACpBG,WAAYxD,KAAKyB,MAAM+B,WACvBI,QAAS5D,KAAKmB,MAAMyC,QACpBC,MAAO7D,KAAKmB,MAAM0C,MAClBC,UAAW9D,KAAKmB,MAAM2C,UACtBC,QAAS/D,KAAKmB,MAAM4C,QACpBC,cAAiBhE,KAAKgE,kBAK9B7B,EAAA7B,QAAA8B,cAAC7C,EAAAsK,KAAI7G,OAAQ8G,OAAS,QAASF,QAAW,WACtCzH,EAAA7B,QAAA8B,cAAC7C,EAAAwK,KAAIC,GAAI,EAAGc,SAAU,EAAGZ,GAAI,EAAGa,SAAU,EAAGd,GAAI,EAAGe,SAAU,EAAGhI,OAASiI,UAAa,QAAQb,aAAgB,IAC3GjI,EAAA7B,QAAA8B,cAAC7C,EAAA2L,QAAOL,QAAS7K,KAAK0lB,iBAAmBva,OAAO,WAAhD,SAKXnL,KAAKyB,MAAM+jB,eAAiBrjB,EAAA7B,QAAA8B,cAAC7C,EAAAsK,IAAD,KACzB1H,EAAA7B,QAAA8B,cAAC7C,EAAAwK,KAAIe,SAAU,GAAId,GAAI,EAAGhH,OAASiI,UAAa,UAC5C9I,EAAA7B,QAAA8B,cAAC7C,EAAA2L,QAAOL,QAAS7K,KAAKmB,MAAMuC,eAAgBV,OAASuI,aAAgB,MAAOoB,YAAe,QAAUxB,OAAO,WAA5G,SAGJhJ,EAAA7B,QAAA8B,cAAC+K,EAAA4a,gBAADC,KAAqBvgB,GAAc0e,UAAWnmB,KAAKyB,MAAM0kB,uBAK7E9Y,EAAoB5N,UAAYA,EAChC4N,EAAoB1K,cAChBS,GAAI,GACJC,QAAS,IACTE,QAAS,6BAEE8J,uZCjefhO,EAAA,SACAA,EAAA,IACAC,EAAAD,EAAA,UACAE,EAAAF,EAAA,QACAA,EAAA,MAOAA,EAAA,KAEA,IAAAG,EAAAH,EAAA,MACAA,EAAA,uVAEA,IAAMI,GACFkF,aAAchF,UAAUsoB,MACxBva,SAAU/N,UAAUC,OACpB+N,QAAShO,UAAUC,OACnBgD,IAAKjD,UAAUC,OACfkO,gBAAiBnO,UAAUC,OAC3B+J,UAAWhK,UAAUC,OACrB0D,aAAc3D,UAAUC,OACxB2D,QAAS5D,UAAUC,OACnBgO,KAAMjO,UAAUC,OAChBsoB,QAASvoB,UAAUwoB,OACnBta,MAAOlO,UAAUyoB,KACjBtkB,UAAWnE,UAAUgE,KACrBI,QAASpE,UAAUgE,KACnBC,QAASjE,UAAUgE,KACnBE,MAAOlE,UAAUgE,MAGf8J,cACF,SAAAA,IAAc,IAAA1N,EAAAC,kGAAAC,CAAAD,KAAAyN,GAAA,IAAAvN,mKAAAC,CAAAH,MAAAyN,EAAArN,YAAA,EAAAC,EAAAC,SAAAmN,IAAAlN,KAAAP,OAAA,OAAAE,EAsBdmoB,WAtBc5nB,EAAAC,EAAAJ,QAAAK,KAsBD,SAAAC,IAAA,IAAAC,EAAA8D,EAAAkJ,EAAAjK,EAAAC,EAAAC,EAAAC,EAAAukB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1iB,EAAAG,EAAAwiB,EAAArD,EAAA,OAAA7kB,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAL,EACyDX,EAAKiB,MAAjEwD,EADG9D,EACH8D,aAAckJ,EADXhN,EACWgN,MAAOjK,EADlB/C,EACkB+C,QAASC,EAD3BhD,EAC2BgD,MAAOC,EADlCjD,EACkCiD,UAAWC,EAD7ClD,EAC6CkD,SACnD7D,EAAKiB,MAAM0nB,SAAS1nB,MAAMmI,SAFpB,CAAAtI,EAAAE,KAAA,eAAAF,EAAAglB,OAAA,sBAMLnY,GAASlJ,EAAaqC,QAAU,GAN3B,CAAAhG,EAAAE,KAAA,eAOL6C,GAAWA,GACPgC,KAAM,EACNC,kBATChF,EAAAglB,OAAA,sBAeLrhB,EAAaqC,OAAS,GAfjB,CAAAhG,EAAAE,KAAA,cAiBDyD,EAAa,GAAG2J,UAAY,GAjB3B,CAAAtN,EAAAE,KAAA,gBAkBD6C,GAAWA,GACPgC,KAAM,EACNC,qBApBHhF,EAAAglB,OAAA,yBAyBLpiB,GAAWA,IAzBN5C,EAAAE,KAAA,IA2BwC,EAAA1B,EAAA+S,2BACzC7E,SAAUxN,EAAKiB,MAAMuM,SACrBC,QAASzN,EAAKiB,MAAMwM,UA7BnB,WAAA2a,EAAAtnB,EAAAK,KAAAknB,EAAAD,EA2BC/mB,KAAQinB,EA3BTD,EA2BSC,SAASC,EA3BlBF,EA2BkBE,WAITlnB,MAAuB,MAAhBknB,EAAUlnB,KA/B1B,CAAAP,EAAAE,KAAA,gBAgCD6C,GAAWA,GACPgC,KAAM,EACNC,mBAlCHhF,EAAAglB,OAAA,qBAuCU,WAAXwC,EAvCC,CAAAxnB,EAAAE,KAAA,gBAyCGwnB,GACA9lB,IAAO1C,EAAKiB,MAAMyB,IAClB4L,kBAAqBia,EAAUlnB,KAAKunB,SACpCC,YAAepkB,GAGnBzE,EAAKoB,UACDkN,kBAAmBia,EAAUlnB,KAAKunB,WAhDrC9nB,EAAAE,KAAA,IAmDkB,EAAA1B,EAAAqT,UAAS6V,GAnD3B,QAmDG5hB,EAnDH9F,EAAAK,KAsDW,YAFR4E,EAAOa,EAAOvF,KAAKinB,UAEI1hB,EAAOvF,KAAKknB,UAAUlnB,KAAKuL,WAGnC,eAAR7G,GAEPlC,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUnM,EAAOvF,KAAKgkB,UAAY,WAL3CzhB,GAAaA,IASbgD,EAAOvF,KAAKknB,UAAUlnB,MAAiD,GAAzCuF,EAAOvF,KAAKknB,UAAUlnB,KAAKuL,YAErDhG,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,oBAAsBliB,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBAAmBhiB,OAAS,IAExGnD,GAASA,IACLuC,EAAMU,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBAAmBC,OAAQ,SAACC,GAAS,OAAQA,EAAK1lB,WAAW2lB,gBAElGjpB,EAAKoB,UACD8nB,aAAa,EACbC,aAAaviB,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBAAmB,GAAGxlB,WAAWqJ,aACzEyc,YAAaljB,EACboM,IAAK7N,EACL4kB,YACIC,iBAAiB,EAAArC,EAAA7mB,SAAW8F,EAAK,SAAAghB,GAAA,OAAQ/hB,WAAY+hB,EAAEhkB,GAAI+D,aAAcigB,EAAExb,KAAMwG,uBA9EhGpR,EAAAE,KAAA,iBAmFiB,eAAXsnB,IAA0BI,EACL9hB,OAAdye,EADmBqD,EAC3BrnB,KAAQgkB,QAEdxhB,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUsS,IAAY,YAxF9B,QAAAvkB,EAAAE,KAAA,iBA6FL6C,GAAWA,GACPgC,KAAM,EACNC,iBA/FC,yBAAAhF,EAAAQ,SAAAZ,EAAAb,MAtBCG,EA2HdupB,aAAe,WACXvpB,EAAKoB,UACD8nB,aAAa,EACbC,cAAa,EACbK,eACA1gB,cAhIM9I,EAoIdypB,UAAY,WAER,IAAIxc,EAASjN,EAAKuB,MAAMmoB,aAEpBC,EAAc3pB,EAAKuB,MAAM8nB,WAAWC,gBAAgBM,QAExDD,EAAY1c,GAAZ,cAAsC,EAAAga,EAAA7mB,SAAWJ,EAAKuB,MAAMgD,QAAS,SAAA2iB,GAAA,OAAQhkB,GAAIgkB,EAAEhkB,MACnFlD,EAAKoB,UACDioB,YACIC,gBAAiBK,GAErBplB,cA/IMvE,EAmJd6pB,iBAnJctpB,EAAAC,EAAAJ,QAAAK,KAmJK,SAAAkG,IAAA,IAAAmjB,EAAAlc,EAAAhK,EAAAC,EAAAH,EAAA+hB,EAAAnX,EAAA+a,EAAA/W,EAAAN,EAAAC,EAAA8X,EAAA7jB,EAAAoB,EAAA0iB,EAAA,OAAAxpB,EAAAJ,QAAAS,KAAA,SAAAgG,GAAA,cAAAA,EAAA9F,KAAA8F,EAAA7F,MAAA,UAAA8oB,EAC+C9pB,EAAKiB,MAA7D2M,EADSkc,EACTlc,gBAAiBhK,EADRkmB,EACQlmB,UAAWC,EADnBimB,EACmBjmB,QAASH,EAD5BomB,EAC4BpmB,QAD5BomB,EACqCnmB,MADrC8hB,EAE+DzlB,EAAKuB,MAA7E+M,EAFSmX,EAETnX,kBAAmB+a,EAFV5D,EAEU4D,WAAY/W,EAFtBmT,EAEsBnT,IAAIN,EAF1ByT,EAE0BzT,UAAUC,EAFpCwT,EAEoCxT,aAAa8X,EAFjDtE,EAEiDsE,UAChEzX,EAAIA,EAAI,GACJpM,KACAoB,EALWtH,EAMfgS,EAAUhJ,IAAI,SAAS3E,GACnB6B,EAAIA,EAAI+jB,OAAO5lB,KAEnB2N,EAAU9L,EAEN6jB,EAXW,CAAAljB,EAAA7F,KAAA,gBAYX0C,GAAWA,IACX1D,EAAKoB,UACD2oB,WAAU,IAdHljB,EAAA7F,KAAA,GAgBQ8Q,UAAMC,KAAKnE,GAC1BU,oBACA+a,aACA/W,MACAN,YACAC,iBAED5M,MAAM,SAACV,GAENd,GAAWA,GACPgC,KAAM,EACNC,mBAEJwB,EAAKlG,UACD2oB,WAAU,MA9BP,QAiCgB,YAjBvBnjB,EAhBOC,EAAA1F,MAiCAE,KAAKinB,SACZ1kB,GAAaA,IACb5D,EAAKoB,UACD8nB,aAAa,EACbC,cAAa,EACbK,eACA1gB,WACAihB,WAAU,KAEgB,eAAvBnjB,EAAOvF,KAAKinB,UACnBzkB,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUnM,EAAOvF,KAAKgkB,UAAY,WAE3CrlB,EAAKoB,UACD8nB,aAAa,EACbC,cAAa,EACbK,eACA1gB,WACAihB,WAAU,KApDP,yBAAAljB,EAAAvF,SAAAqF,EAAA9G,MAnJLG,EA4MdkqB,YAAY,WACRlqB,EAAKoB,UAAU6Q,cAAcjS,EAAKuB,MAAM0Q,gBA3MxCjS,EAAKuB,OACDioB,eACAjlB,WACA+J,kBAAmB,GACnB+a,YACIC,oBAEJhX,OACA4W,aAAa,EACbE,eACAD,cAAa,EACbO,aAAc,EACd5gB,WACArE,gBACAuN,aACAC,cAAa,EACb8X,WAAU,GAlBJ/pB,iTADYqC,iDAiNtB,IAAIiF,EAAOxH,KACPqqB,IACA1oB,MAAO,KACPC,UAAW,OACXC,IAAK,OACLC,MAAO,QAGPH,MAAO,KACPC,UAAW,KACXC,IAAK,KACLC,MAAO,QAEPH,MAAO,KACPC,UAAW,IACXC,IAAK,IACLC,MAAO,MACPC,OALD,SAKQC,EAAMC,EAAQC,GAEjB,IAAMkH,GACFzH,MAAO,SACP+F,YACIC,WAAY,SACZC,UAAW,OACXC,WAAY,OACZC,iBAAkB,OAClBC,kBAAmB,QAGvBC,OACIzE,QAAS,2BAGb0E,aACIC,QAAS,sCACTC,mBAAoB,GACpBC,aAAa,0CACbC,QAAQ,mCAEZC,OAAO,EACPC,YACAC,aAAc,YACdC,WAAY,QACZgB,SAAU,yCAEVf,SAAU,SAAUC,GAChBC,QAAQC,IAAIF,IAEhBG,OAAQ,SAAUC,EAAKC,GACnBJ,QAAQC,IAAIE,GACZ,IAAIE,EAAOF,EAAKG,IAAI,SAAAC,GAAA,OAAKA,EAAE/F,KAEvBknB,EAAW9iB,EAAK/F,MAAMuH,QAAQ8gB,QAClCQ,EAASpoB,GAAS8G,EAElB,IAAIuhB,EAAe/iB,EAAK/F,MAAMioB,YAAYI,QAC1CS,EAAaroB,GAAS+G,EAEtB,IAAI4gB,EAAcriB,EAAK/F,MAAM8nB,WAAWC,gBAAgBM,QAExDD,EAAY3nB,GAAZ,cAAqC,EAAAilB,EAAA7mB,SAAWiqB,EAAaroB,GAAQ,SAAAklB,GAAA,OAAQhkB,GAAIgkB,KACjF,IAAIziB,EAAe6C,EAAK/F,MAAMkD,aAC9BA,EAAazC,GAAS6G,EACtBvB,EAAKlG,UACDqD,aAAaA,EACb+kB,YAAaa,EACbvhB,QAASshB,EACTf,YACIC,gBAAiBK,OAMjC,OAAO1nB,EAAA7B,QAAA8B,cAACooB,EAAAlqB,QAA6B8I,MAK7C,OAAQjH,EAAA7B,QAAA8B,cAAA,YACJD,EAAA7B,QAAA8B,cAAA,QAAMyI,QAAS7K,KAAKqoB,YAEZroB,KAAKmB,MAAM0nB,UAGnB1mB,EAAA7B,QAAA8B,cAAC7C,EAAAuM,OACG8B,KAAM5N,KAAKmB,MAAMyM,KACjB7B,KAAM/L,KAAKyB,MAAM2nB,aAAappB,KAAKyB,MAAM4nB,aACzChgB,UAAU,EACVohB,cAAc,EACdze,OAAQhM,KAAKypB,cACbtnB,EAAA7B,QAAA8B,cAAC7C,EAAAuM,MAAMG,QAAOC,aAAA,GACV/J,EAAA7B,QAAA8B,cAAC7C,EAAAuM,MAAMK,MAAP,SAAe,SAElBnM,KAAKyB,MAAM2nB,YAAYjnB,EAAA7B,QAAA8B,cAAC7C,EAAAuM,MAAMM,KAAP,KACpBjK,EAAA7B,QAAA8B,cAAC7C,EAAAiD,OACG6J,OAAQ,SAAApK,GAAA,OAAUA,EAAOmB,IACzB1B,QAAS2oB,EACT9oB,KAAMvB,KAAKyB,MAAM6nB,YACjBoB,QAAUtD,EAAG,OAAQuD,EAAG,QAElB,GACdxoB,EAAA7B,QAAA8B,cAAC7C,EAAAuM,MAAMY,OAAP,KACIvK,EAAA7B,QAAA8B,cAAC7C,EAAA2L,QAAOlI,OAAS2J,YAAe,QAAW9B,QAAS7K,KAAKypB,cAAzD,QACAtnB,EAAA7B,QAAA8B,cAAC7C,EAAA2L,QAAOC,OAAO,UAAWN,QAAS7K,KAAK+pB,kBAAxC,oBAOpBtc,EAAgBhO,UAAYA,EAC5BgO,EAAgB9K,cACZgC,gBACAgJ,QAAS,MACTD,SAAU,QACV9K,IAAK,iCACLkL,gBAAiB,uCACjBnE,UAAW,GACXrG,aAAc,wCACdC,QAAS,UACTqK,KAAM,GACNsa,QAAS,IACTra,OAAO,EACP+c,aAAa,UACbC,eAAe,cACfC,QAAQ,aACRC,QAAQ,qBAEGtd,2YCpXfpO,EAAA,IACAC,EAAAD,EAAA,UACAG,EAAAH,EAAA,uDAEA,IAAMI,GACFkF,aAAchF,UAAUsoB,MACxBrlB,IAAKjD,UAAUC,OACf2B,KAAM5B,UAAUsoB,MAChBte,UAAWhK,UAAUC,OACrBkE,UAAWnE,UAAUgE,KACrBI,QAASpE,UAAUgE,KACnBC,QAASjE,UAAUgE,KACnBE,MAAOlE,UAAUgE,MAGfkM,cACF,SAAAA,IAAc,IAAA9P,EAAAC,kGAAAC,CAAAD,KAAA6P,GAAA,IAAA3P,mKAAAC,CAAAH,MAAA6P,EAAAzP,YAAA,EAAAC,EAAAC,SAAAuP,IAAAtP,KAAAP,OAAA,OAAAE,EAMdmoB,wSANc5nB,CAAAC,EAAAJ,QAAAK,KAMD,SAAAC,IAAA,IAAAC,EAAA8D,EAAAf,EAAAE,EAAAC,EAAAinB,EAAA1C,EAAAC,EAAAE,EAAA,OAAA/nB,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAL,EACkDX,EAAKiB,MAA1DwD,EADG9D,EACH8D,aAAcf,EADX/C,EACW+C,QADX/C,EACoBgD,MAAOC,EAD3BjD,EAC2BiD,UAAWC,EADtClD,EACsCkD,SAC5C7D,EAAKiB,MAAM0nB,SAAS1nB,MAAMmI,SAFpB,CAAAtI,EAAAE,KAAA,eAAAF,EAAAglB,OAAA,oBAKLgF,OAGArmB,EAAaqC,QAAU,GARlB,CAAAhG,EAAAE,KAAA,eASL6C,GAAWA,GACPgC,KAAM,EACNC,kBAXChF,EAAAglB,OAAA,sBAiBLrhB,EAAaqC,OAAS,GAjBjB,CAAAhG,EAAAE,KAAA,SAkB2B,GAA5ByD,EAAa,GAAG2J,UAA6C,MAA5B3J,EAAa,GAAG2J,SACjD0c,EAAYrkB,MAAOvD,GAAIuB,EAAa,GAAGvB,KAEvCW,GAAWA,GACPgC,KAAM,EACNC,mBAvBHhF,EAAAE,KAAA,wBA6BL6C,GAAWA,GACPgC,KAAM,EACNC,kBA/BChF,EAAAglB,OAAA,uBAmCLgF,EAAYhkB,OAAS,GAnChB,CAAAhG,EAAAE,KAAA,gBAoCL0C,GAAWA,IApCN5C,EAAAE,KAAA,IAqCwC,EAAA1B,EAAAwT,UAAS9S,EAAKiB,MAAMyB,IAAKooB,GArCjE,QAAA1C,EAAAtnB,EAAAK,KAAAknB,EAAAD,EAqCC/mB,KArCDgnB,EAqCSC,SAASC,EArClBF,EAqCkBE,WACTlnB,KAAV,SAAuD,WAA1BknB,EAAUlnB,KAAKinB,QAC5C1kB,GAAaA,IAEbC,GAAWA,GACPgC,KAAM,EACNC,IAAKyiB,EAAUlnB,KAAKgkB,UA3CvB,yBAAAvkB,EAAAQ,SAAAZ,EAAAb,MANCG,iTADYqC,iDAwDtB,OAAQJ,EAAA7B,QAAA8B,cAAA,QAAMyI,QAAS7K,KAAKqoB,YAEpBroB,KAAKmB,MAAM0nB,mBAK3BhZ,EAAgBpQ,UAAYA,EAC5BoQ,EAAgBlN,cACZgC,gBACA/B,IAAK,mCACLrB,QACAoI,UAAW,cAEAkG,uZCrFfxQ,EAAA,SACAA,EAAA,IACAC,EAAAD,EAAA,UACAE,EAAAF,EAAA,QACAA,EAAA,MACAG,EAAAH,EAAA,MACAA,EAAA,uVACA,IAAMI,GACFkF,aAAchF,UAAUsoB,MACxBva,SAAU/N,UAAUC,OACpB+N,QAAShO,UAAUC,OACnBgD,IAAKjD,UAAUC,OACfkO,gBAAiBnO,UAAUC,OAC3B+J,UAAWhK,UAAUC,OACrB0D,aAAc3D,UAAUC,OACxB2D,QAAS5D,UAAUC,OACnBsoB,QAASvoB,UAAUwoB,OACnBrkB,UAAWnE,UAAUgE,KACrBI,QAASpE,UAAUgE,KACnBC,QAASjE,UAAUgE,KACnBE,MAAOlE,UAAUgE,MAGf4J,cACF,SAAAA,IAAc,IAAAxN,EAAAC,kGAAAC,CAAAD,KAAAuN,GAAA,IAAArN,mKAAAC,CAAAH,MAAAuN,EAAAnN,YAAA,EAAAC,EAAAC,SAAAiN,IAAAhN,KAAAP,OAAA,OAAAE,EA2BdmoB,WA3Bc5nB,EAAAC,EAAAJ,QAAAK,KA2BD,SAAAC,IAAA,IAAAC,EAAA8D,EAAAf,EAAAC,EAAAC,EAAAC,EAAAukB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA1iB,EAAA2iB,EAAArD,EAAA,OAAA7kB,EAAAJ,QAAAS,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAL,EACkDX,EAAKiB,MAA1DwD,EADG9D,EACH8D,aAAcf,EADX/C,EACW+C,QAASC,EADpBhD,EACoBgD,MAAOC,EAD3BjD,EAC2BiD,UAAWC,EADtClD,EACsCkD,UAE3CY,EAAaqC,QAAU,GAHlB,CAAAhG,EAAAE,KAAA,eAIL6C,GAAWA,GACPgC,KAAM,EACNC,kBANChF,EAAAglB,OAAA,sBAYLrhB,EAAaqC,OAAS,GAZjB,CAAAhG,EAAAE,KAAA,cAcDyD,EAAa,GAAG2J,UAAY,GAd3B,CAAAtN,EAAAE,KAAA,eAeD6C,GAAWA,GACPgC,KAAM,EACNC,qBAjBHhF,EAAAglB,OAAA,wBAsBLpiB,GAAWA,IAtBN5C,EAAAE,KAAA,IAwBwC,EAAA1B,EAAA+S,2BACzC7E,SAAUxN,EAAKiB,MAAMuM,SACrBC,QAASzN,EAAKiB,MAAMwM,UA1BnB,WAAA2a,EAAAtnB,EAAAK,KAAAknB,EAAAD,EAwBC/mB,KAAQinB,EAxBTD,EAwBSC,QAASC,EAxBlBF,EAwBkBE,UAKR,WAAXD,EA7BC,CAAAxnB,EAAAE,KAAA,gBA+BGwnB,GACA9lB,IAAO1C,EAAKiB,MAAMyB,IAClB4L,kBAAqBia,EAAUlnB,KAAKunB,SACpCC,YAAepkB,GAGnBzE,EAAKoB,UACDkN,kBAAmBia,EAAUlnB,KAAKunB,WAtCrC9nB,EAAAE,KAAA,IAyCkB,EAAA1B,EAAAqT,UAAS6V,GAzC3B,QAyCG5hB,EAzCH9F,EAAAK,KA4CW,YAFR4E,EAAOa,EAAOvF,KAAKinB,eAEmD,IAAzC1hB,EAAOvF,KAAKknB,UAAUlnB,KAAKuL,WAExDhJ,GAAaA,IACE,eAARmC,GAEPlC,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUnM,EAAOvF,KAAKgkB,UAAY,WAIF,GAAzCze,EAAOvF,KAAKknB,UAAUlnB,KAAKuL,YAEvBhG,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,oBAAsBliB,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBAAmBhiB,OAAS,IAExGnD,GAASA,IAET3D,EAAKoB,UACD8nB,aAAa,EACbE,YAAaxiB,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBACxCxW,IAAK7N,EAAa,GAClB4kB,YACIC,iBAAiB,EAAArC,EAAA7mB,SAAWwG,EAAOvF,KAAKknB,UAAUlnB,KAAKynB,mBAAoB,SAAA5B,GAAA,OAAQ/hB,WAAY+hB,EAAEhkB,GAAI+D,aAAcigB,EAAExb,KAAMwG,uBAlE1IpR,EAAAE,KAAA,iBAuEiB,eAAXsnB,IAA0BI,EACL9hB,OAAdye,EADmBqD,EAC3BrnB,KAAQgkB,QAEdxhB,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUsS,IAAY,YA5E9B,QAAAvkB,EAAAE,KAAA,iBAiFL6C,GAAWA,GACPgC,KAAM,EACNC,iBAnFC,yBAAAhF,EAAAQ,SAAAZ,EAAAb,MA3BCG,EAoHdupB,aAAe,WACXvpB,EAAKoB,UACD8nB,aAAa,EACbM,eACA1gB,cAxHM9I,EA4HdypB,UAAY,WAER,IAAIxc,EAASjN,EAAKuB,MAAMmoB,aAEpBC,EAAc3pB,EAAKuB,MAAM8nB,WAAWC,gBAAgBM,QAExDD,EAAY1c,GAAZ,cAAsC,EAAAga,EAAA7mB,SAAWJ,EAAKuB,MAAMgD,QAAS,SAAA2iB,GAAA,OAAQhkB,GAAIgkB,EAAEhkB,MACnFlD,EAAKoB,UACDioB,YACIC,gBAAiBK,GAErBplB,cAvIMvE,EA2Id6pB,iBA3IctpB,EAAAC,EAAAJ,QAAAK,KA2IK,SAAAkG,IAAA,IAAAmjB,EAAAlc,EAAAhK,EAAAC,EAAAH,EAAA+hB,EAAAnX,EAAA+a,EAAA/W,EAAA1L,EAAA,OAAApG,EAAAJ,QAAAS,KAAA,SAAAgG,GAAA,cAAAA,EAAA9F,KAAA8F,EAAA7F,MAAA,cAAA8oB,EAC+C9pB,EAAKiB,MAA7D2M,EADSkc,EACTlc,gBAAiBhK,EADRkmB,EACQlmB,UAAWC,EADnBimB,EACmBjmB,QAASH,EAD5BomB,EAC4BpmB,QAD5BomB,EACqCnmB,MADrC8hB,EAE8BzlB,EAAKuB,MAA5C+M,EAFSmX,EAETnX,kBAAmB+a,EAFV5D,EAEU4D,WAAY/W,EAFtBmT,EAEsBnT,IAErC5O,GAAWA,IAJImD,EAAA7F,KAAA,EAKI8Q,UAAMC,KAAKnE,GAC1BU,oBACA+a,aACA/W,QACDjN,MAAM,SAACV,GACNd,GAAWA,GACPgC,KAAM,EACNC,qBAZO,OAeY,YAVvBc,EALWC,EAAA1F,MAeJE,KAAKinB,SACZ1kB,GAAaA,IACb5D,EAAKoB,UACD8nB,aAAa,EACbM,eACA1gB,cAE0B,eAAvBlC,EAAOvF,KAAKinB,UACnBzkB,GAAWA,GACPgC,KAAM,EACNC,KAAK,EAAAxG,EAAAyT,WAAUnM,EAAOvF,KAAKgkB,UAAY,WAE3CrlB,EAAKoB,UACD8nB,aAAa,EACbM,eACA1gB,cA9BO,wBAAAjC,EAAAvF,SAAAqF,EAAA9G,MAzIfG,EAAKuB,OACDioB,eACAjlB,WACA+J,kBAAmB,GACnB+a,YACIC,oBAEJhX,OACA4W,aAAa,EACbE,cACMlmB,GAAM,sBAAuBwI,KAAQ,IAAK7F,KAAQ,aAClD3C,GAAM,sBAAuBwI,KAAQ,IAAK7F,KAAQ,aAClD3C,GAAM,sBAAuBwI,KAAQ,IAAK7F,KAAQ,aAClD3C,GAAM,sBAAuBwI,KAAQ,IAAK7F,KAAQ,aAClD3C,GAAM,sBAAuBwI,KAAQ,IAAK7F,KAAQ,aAClD3C,GAAM,wBAAyBwI,KAAQ,IAAK7F,KAAQ,aACpD3C,GAAM,uBAAwBwI,KAAQ,IAAK7F,KAAQ,aACnD3C,GAAM,wBAAyBwI,KAAQ,IAAK7F,KAAQ,aACpD3C,GAAM,wBAAyBwI,KAAQ,IAAK7F,KAAQ,aAE1D6jB,aAAc,EACd5gB,YAvBM9I,iTADUqC,iDA+KpB,IAAIiF,EAAOxH,KACPqqB,IACA1oB,MAAO,KACPC,UAAW,OACXC,IAAK,OACLC,MAAO,QAGPH,MAAO,KACPC,UAAW,KACXC,IAAK,KACLC,MAAO,QAEPH,MAAO,KACPC,UAAW,IACXC,IAAK,IACLC,MAAO,MACPC,OALD,SAKQC,EAAMC,EAAQC,GACjB,IAAMkH,GACEzH,MAAO,OACP0H,UAAU,EACVC,UAAU,EACVC,UAAU,EACVC,YAAY,EACZxB,OACIzE,QAAQ,mBAEZ0E,aACIG,aAAa,sCACbC,QAAQ,+BAEZoB,SAAU,qCACVC,UAAW,oCACXjB,WAAY,QACZD,aAAc,YACdM,OAAO,SAACC,EAAMC,GACV,IAAIC,EAAOF,EAAKG,IAAI,SAAAC,GAAA,OAAKA,EAAE/F,KAEvBknB,EAAW9iB,EAAK/F,MAAMuH,QAAQ8gB,QAClCQ,EAASpoB,GAAS8G,EAElB,IAAIuhB,EAAe/iB,EAAK/F,MAAMioB,YAAYI,QAC1CS,EAAaroB,GAAS+G,EAEtB,IAAI4gB,EAAcriB,EAAK/F,MAAM8nB,WAAWC,gBAAgBM,QAExDD,EAAY3nB,GAAZ,cAAqC,EAAAilB,EAAA7mB,SAAWiqB,EAAaroB,GAAQ,SAAAklB,GAAA,OAAQhkB,GAAIgkB,KACjF5f,EAAKlG,UACDooB,YAAaa,EACbvhB,QAASshB,EACTf,YACIC,gBAAiBK,OAIzC,OAAQ1nB,EAAA7B,QAAA8B,cAACooB,EAAAlqB,QAA+B8I,MA0C5C,OAAQjH,EAAA7B,QAAA8B,cAAC7C,EAAAiD,OACLyoB,SAAS,EACTP,QAAUC,EAAG3qB,KAAKmB,MAAM+mB,SACxBxlB,UAAW,kBAAOP,EAAA7B,QAAA8B,cAAA,qBAClBiK,OAAQ,SAAApK,GAAA,OAAUA,EAAOmB,IACzB1B,QAAS2oB,EACT9oB,KAAMvB,KAAKyB,MAAM6nB,uBAI7B/b,EAAc9N,UAAYA,EAC1B8N,EAAc5K,cACVgC,gBACAgJ,QAAS,MACTD,SAAU,QACV9K,IAAK,iCACLkL,gBAAiB,uCACjBnE,UAAW,GACXrG,aAAc,wCACdC,QAAS,UACT2kB,QAAS,eAEE3a","file":"js/main.dee27721.bundle.js","sourcesContent":["/**\n * bpm流程数据历史表格\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Table } from 'tinper-bee';\nimport { descriptionToText, sendBpmTaskAJAX, timestampToDate } from './common';\nconst propTypes = {\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string\n\n};\n\nclass BpmTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: []\n        };\n        this.columns = [\n            {\n                title: \"任务ID\",\n                dataIndex: \"id\",\n                key: \"id\",\n                width: \"30%\"\n            },\n            {\n                title: \"任务名称\",\n                dataIndex: \"name\",\n                key: \"name\"\n            },\n            {\n                title: \"任务类型\",\n                dataIndex: \"description\",\n                key: \"description\",\n                render: (text, record, index) => {\n                    return <div>{descriptionToText(text)}</div>\n                }\n            },\n            {\n                title: \"执行者\",\n                dataIndex: \"executionId\",\n                key: \"executionId\"\n            },\n            {\n                title: \"开始时间\",\n                dataIndex: \"startTime\",\n                key: \"startTime\",\n                render: (text, record, index) => {\n                    return <div>{timestampToDate(text)}</div>\n                }\n            },\n            {\n                title: \"结束时间\",\n                dataIndex: \"endTime\",\n                key: \"endTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            },\n            {\n                title: \"审批意见\",\n                dataIndex: \"deleteReason\",\n                key: \"deleteReason\"\n            },\n            {\n                title: \"超时时间\",\n                dataIndex: \"claimTime\",\n                key: \"claimTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let { processDefinitionId, processInstanceId } = this.props;\n        let hisTasklistData = await sendBpmTaskAJAX('hisTasklist', {\n            processDefinitionId,\n            processInstanceId\n        });\n        this.setState({\n            data: hisTasklistData.data.data\n        });\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有流程历史数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n        />);\n    }\n}\nBpmTable.propTypes = propTypes;\nBpmTable.defaultProps = {\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\nexport default BpmTable;\n","/**\n * bpm流程图组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nconst propTypes = {\n    url: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string\n};\n\nclass BpmFlowChart extends Component {\n    render() {\n        let { processDefinitionId, processInstanceId, width, height, url } = this.props;\n        return (\n            <div>\n                <iframe\n                    style={{ width, height, \"minHeight\": \"300px\" }}\n                    src={`${url}?processDefinitionId=${processDefinitionId}&processInstanceId=${processInstanceId}`}\n                    frameBorder=\"0\"\n                >\n                </iframe>\n            </div>\n        );\n    }\n}\nBpmFlowChart.propTypes = propTypes;\nBpmFlowChart.defaultProps = {\n    url: \"/eiap-plus/vendor/diagram-viewer/index.html\",\n    width: \"99%\",\n    height: \"300px\",\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\n\nexport default BpmFlowChart;","/**\n * bpm流程任务审批组件\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Col, Message, Modal, Radio, Row, Table,FormControl} from 'tinper-bee';\nimport Select from 'bee-select';\nimport { approvetypeToText, sendBpmTaskAJAX } from './common';\nimport refOptions from './refOptions';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nconst propTypes = {\n    id: PropTypes.string,\n    appType: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    properties:PropTypes.object,\n    onBpmFlowClick: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onChangestate:PropTypes.func\n};\n\nclass BpmTaskApproval extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            approvetype: \"agree\",\n            comment: \"审批同意\",\n            processDefinitionId: props.processDefinitionId,\n            processInstanceId: props.processInstanceId,\n            taskId: props.id,\n            activityId: \"\",\n            activityName:\"\",\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: [],\n            userIds: [],\n            userId: [],\n            userName:[],\n            checkedArray:[],\n            HuoDongID: \"\",//新版活动ID\n            HuoDongName: \"\"//新版活动名字\n        }\n        //驳回到环节的Modal-Table\n        this.rejectToActivityCol = [{\n            title: \"活动编码\",\n            dataIndex: \"activityId\",\n            key: \"activityId\",\n            width: \"40%\"\n        },\n        {\n            title: \"活动名称\",\n            dataIndex: \"activityName\",\n            key: \"activityName\",\n            width: \"30%\"\n        }]\n    }\n    componentWillMount = () => {\n        //通过billID获得processDefinitionId,processInstanceId\n        // let pID = await billidToIds('f39234a2-ed92-473f-b7c1-45f71559facb');\n    }\n    componentDidMount = () => {\n        //传入类型是弃审，那么直接设置2\n        if (this.props.appType == \"2\") {\n            this.setState({\n                approvetype: \"withdraw\",\n                comment: approvetypeToText(\"withdraw\")\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        }\n    }\n\n    //选择审批的类型\n    handleChange = (value) => {\n        this.setState({\n            approvetype: value,\n            comment: approvetypeToText(value) ,\n            userName:\"\",\n            userIds: [],\n            userId: [],\n            checkedArray:[]\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //绑定审批意见\n    handlerCommentChange = (e) => {\n        this.setState({ comment: e.target.value },()=>{\n            this.props.onChangestate(this.state);\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //审批提交\n\n    //通用关闭方法\n    activityModalClose = () => {\n        this.setState({\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: []\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //驳回到环节的最终提交\n    rejectToActivityOK = async () => {\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        onStart && onStart();\n        let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n            activityId: this.state.activityId,\n            approvetype: this.state.approvetype,\n            comment: this.state.comment,\n            processInstanceId: this.state.processInstanceId,\n            taskId: this.state.taskId\n        }).catch((e) => {\n            Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top',duration:15 });\n            onError && onError({\n                type: 2,\n                msg: `服务器请求错误`\n            });\n        });\n\n        if (rejectToBillMakerMsg.data.flag == 'success') {\n            onSuccess && onSuccess();\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n            this.setState({\n                rejectToActivityShow: false,\n                rejectlist: [],\n                selectedRow: []\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        } else {\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: rejectToBillMakerMsg.data.msg\n            });\n        }\n    }\n    //流程图函数调用\n    handlerFlow = () => {\n        let onBpmFlowClick = this.props.onBpmFlowClick;\n        onBpmFlowClick && onBpmFlowClick();\n    }\n    getDataSource=()=>{\n        let arr =[{\n            key: \"同意\",\n            value: \"agree\"\n        }];\n        let { addsignAble,rejectAble ,delegateAble,unagreeable ,deleteable} = this.props.properties\n        if(unagreeable)arr.push({key: \"不同意\", value: \"unagree\"})\n        if(rejectAble)arr.push({key: \"驳回到环节\", value: \"rejectToActivity\"})\n        if(deleteable)arr.push({key: \"驳回到制单人\", value: \"rejectToBillMaker\"})\n        if(addsignAble)arr.push({key: \"加签\", value: \"signAdd\"})\n        if(delegateAble)arr.push({key: \"改派\", value: \"delegate\"})\n        return arr\n    }\n    rejectToActivity= async ()=>{\n        let { onError } = this.props;\n        let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n        if (result.data.flag == 'success'&& result.data.rejectlist.length>0) {\n            this.setState({\n                rejectlist: result.data.rejectlist,\n                selectedRow: new Array(result.data.rejectlist.length),\n                rejectToActivityShow: true\n            });\n        } else {\n            Message.create({ content: result.data.msg||'当前环节为首环节，没有可以驳回的环节', color: 'warning', position: 'top' ,style: { animation:'none'}});\n            onError && onError({\n                type: 2,\n                msg: result.data.msg||'当前环节为首环节，没有可以驳回的环节'\n            });\n        }\n    }\n    render() {\n        let self = this;\n    const assignOption = {\n        title: '加签人员选择',\n        textOption: {\n            modalTitle: '选择加签人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        param: {//url请求参数\n            refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n            // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n        },\n        refModelUrl: {\n            treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n            tableBodyUrlSearch: '',\n            tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n        },\n        jsonp: false,\n        hearders: {},\n        displayField: '{refname}',//显示内容的键\n        valueField: 'refpk',//真实 value 的键\n        onCancel: function (p) {\n            console.log(p)\n        },\n        onSave: function (sels,showVal) {\n\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n    const option = {\n        title: '改派人员选择',\n        backdrop: true,\n        disabled: false,\n        multiple: false,\n        strictMode: true,\n        jsonp: false,\n        param:{//url请求参数\n            refCode:'new_relatedUser'\n        },\n        refModelUrl:{\n            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n        },\n        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n        filterUrl: '/wbalone/common-ref/filterRefJSON',\n        valueField: \"refpk\",\n        displayField: \"{refname}\",\n        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n\n        return (\n            <div className=\"clearfix\">\n                <div style={{ \"padding\": \"0px\" }}>\n                    {this.props.appType == \"1\" && <div>\n                        <Row style={{\n                            \"margin\":\"8px 0\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={2}  sm={2} xs={3} style={{\"paddingLeft\":0,\"paddingRight\":'15px'}}>\n                                <Select\n                                    style={{ width: '100%' }}\n                                    placeholder=\"请选择\"\n                                    onChange={self.handleChange}\n                                    defaultValue=\"agree\"\n                                    data={self.getDataSource()}\n                                />\n                            </Col>\n                                <Col md={3} xs={3} sm={3} style={{\"paddingLeft\":0}}>\n                                    {this.state.approvetype===\"signAdd\" && <RefTreeTransferWithInput  { ...assignOption} />}\n                                    {this.state.approvetype===\"delegate\" &&<RefMultipleTableWithInput  {...option} />}\n                                    {this.state.approvetype===\"rejectToActivity\" &&<FormControl\n                                        readOnly={true}\n                                        placeholder={'请选择环节'}\n                                        value={this.state.activityName}\n                                        onClick={this.rejectToActivity}\n                                        onChange={this.onChange} />}{/*驳回*/}\n                                </Col>\n                            <Col md={4} mdOffset={3} xs={4} xsOffset={2} sm={4} smOffset={3} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                                {/*{this.props.appType == \"1\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"1\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入处理意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                    {this.props.appType == \"2\" && <div>\n                        <Row style={{\n                            \"height\": \"46px\",\n                            \"lineHeight\": \"46px\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={8}>\n                                <Radio.RadioGroup\n                                    name=\"approvetype\"\n                                    selectedValue={this.state.approvetype}\n                                    onChange={this.handleChange}>\n                                    <Radio value=\"withdraw\">弃审</Radio>\n                                </Radio.RadioGroup>\n                            </Col>\n                            <Col md={4} style={{ \"textAlign\": \"right\" }}>\n                                {/*{this.props.appType == \"2\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"2\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入弃审意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                </div>\n                <Modal\n                    show={this.state.rejectToActivityShow}\n                    backdrop={false}\n                    onHide={this.activityModalClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title> 活动列表 </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Table\n                            rowKey={(r) => r.activityId}\n                            emptyText={() => (<div>暂无数据</div>)}\n                            rowClassName={(record, index, indent) => {\n                                if (this.state.selectedRow[index]) {\n                                    return 'selected';\n                                } else {\n                                    return '';\n                                }\n                            }}\n                            onRowClick={(record, index, indent) => {\n                                let selectedRow = new Array(this.state.rejectlist.length);\n                                selectedRow[index] = true;\n                                this.setState({\n                                    activityId: record.activityId,\n                                    activityName:record.activityName,\n                                    selectedRow: selectedRow\n                                },()=>{\n                                    this.props.onChangestate(this.state);\n                                });\n                            }}\n                            columns={this.rejectToActivityCol} data={this.state.rejectlist} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button colors=\"primary\" style={{ \"marginRight\": \"10px\" }} onClick={this.activityModalClose}> 确定 </Button>\n                        <Button onClick={this.activityModalClose}> 关闭 </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\nBpmTaskApproval.propTypes = propTypes;\nBpmTaskApproval.defaultProps = {\n    appType: \"1\",\n    refCode: \"newuser\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    properties:{\n        addSignAble:true, //可否加签\n        iscopytouser:true, //可否抄送\n        rejectAble:true, //可否驳回\n        delegateAble:true, //可否改派\n        unagreeable:true, //可否不同意\n        assignAble:true, //可否指派\n        deleteable:true //可否驳回制单人\n    }\n}\n\nexport default BpmTaskApproval;\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Demo from './demo';\n\nReactDOM.render(<Demo />, document.querySelector(\"#app\"));","import React, { Component } from 'react';\nimport { Button } from 'tinper-bee';\nimport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign\n} from './index';\n\nimport 'tinper-bee/assets/tinper-bee.css';\n// import './index.less';\n\nclass Demo extends Component {\n    constructor() {\n        super();\n        this.state = {\n\n        }\n    }\n    render() {\n        return (\n            <div>\n                <BpmTaskApprovalWrap\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                    appType=\"1\"\n                    id=\"5062f7d0c69e4a28b9e5a424a8ad57cb\"\n                />\n                <BpmLinkAssign />\n                <BpmFlowChart\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}/>\n\n                <BpmTable\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}\n                />\n\n                <BpmTestCheckTable />\n\n                <BpmButtonSubmit\n                    funccode=\"masterdetail-one\"\n                    nodekey=\"purchaseOrder\"\n                    size=\"lg\"\n                    isOne={true}\n                    url={`/iuap-pap-demo-be/purchase_order/submit`}\n                    urlAssignSubmit={`/iuap-pap-demo-be/purchase_order/assignSubmit`}\n                    checkedArray={\n                        [{\"id\":\"5062f7d0c69e4a28b9e5a424a8ad57cb\",\"createTime\":\"2019-06-20 12:57:38 838\",\"createUser\":\"U001\",\"lastModified\":\"2019-06-20 12:57:38 838\",\"lastModifyUser\":\"U001\",\"ts\":\"2019-06-20 12:57:38 838\",\"newTs\":\"2019-06-20 15:57:27 301\",\"dr\":0,\"bpmState\":0,\"taskKey\":null,\"taskId\":null,\"processInstanceId\":null,\"processDefineCode\":null,\"comment\":null,\"bpmStateEnumValue\":\"待确认\",\"orderUser\":\"U001\",\"orderType\":1,\"orderTypeEnumValue\":\"普通采购\",\"orderDeptName\":\"开发部\",\"orderDept\":\"1a0b3fc7-2032-42ac-b13f-80dedb5934fe\",\"orderCode\":\"B220190620001\",\"orderPrice\":2,\"orderDate\":\"2019-06-20\",\"orderUserName\":\"系统管理员\",\"orderName\":\"aa\",\"tenantid\":\"tenant\",\"orderName2\":null,\"orderName3\":null,\"orderName4\":null,\"orderName5\":null,\"orderName6\":null,\"bpmBillCode\":\"201906201557274\",\"mainBoCode\":\"PURCHASE_ORDER\"}]\n                        }\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-up'></i>提交\n                    </Button>\n                </BpmButtonSubmit>\n\n                <BpmButtonRecall\n                    url={`/iuap_pap_quickstart/example_workorder/recall`}\n                    checkedArray={\n                        [\n                            {\n                                \"id\": \"ccb34c6d3fc349789be73678d7cc8fac\",\n                                \"createTime\": \"2018-07-04 12:36:26 088\",\n                                \"createUser\": \"U001\",\n                                \"lastModified\": \"2018-07-04 12:36:26 088\",\n                                \"lastModifyUser\": \"U001\",\n                                \"ts\": \"2018-07-04 12:36:26 088\",\n                                \"dr\": 0,\n                                \"bpmState\": 1,\n                                \"taskKey\": null,\n                                \"taskId\": null,\n                                \"processInstanceId\": null,\n                                \"processDefineCode\": null,\n                                \"comment\": null,\n                                \"orderCode\": \"201807042036265\",\n                                \"orderName\": null,\n                                \"supplier\": null,\n                                \"supplierName\": \"11\",\n                                \"type\": \"0\",\n                                \"purchasing\": \"22\",\n                                \"purchasingGroup\": \"22\",\n                                \"voucherDate\": 1530633600000,\n                                \"approvalState\": null,\n                                \"confirmState\": null,\n                                \"closeState\": null,\n                                \"type_name\": \"投诉工单\",\n                                \"approvalState_name\": null,\n                                \"confirmState_name\": null,\n                                \"closeState_name\": null,\n                                \"remark\": null,\n                                \"bpmBillCode\": null\n                            }\n                        ]\n                    }\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-down'></i>收回\n                    </Button>\n                </BpmButtonRecall>\n            </div>\n        );\n    }\n}\n\nexport default Demo;\n","import BpmTable from './BpmTable';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport BpmTestCheckTable from './BpmTestCheckTable';\nimport BpmWrap from './BpmWrap';\nimport BpmTaskApprovalWrap from './BpmTaskApprovalWrap';\nimport BpmButtonSubmit from './BpmButtonSubmit';\nimport BpmButtonRecall from './BpmButtonRecall';\nimport BpmLinkAssign from './BpmLinkAssign';\n\n\n\nexport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign,\n\n}","/**\n * 核心功能函数处理类\n */\n\nimport axios from 'axios';\nimport { Message } from 'tinper-bee';\n\n/**\n * 后端时间戳转换正常日期时间\n * @param {*} _stamp 时间戳\n * @param {*} formatStr 日期格式\n */\nexport const timestampToDate = (_stamp, formatStr = 'yyyy-MM-dd  hh:mm:ss') => {\n    let unixTimestamp = new Date(_stamp);\n    {\n        var str = formatStr;\n        var Week = ['日', '一', '二', '三', '四', '五', '六'];\n\n        str = str.replace(/yyyy|YYYY/, unixTimestamp.getFullYear());\n        str = str.replace(/yy|YY/, (unixTimestamp.getYear() % 100) > 9 ? (unixTimestamp.getYear() % 100).toString() : '0' + (unixTimestamp.getYear() % 100));\n        var month = unixTimestamp.getMonth() + 1;\n        str = str.replace(/MM/, month > 9 ? month.toString() : '0' + month);\n        str = str.replace(/M/g, month);\n\n        str = str.replace(/w|W/g, Week[unixTimestamp.getDay()]);\n\n        str = str.replace(/dd|DD/, unixTimestamp.getDate() > 9 ? unixTimestamp.getDate().toString() : '0' + unixTimestamp.getDate());\n        str = str.replace(/d|D/g, unixTimestamp.getDate());\n\n        str = str.replace(/hh|HH/, unixTimestamp.getHours() > 9 ? unixTimestamp.getHours().toString() : '0' + unixTimestamp.getHours());\n        str = str.replace(/h|H/g, unixTimestamp.getHours());\n        str = str.replace(/mm/, unixTimestamp.getMinutes() > 9 ? unixTimestamp.getMinutes().toString() : '0' + unixTimestamp.getMinutes());\n        str = str.replace(/m/g, unixTimestamp.getMinutes());\n\n        str = str.replace(/ss|SS/, unixTimestamp.getSeconds() > 9 ? unixTimestamp.getSeconds().toString() : '0' + unixTimestamp.getSeconds());\n        str = str.replace(/s|S/g, unixTimestamp.getSeconds());\n        return str;\n    }\n}\n\n/**\n * 流程历史表格描述转换\n */\nexport const descriptionToText = (vApproveType) => {\n    if (vApproveType == 'submit') {\n        return '提交';\n    }\n    if (vApproveType == 'agree') {\n        return '审批';\n    }\n    if (vApproveType == 'unagree') {\n        return '不同意';\n    }\n    if (vApproveType == 'reject') {\n        return '驳回';\n    }\n    if (vApproveType == 'signAdd') {\n        return '加签';\n    }\n    if (vApproveType == 'signAdding') {\n        return '加签中';\n    }\n    if (vApproveType == 'delegate') {\n        return '改派';\n    }\n    if (vApproveType == 'termination') {\n        return '终止';\n    }\n    if (vApproveType == 'withdraw') {\n        return '删除';\n    }\n    if (vApproveType == 'postCompleted') {\n        return '审批';\n    }\n}\n\n/**\n * 获得处理URL\n */\nexport const getBpmTaskURL = (type, root = \"/eiap-plus/\") => {\n    switch (type) {\n        case 'agree':\n            return root + 'task/completetask/approveCard';\n        case 'unagree':\n            return root + 'task/completetask/approveCard';\n        case 'rejectToActivity':\n            return root + 'task/rejecttask/bfreject';\n        case 'rejectToBillMaker':\n            return root + 'task/rejecttask/reject';\n        case 'signAdd':\n            return root + 'task/assignee/getlist';\n        case 'delegate':\n            return root + 'task/assignee/getlist';\n        case 'withdraw':\n            return root + 'task/withdrawtask/withdraw';\n        case 'hisTasklist':\n            return root + 'process/hisTasklist';\n        case 'commit':\n            return root + 'task/assigntask/commit';\n        case 'signaddtask':\n            return root + 'task/signaddtask/signadd';\n        case 'delegatetask':\n            return root + 'task/delegatetask/delegate';\n        default:\n            return \"/\"\n            break;\n    }\n}\n\n/**\n * 发送异步\n */\nexport const sendBpmTaskAJAX = (type, data) => {\n    switch (type) {\n        case 'agree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'unagree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToActivity':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToBillMaker':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signAdd':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegate':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'withdraw':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'hisTasklist':\n            return axios.post(getBpmTaskURL(type), {\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'commit':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                activityName: data.activityName,\n                comment: data.comment,\n                taskId: data.taskId,\n                approvetype: data.approvetype,\n                processInstanceId: data.processInstanceId,\n                participants: data.participants\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signaddtask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userIds: data.userIds,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegatetask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userId: data.userId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n\n        default:\n            break;\n    }\n    return axios.post(getBpmTaskURL(type), data).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    })\n}\n\n/**\n * 通过billID获得流程图参数\n */\nexport const billidToIds = (billId) => {\n    return axios.post('/eiap-plus/process/getbillbpm', {\n        billId\n    });\n}\n/**\n * 查询数据\n */\nexport const queryBpmTemplateAllocate = (obj) => {\n    return axios.get(`/eiap-plus/appResAllocate/queryBpmTemplateAllocate?_=${Math.random()}`, {\n        params: {\n            funccode: obj.funccode,\n            nodekey: obj.nodekey\n        }\n    });\n}\n/**\n * 提交流程\n */\nexport const onCommit = (data) => {\n    return axios({\n        url: `${data.url}`,\n        method: \"post\",\n        data: data['submitArray'],\n        params: { \"processDefineCode\": data['processDefineCode'] }\n    });\n}\n/**\n * 收回流程\n */\nexport const onRecall = (url, data) => {\n    return axios({\n        url: `${url}`,\n        method: \"post\",\n        data: data\n    });\n}\n\n/**\n * 审批状态类型返回默认审批文案\n */\nexport const approvetypeToText = (type) => {\n    switch (type) {\n        case 'agree':\n            return '审批同意';\n        case 'unagree':\n            return '审批不同意';\n        case 'rejectToActivity':\n            return '驳回到环节';\n        case 'rejectToBillMaker':\n            return '驳回到制单人';\n        case 'signAdd':\n            return '加签';\n        case 'delegate':\n            return '改派';\n        case 'withdraw':\n            return '弃审';\n        default:\n            break;\n    }\n}\n\n/**\n * Unicode编码转换\n */\nexport const reconvert = (str) => {\n    str = str.replace(/(\\\\u)(\\w{1,4})/gi, function ($0) {\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\w{1,4})/g, \"$2\")), 16)));\n    });\n    str = str.replace(/(&#x)(\\w{1,4});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\w{1,4})(%3B)/g, \"$2\"), 16));\n    });\n    str = str.replace(/(&#)(\\d{1,6});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\d{1,6})(%3B)/g, \"$2\")));\n    });\n\n    return str;\n}","var map = {\n\t\"./af\": 250,\n\t\"./af.js\": 250,\n\t\"./ar\": 251,\n\t\"./ar-dz\": 252,\n\t\"./ar-dz.js\": 252,\n\t\"./ar-kw\": 253,\n\t\"./ar-kw.js\": 253,\n\t\"./ar-ly\": 254,\n\t\"./ar-ly.js\": 254,\n\t\"./ar-ma\": 255,\n\t\"./ar-ma.js\": 255,\n\t\"./ar-sa\": 256,\n\t\"./ar-sa.js\": 256,\n\t\"./ar-tn\": 257,\n\t\"./ar-tn.js\": 257,\n\t\"./ar.js\": 251,\n\t\"./az\": 258,\n\t\"./az.js\": 258,\n\t\"./be\": 259,\n\t\"./be.js\": 259,\n\t\"./bg\": 260,\n\t\"./bg.js\": 260,\n\t\"./bm\": 261,\n\t\"./bm.js\": 261,\n\t\"./bn\": 262,\n\t\"./bn.js\": 262,\n\t\"./bo\": 263,\n\t\"./bo.js\": 263,\n\t\"./br\": 264,\n\t\"./br.js\": 264,\n\t\"./bs\": 265,\n\t\"./bs.js\": 265,\n\t\"./ca\": 266,\n\t\"./ca.js\": 266,\n\t\"./cs\": 267,\n\t\"./cs.js\": 267,\n\t\"./cv\": 268,\n\t\"./cv.js\": 268,\n\t\"./cy\": 269,\n\t\"./cy.js\": 269,\n\t\"./da\": 270,\n\t\"./da.js\": 270,\n\t\"./de\": 271,\n\t\"./de-at\": 272,\n\t\"./de-at.js\": 272,\n\t\"./de-ch\": 273,\n\t\"./de-ch.js\": 273,\n\t\"./de.js\": 271,\n\t\"./dv\": 274,\n\t\"./dv.js\": 274,\n\t\"./el\": 275,\n\t\"./el.js\": 275,\n\t\"./en-SG\": 276,\n\t\"./en-SG.js\": 276,\n\t\"./en-au\": 277,\n\t\"./en-au.js\": 277,\n\t\"./en-ca\": 278,\n\t\"./en-ca.js\": 278,\n\t\"./en-gb\": 150,\n\t\"./en-gb.js\": 150,\n\t\"./en-ie\": 279,\n\t\"./en-ie.js\": 279,\n\t\"./en-il\": 280,\n\t\"./en-il.js\": 280,\n\t\"./en-nz\": 281,\n\t\"./en-nz.js\": 281,\n\t\"./eo\": 282,\n\t\"./eo.js\": 282,\n\t\"./es\": 283,\n\t\"./es-do\": 284,\n\t\"./es-do.js\": 284,\n\t\"./es-us\": 285,\n\t\"./es-us.js\": 285,\n\t\"./es.js\": 283,\n\t\"./et\": 286,\n\t\"./et.js\": 286,\n\t\"./eu\": 287,\n\t\"./eu.js\": 287,\n\t\"./fa\": 288,\n\t\"./fa.js\": 288,\n\t\"./fi\": 289,\n\t\"./fi.js\": 289,\n\t\"./fo\": 290,\n\t\"./fo.js\": 290,\n\t\"./fr\": 291,\n\t\"./fr-ca\": 292,\n\t\"./fr-ca.js\": 292,\n\t\"./fr-ch\": 293,\n\t\"./fr-ch.js\": 293,\n\t\"./fr.js\": 291,\n\t\"./fy\": 294,\n\t\"./fy.js\": 294,\n\t\"./ga\": 295,\n\t\"./ga.js\": 295,\n\t\"./gd\": 296,\n\t\"./gd.js\": 296,\n\t\"./gl\": 297,\n\t\"./gl.js\": 297,\n\t\"./gom-latn\": 298,\n\t\"./gom-latn.js\": 298,\n\t\"./gu\": 299,\n\t\"./gu.js\": 299,\n\t\"./he\": 300,\n\t\"./he.js\": 300,\n\t\"./hi\": 301,\n\t\"./hi.js\": 301,\n\t\"./hr\": 302,\n\t\"./hr.js\": 302,\n\t\"./hu\": 303,\n\t\"./hu.js\": 303,\n\t\"./hy-am\": 304,\n\t\"./hy-am.js\": 304,\n\t\"./id\": 305,\n\t\"./id.js\": 305,\n\t\"./is\": 306,\n\t\"./is.js\": 306,\n\t\"./it\": 307,\n\t\"./it-ch\": 308,\n\t\"./it-ch.js\": 308,\n\t\"./it.js\": 307,\n\t\"./ja\": 309,\n\t\"./ja.js\": 309,\n\t\"./jv\": 310,\n\t\"./jv.js\": 310,\n\t\"./ka\": 311,\n\t\"./ka.js\": 311,\n\t\"./kk\": 312,\n\t\"./kk.js\": 312,\n\t\"./km\": 313,\n\t\"./km.js\": 313,\n\t\"./kn\": 314,\n\t\"./kn.js\": 314,\n\t\"./ko\": 315,\n\t\"./ko.js\": 315,\n\t\"./ku\": 316,\n\t\"./ku.js\": 316,\n\t\"./ky\": 317,\n\t\"./ky.js\": 317,\n\t\"./lb\": 318,\n\t\"./lb.js\": 318,\n\t\"./lo\": 319,\n\t\"./lo.js\": 319,\n\t\"./lt\": 320,\n\t\"./lt.js\": 320,\n\t\"./lv\": 321,\n\t\"./lv.js\": 321,\n\t\"./me\": 322,\n\t\"./me.js\": 322,\n\t\"./mi\": 323,\n\t\"./mi.js\": 323,\n\t\"./mk\": 324,\n\t\"./mk.js\": 324,\n\t\"./ml\": 325,\n\t\"./ml.js\": 325,\n\t\"./mn\": 326,\n\t\"./mn.js\": 326,\n\t\"./mr\": 327,\n\t\"./mr.js\": 327,\n\t\"./ms\": 328,\n\t\"./ms-my\": 329,\n\t\"./ms-my.js\": 329,\n\t\"./ms.js\": 328,\n\t\"./mt\": 330,\n\t\"./mt.js\": 330,\n\t\"./my\": 331,\n\t\"./my.js\": 331,\n\t\"./nb\": 332,\n\t\"./nb.js\": 332,\n\t\"./ne\": 333,\n\t\"./ne.js\": 333,\n\t\"./nl\": 334,\n\t\"./nl-be\": 335,\n\t\"./nl-be.js\": 335,\n\t\"./nl.js\": 334,\n\t\"./nn\": 336,\n\t\"./nn.js\": 336,\n\t\"./pa-in\": 337,\n\t\"./pa-in.js\": 337,\n\t\"./pl\": 338,\n\t\"./pl.js\": 338,\n\t\"./pt\": 339,\n\t\"./pt-br\": 340,\n\t\"./pt-br.js\": 340,\n\t\"./pt.js\": 339,\n\t\"./ro\": 341,\n\t\"./ro.js\": 341,\n\t\"./ru\": 342,\n\t\"./ru.js\": 342,\n\t\"./sd\": 343,\n\t\"./sd.js\": 343,\n\t\"./se\": 344,\n\t\"./se.js\": 344,\n\t\"./si\": 345,\n\t\"./si.js\": 345,\n\t\"./sk\": 346,\n\t\"./sk.js\": 346,\n\t\"./sl\": 347,\n\t\"./sl.js\": 347,\n\t\"./sq\": 348,\n\t\"./sq.js\": 348,\n\t\"./sr\": 349,\n\t\"./sr-cyrl\": 350,\n\t\"./sr-cyrl.js\": 350,\n\t\"./sr.js\": 349,\n\t\"./ss\": 351,\n\t\"./ss.js\": 351,\n\t\"./sv\": 352,\n\t\"./sv.js\": 352,\n\t\"./sw\": 353,\n\t\"./sw.js\": 353,\n\t\"./ta\": 354,\n\t\"./ta.js\": 354,\n\t\"./te\": 355,\n\t\"./te.js\": 355,\n\t\"./tet\": 356,\n\t\"./tet.js\": 356,\n\t\"./tg\": 357,\n\t\"./tg.js\": 357,\n\t\"./th\": 358,\n\t\"./th.js\": 358,\n\t\"./tl-ph\": 359,\n\t\"./tl-ph.js\": 359,\n\t\"./tlh\": 360,\n\t\"./tlh.js\": 360,\n\t\"./tr\": 361,\n\t\"./tr.js\": 361,\n\t\"./tzl\": 362,\n\t\"./tzl.js\": 362,\n\t\"./tzm\": 363,\n\t\"./tzm-latn\": 364,\n\t\"./tzm-latn.js\": 364,\n\t\"./tzm.js\": 363,\n\t\"./ug-cn\": 365,\n\t\"./ug-cn.js\": 365,\n\t\"./uk\": 366,\n\t\"./uk.js\": 366,\n\t\"./ur\": 367,\n\t\"./ur.js\": 367,\n\t\"./uz\": 368,\n\t\"./uz-latn\": 369,\n\t\"./uz-latn.js\": 369,\n\t\"./uz.js\": 368,\n\t\"./vi\": 370,\n\t\"./vi.js\": 370,\n\t\"./x-pseudo\": 371,\n\t\"./x-pseudo.js\": 371,\n\t\"./yo\": 372,\n\t\"./yo.js\": 372,\n\t\"./zh-cn\": 98,\n\t\"./zh-cn.js\": 98,\n\t\"./zh-hk\": 373,\n\t\"./zh-hk.js\": 373,\n\t\"./zh-tw\": 374,\n\t\"./zh-tw.js\": 374\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 690;","let option = {\n    title: '复杂表格参照',\n    backdrop: true,\n    disabled: false,\n    multiple: false,\n    strictMode: true,\n    param:{//url请求参数\n        refCode:'new_relatedUser'\n    },\n    refModelUrl:{\n        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n    },\n    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n    filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n    valueField: \"refpk\",\n    displayField: \"{refname}\",\n    fliterColumn: [{\n        dataIndex: \"code\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"name\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"level\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"dropdown\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    }]\n};\n\n\nexport default JSON.stringify(option)\n","/**\n * 模拟任务中心测试组件\n */\n\nimport React, { Component } from 'react';\nimport { Table, Row, Col, Button } from 'tinper-bee';\nimport axios from 'axios';\n\nclass BpmTestCheckTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            factoryValue: {}\n        };\n        this.columns = [\n            {\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\",\n                width: \"30%\"\n            },\n            {\n                title: \"ID\",\n                dataIndex: \"id\",\n                key: \"id\"\n            },\n            {\n                title: \"processDefinitionId\",\n                dataIndex: \"processDefinitionId\",\n                key: \"processDefinitionId\"\n            },\n            {\n                title: \"processInstanceId\",\n                dataIndex: \"processInstanceId\",\n                key: \"processInstanceId\"\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let hisTasklist = `eiap-plus/process/undoTasklist`;\n        let hisTasklistData = await axios.post(hisTasklist, { \"draw\": 1, \"length\": 10, \"order\": {}, \"search\": { \"search_EQ_code\": \"\", \"undefined\": \"\", \"processDefinitionName\": \"\", \"billno\": \"\" }, \"searchconfirm\": {} });\n        if (Array.isArray(hisTasklistData.data.data)) {\n            this.setState({\n                data: hisTasklistData.data.data\n            });\n        }\n\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n            title={() => <Button colors=\"primary\" onClick={() => {\n                //document.location.hash = `#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                document.location.hash = `#/bdm/bpmapproval?id=${this.state.factoryValue.id}&processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                //window.open(`http://127.0.0.1:3000/#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`);\n            }}>任务中心打开审批</Button>}\n            onRowClick={(record, index, indent) => {\n                this.setState({\n                    factoryValue: record\n                });\n            }}\n        />);\n    }\n}\n\nexport default BpmTestCheckTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row } from 'tinper-bee';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTable from './BpmTable';\nimport { billidToIds } from './common';\n\n\nconst propTypes = {\n    id: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n\n}\nclass BpmWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            processDefinitionId: \"\",\n            processInstanceId: \"\"\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            let { processDefinitionId, processInstanceId } = pID.data;\n            this.setState({\n                processDefinitionId,\n                processInstanceId\n            });\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId\n            });\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmFlowChart\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmTable\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\nBpmWrap.propTypes = propTypes;\nBpmWrap.defaultProps = {\n    id: \"\"\n}\nexport default BpmWrap;\n","/**\n * 审批逻辑组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row, Button ,Message} from 'tinper-bee';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport { billidToIds } from './common';\nimport refOptions from './refOptions';\nimport  { RefTreeTransfer} from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n\nimport { sendBpmTaskAJAX } from './common';\n\nconst propTypes = {\n    id: PropTypes.string,\n    refCode: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    onBpmFlowClick: PropTypes.func,\n    appType: PropTypes.string,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func\n}\nclass BpmTaskApprovalWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isShowFlowBtn: false,\n            id: \"\",\n            taskId: \"\",\n            processDefinitionId: \"\",\n            processInstanceId: \"\",\n            copyusers:[], //抄送数据\n            intersection:true, //是否交集\n            approvetype:\"agree\",  //审批类型\n            comment:\"审批同意\", //审批内容\n            activityId:\"\",//驳回环节id\n            userIds:[],//加签用户数组\n            userId:\"\",//改派用户\n            showModal:false,\n            properties:{\n                addSignAble:true, //可否加签\n                iscopytouser:true, //可否抄送\n                rejectAble:true, //可否驳回\n                delegateAble:true, //可否改派\n                unagreeable:true, //可否不同意\n                assignAble:true, //可否指派\n                deleteable:true  //可否驳回到制单人\n            }\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            if (pID.data.message && pID.data.message == 'NoBpm') {\n                // console.log('NoBpm');\n                this.setState({\n                    isShowFlowBtn: false\n                });\n            } else if (pID.data.taskId) {\n                let { processDefinitionId, processInstanceId, taskId } = pID.data;\n                //可否加签|可否抄送|可否驳回|可否改派|可否不同意|可否指派\n                let {currentActivity:{ properties:{ addsignAble,iscopytouser,rejectAble ,delegateAble,unagreeable,assignAble ,deleteable}}}= pID.data;\n\n                this.setState({\n                    id: taskId,\n                    taskId:taskId,\n                    properties:{\n                        addsignAble,iscopytouser,rejectAble,delegateAble,unagreeable,assignAble,deleteable\n                    },\n                    processDefinitionId,\n                    processInstanceId,\n                });\n            } else {\n                this.setState({\n                    isShowFlowBtn: true\n                });\n            }\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId,\n                id: this.props.id\n            });\n        }\n    }\n    //提交\n    handlerSubmitBtn =  async()=>{\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        if (this.state.comment == \"\") {\n            Message.create({ content: '审批意见不能为空', color: 'danger', position: 'top' });\n            return;\n        }\n        onStart && onStart();\n        //检测需要二次请求并弹出Modal审批\n        switch (this.state.approvetype) {\n            case 'agree'://同意\n            case 'unagree'://不同意\n                let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                //普通同意操作，没有后续操作，直接成功\n                if (result.data.flag == 'success') {\n                    Message.create({ content: result.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else if (result.data.flag == 'faile') {\n                    Message.create({ content: result.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: result.data.msg\n                    });\n                }\n                //普通同意操作，有后续操作，有加签人员判断\n                if (result.data.assignAble) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.assignList.length > 0) {\n                        this.setState({\n                            HuoDongID: result.data.assignList[0].activityId,\n                            HuoDongName: result.data.assignList[0].activityName\n                        });\n                    }\n                    // onStart && onStart();\n                    //可以是加签操作，拉取加签请求\n                    onEnd && onEnd();\n\n                    //弹出参照组件\n                    // createModal(options);\n                    this.setState({showModal:true})\n                }\n                break;\n            //驳回到环节\n            case 'rejectToActivity':\n                let {activityId,approvetype,comment,processInstanceId,taskId}=this.state;\n                if(!activityId ||activityId.length ===0){\n                    Message.create({ content: `驳回环节不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `驳回环节不可为空`\n                    });\n                    return\n                }\n                let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n                    activityId: activityId,\n                    approvetype: approvetype,\n                    comment: comment,\n                    processInstanceId: processInstanceId,\n                    taskId: taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求错误`\n                    });\n                });\n\n                if (rejectToBillMakerMsg.data.flag == 'success') {\n                    onSuccess && onSuccess();\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n                    this.setState({\n                        rejectToActivityShow: false,\n                        rejectlist: [],\n                        selectedRow: []\n                    });\n                } else {\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectToBillMakerMsg.data.msg\n                    });\n                }\n                break;\n            //加签\n            case 'signAdd':\n                onStart && onStart();\n                //TO DO:重构URL\n                if(!this.state.userIds ||this.state.userIds.length ===0){\n                    Message.create({ content: `加签人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `加签人员不可为空`\n                    });\n                    return\n                }\n                //执行最终加签操作\n                let signAddMsg = await sendBpmTaskAJAX('signaddtask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userIds: this.state.userIds,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //判断加签最终是否成功\n                if (signAddMsg.data.flag == 'success') {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: signAddMsg.data.msg\n                    });\n                }\n                break;\n            //改派\n            case 'delegate':\n                onStart && onStart();\n                if(!this.state.userId ||this.state.userId.length ===0){\n                    Message.create({ content: `改派人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `改派人员不可为空`\n                    });\n                    return\n                }\n                //TO DO:重构URL\n                let delegateMsg = await sendBpmTaskAJAX('delegatetask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userId: this.state.userId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //处理后续的操作\n                if (delegateMsg.data.flag === 'success') {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: delegateMsg.data.msg\n                    });\n                }\n                break;\n            //弃审\n            case 'withdraw':\n                let res = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                if (res.data.flag === 'success') {\n                    Message.create({ content: res.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: res.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: res.data.msg\n                    });\n                }\n                break;\n            case 'rejectToBillMaker':\n                let rejectres = await sendBpmTaskAJAX(this.state.approvetype,{\n                    activityId: 'markerbill',\n                    approvetype: this.state.approvetype,\n                    comment:this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                });\n                if (rejectres.data.flag === 'success') {\n                    Message.create({ content: rejectres.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: rejectres.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectres.data.msg\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    onChangestate =(s)=>{  //审批面板选择的数据\n           //审批类型       审批消息  任务ID  驳回活动id   加签数据  改派\n        let { approvetype, comment,taskId, activityId, userIds, userId} =s;\n        this.setState({\n            approvetype, comment,taskId, activityId, userIds, userId\n        });\n    var options = Object.assign(JSON.parse(refOptions), {\n        title: '指派人员选择',\n        backdrop: false,\n        hasPage: true,\n        refType: 5,//1:树形 2.单表 3.树卡型 4.多选 5.default\n        isRadio: false,\n        className: '',\n        param: {//url请求参数\n            refCode: this.props.refCode,\n            tenantId: '',\n            sysId: '',\n            transmitParam: 'EXAMPLE_CONTACTS,EXAMPLE_ORGANIZATION',\n        },\n        //选择中的数据\n        checkedArray:[],\n        textOption: {\n            modalTitle: '选择指派人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        onCancel: function (p) {\n            console.log(p)\n        },\n        //保存回调sels选中的行数据showVal显示的字\n        onSave: async (sels, showVal) => {//showVal=\"12;13;管理员\"\n        //回调\n        onStart && onStart();\n    //同意后续的加签\n    //TO DO:重构URL\n    var agreeeMsg = await sendBpmTaskAJAX('commit', {\n        activityId: this.state.HuoDongID,\n        activityName: this.state.HuoDongName,\n        comment: this.state.comment,\n        taskId: this.state.taskId,\n        approvetype: this.state.approvetype,\n        processInstanceId: this.state.processInstanceId,\n        participants: Array.from(sels, x => ({ \"id\": x.id }))\n}).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    onError && onError({\n        type: 2,\n        msg: `服务器请求出错`\n    });\n});\n    //确认加签后的处理\n    if (agreeeMsg.data.flag == 'success') {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n        this.setState({\n            rejectlist: [],\n            selectedRow: []\n        });\n        onSuccess && onSuccess();\n    } else {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n        onError && onError({\n            type: 2,\n            msg: agreeeMsg.data.msg\n        });\n    }\n},\n    showVal: '',\n        showKey: 'refname',\n        verification: false\n});\n    }\n    render() {\n        const assignOption = {\n            title: '指派人员选择',\n            textOption: {\n                modalTitle: '选择指派人员',\n                leftTitle: '组织结构',\n                rightTitle: '人员列表',\n                leftTransferText: '待选人员',\n                rightTransferText: '已选人员',\n\n            },\n            param: {//url请求参数\n                refCode: 'neworgdeptuser_treegrid ',//test_common||test_grid||test_tree||test_treeTable\n                // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n            },\n            refModelUrl: {\n                treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                tableBodyUrlSearch: '',\n                tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n            },\n            jsonp: true,\n            hearders: {},\n            displayField: '{refname}',//显示内容的键\n            valueField: 'refcode',//真实 value 的键\n            onCancel: function (p) {\n                console.log(p)\n                this.setState({showModal:false})\n            },\n            onSave: async(sels) =>{\n                this.setState({showModal:false})\n\n            onStart && onStart();\n            //同意后续的加签\n            //TO DO:重构URL\n            let agreeeMsg = await sendBpmTaskAJAX('commit', {\n                activityId: this.state.HuoDongID,\n                activityName: this.state.HuoDongName,\n                comment: this.state.comment,\n                taskId: this.state.taskId,\n                approvetype: this.state.approvetype,\n                processInstanceId: this.state.processInstanceId,\n                participants: Array.from(sels, x => ({ \"id\": x.id }))\n            }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: `服务器请求出错`\n                });\n            });\n            //确认加签后的处理\n            if (agreeeMsg.data.flag == 'success') {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n                this.setState({\n                    rejectlist: [],\n                    selectedRow: []\n                });\n                onSuccess && onSuccess();\n            } else {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: agreeeMsg.data.msg\n                });\n            }\n        }\n    }\n        return (\n            <div className=\"clearfix\">\n                {this.state.processDefinitionId && <div>\n                    <Row>\n                        <div>\n\n                        </div>\n                    </Row>\n                    <Row>\n                    <Col md={12}>\n                        <BpmTaskApproval\n                            id={this.state.id}\n                            refCode={this.props.refCode}\n                            onBpmFlowClick={this.props.onBpmFlowClick}\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                            appType={this.props.appType}\n                            properties={this.state.properties}\n                            onStart={this.props.onStart}\n                            onEnd={this.props.onEnd}\n                            onSuccess={this.props.onSuccess}\n                            onError={this.props.onError}\n                            onChangestate = {this.onChangestate}\n                        />\n                    </Col>\n                </Row>\n\n                    <Row style={{\"margin\":\"8px 0\", \"padding\": \"0 10px\"}}>\n                        <Col md={4} mdOffset={8} xs={4} xsOffset={8} sm={4} smOffset={8} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                            <Button onClick={this.handlerSubmitBtn}  colors=\"primary\">提交</Button>\n                        </Col>\n                    </Row>\n\n                </div>}\n                {this.state.isShowFlowBtn && <Row>\n                    <Col mdOffset={11} md={1} style={{ \"textAlign\": \"right\" }}>\n                        <Button onClick={this.props.onBpmFlowClick} style={{ \"marginBottom\": \"4px\", \"marginRight\": \"15px\" }} colors=\"primary\">流程图</Button>\n                    </Col>\n                </Row>}\n                    <RefTreeTransfer {...assignOption} showModal={this.state.showModal}/>\n            </div>\n        );\n    }\n}\nBpmTaskApprovalWrap.propTypes = propTypes;\nBpmTaskApprovalWrap.defaultProps = {\n    id: \"\",\n    appType: \"1\",\n    refCode: \"userUnderOrgRef\"\n}\nexport default BpmTaskApprovalWrap;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table ,Row,Label,Checkbox } from 'tinper-bee';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n// import 'pap-refer/lib/pap-common-treeTransfer/src/index.css';\n// import 'tinper-bee/assets/tinper-bee.css'\n// import 'ref-tree-transfer/lib/index.less';\n// import './tinper-bee-theme.css'\n// import 'pap-refer/dist/index.css'\n// import './index.css'\nimport 'pap-refer/dist/index.css'\n// import './test.css'\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    size: PropTypes.string,\n    scrollY: PropTypes.number,\n    isOne: PropTypes.bool,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonSubmit extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: [],//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [],\n            chaosongShow:false,//抄送显示\n            editRowIndex: 0,\n            showVal: [],\n            checkedArray:[], //指派选择的数据\n            copyusers:[],   //抄送数据\n            intersection:true,  //是否交集\n            submiting:false\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, isOne, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        //检查是否多单据提交\n        if (isOne && checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            if(!detailMsg.data ||detailMsg.data==null){\n                onError && onError({\n                    type: 1,\n                    msg: `当前单据没有绑定流程`\n                });\n                return;\n            }\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (!result.data.detailMsg.data.assignAble)) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data && result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        let arr = result.data.detailMsg.data.assignedActivities.filter( (item)=>{ return !item.properties.startactivity;});\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            chaosongShow:result.data.detailMsg.data.assignedActivities[0].properties.iscopytouser,\n                            huanjieList: arr,\n                            obj: checkedArray,\n                            assignInfo: {\n                                assignInfoItems: Array.from(arr, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            chaosongShow:false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj,copyusers,intersection,submiting } = this.state;\n        obj=obj[0];\n        let arr=[];\n        let self = this;\n        copyusers.map(function(value) {\n            arr=arr.concat(value);\n        });\n        copyusers=arr;\n        //加载事件\n        if(!submiting){\n            onStart && onStart();\n            this.setState({\n                submiting:true\n            })\n            let result = await axios.post(urlAssignSubmit, {\n                processDefineCode,\n                assignInfo,\n                obj,\n                copyusers,\n                intersection\n\n            }).catch((e) => {\n\n                onError && onError({\n                    type: 2,\n                    msg: `后台服务请求发生错误`\n                });\n                self.setState({\n                    submiting:false\n                })\n            });\n            if (result.data.success == 'success') {\n                onSuccess && onSuccess();\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            } else if (result.data.success == 'fail_global') {\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(result.data.message) || '流程启动失败'\n                });\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            }\n        }\n    }\n    changeCheck=()=> {\n        this.setState({intersection:!this.state.intersection});\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"200\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"200\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"200\",\n            render(text, record, index) {\n\n                const option = {\n                    title: '选择指派人员',\n                    textOption: {\n                        modalTitle: '选择指派人员',\n                        leftTitle: '组织结构',\n                        rightTitle: '人员列表',\n                        leftTransferText: '待选人员',\n                        rightTransferText: '已选人员',\n\n                    },\n                    param: {//url请求参数\n                        refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n                        // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n                    },\n                    refModelUrl: {\n                        treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                        tableBodyUrlSearch: '',\n                        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n                    },\n                    jsonp: false,\n                    hearders: {},\n                    displayField: '{refname}',//显示内容的键\n                    valueField: 'refpk',//真实 value 的键\n                    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n                    // filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n                    onCancel: function (p) {\n                        console.log(p)\n                    },\n                    onSave: function (sels,showVal) {\n                        console.log(sels);\n                        var temp = sels.map(v => v.id);\n                        //显示值\n                        let _showVal = self.state.showVal.slice();\n                        _showVal[index] = showVal;\n                        //选中的值\n                        let _childRefKey = self.state.childRefKey.slice();\n                        _childRefKey[index] = temp;\n                        //副本原始对象\n                        let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                        //根据修改索引修改指定数据内容\n                        sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                        let checkedArray = self.state.checkedArray;\n                        checkedArray[index] = sels;\n                        self.setState({\n                            checkedArray:checkedArray,\n                            childRefKey: _childRefKey,\n                            showVal: _showVal,\n                            assignInfo: {\n                                assignInfoItems: sourseArray\n                            }\n                        });\n                    }\n                }\n\n                return <RefTreeTransferWithInput {...option}/>\n            }\n        }]\n\n\n        return (<span>\n            <span onClick={this.handlerBtn}>\n                {\n                    this.props.children\n                }\n            </span>\n            <Modal\n                size={this.props.size}\n                show={this.state.huanjieShow||this.state.chaosongShow}\n                backdrop={false}\n                enforceFocus={false}\n                onHide={this.closeHuanjie}>\n                <Modal.Header closeButton>\n                    <Modal.Title> {'环节指派'}</Modal.Title>\n                </Modal.Header>\n                {this.state.huanjieShow?<Modal.Body>\n                    <Table\n                        rowKey={record => record.id}\n                        columns={huanjieCol}\n                        data={this.state.huanjieList}\n                        scroll={{ x: \"100%\", y: 200 }}\n                    />\n                </Modal.Body>:\"\"}\n                <Modal.Footer>\n                    <Button style={{ \"marginRight\": \"10px\" }}  onClick={this.closeHuanjie}> 关闭 </Button>\n                    <Button colors=\"primary\"  onClick={this.huanjieHandlerOK}> 确定 </Button>\n\n                </Modal.Footer>\n            </Modal>\n        </span>);\n    }\n}\nBpmButtonSubmit.propTypes = propTypes;\nBpmButtonSubmit.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    size: \"\",\n    scrollY: 270,\n    isOne: false,\n    organrefCode:\"newdept\",\n    positonrefCode:\"newposition\",\n    roleRef:\"newRoleRef\",\n    userRef:\"newuser\"\n}\nexport default BpmButtonSubmit;\n","/**\n * bpm 收回流程按钮\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { onRecall } from './common';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    url: PropTypes.string,\n    data: PropTypes.array,\n    className: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonRecall extends Component {\n    constructor() {\n        super();\n    }\n    /**\n     * 收回操作事件\n     */\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        let recallArray = [];\n\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据收回`\n            });\n            return;\n        }\n\n        //操作数据至少有一个\n        if (checkedArray.length > 0) {\n            if (checkedArray[0].bpmState != 0 && checkedArray[0].bpmState != null) {\n                recallArray.push({ id: checkedArray[0].id });\n            } else {\n                onError && onError({\n                    type: 1,\n                    msg: `流程没有启动无法撤回`\n                });\n            }\n\n        } else {\n            // 弹出提示请选择数据\n            onError && onError({\n                type: 1,\n                msg: `请选择单据才能撤回`\n            });\n            return;\n        }\n        if (recallArray.length > 0) {\n            onStart && onStart();\n            let { data: { success, detailMsg } } = await onRecall(this.props.url, recallArray);\n            if (detailMsg.data['success'] && detailMsg.data.success == 'success') {\n                onSuccess && onSuccess();\n            } else {\n                onError && onError({\n                    type: 2,\n                    msg: detailMsg.data.message\n                });\n            }\n        }\n    }\n    render() {\n        return (<span onClick={this.handlerBtn}>\n            {\n                this.props.children\n            }\n        </span>);\n    }\n}\nBpmButtonRecall.propTypes = propTypes;\nBpmButtonRecall.defaultProps = {\n    checkedArray: [],\n    url: \"/example/ygdemo_yw_info/unsubmit\",\n    data: [],\n    className: \"\"\n}\nexport default BpmButtonRecall;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table } from 'tinper-bee';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    scrollY: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmLinkAssign extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: {},//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [\n                { \"id\": \"approveUserTask3283\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3183\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3a83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3s83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask32d3\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3zza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTasqzza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask34za83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTas43zza83\", \"name\": \"1\", \"type\": \"userTask\" }\n            ],\n            editRowIndex: 0,\n            showVal: []\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (typeof result.data.detailMsg.data.assignAble == 'undefined')) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            huanjieList: result.data.detailMsg.data.assignedActivities,\n                            obj: checkedArray[0],\n                            assignInfo: {\n                                assignInfoItems: Array.from(result.data.detailMsg.data.assignedActivities, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj } = this.state;\n        //加载事件\n        onStart && onStart();\n        let result = await axios.post(urlAssignSubmit, {\n            processDefineCode,\n            assignInfo,\n            obj\n        }).catch((e) => {\n            onError && onError({\n                type: 2,\n                msg: `后台服务请求发生错误`\n            });\n        });\n        if (result.data.success == 'success') {\n            onSuccess && onSuccess();\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        } else if (result.data.success == 'fail_global') {\n            onError && onError({\n                type: 2,\n                msg: reconvert(result.data.message) || '流程启动失败'\n            });\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        }\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index){\n                const option = {\n                        title: '人员选择',\n                        backdrop: true,\n                        disabled: false,\n                        multiple: false,\n                        strictMode: true,\n                        param:{//url请求参数\n                            refCode:'new_relatedUser'\n                        },\n                        refModelUrl:{\n                            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n                            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n                        },\n                        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n                        filterUrl: '/wbalone/common-ref/filterRefJSON',\n                        valueField: \"refpk\",\n                        displayField: \"{refname}\",\n                        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n                            var temp = sels.map(v => v.id);\n                            //显示值\n                            let _showVal = self.state.showVal.slice();\n                            _showVal[index] = showVal;\n                            //选中的值\n                            let _childRefKey = self.state.childRefKey.slice();\n                            _childRefKey[index] = temp;\n                            //副本原始对象\n                            let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                            //根据修改索引修改指定数据内容\n                            sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                            self.setState({\n                                childRefKey: _childRefKey,\n                                showVal: _showVal,\n                                assignInfo: {\n                                    assignInfoItems: sourseArray\n                                }})\n                        }}\n\n            return (<RefMultipleTableWithInput  {...option} />)\n\n                // {disabled: false,\n                //     multiple: false,\n                //     strictMode: true,\n                //     param:{//url请求参数\n                //         refCode:'new_relatedUser'\n                //     },\n                //     valueField: \"refpk\",\n                //     displayField: \"{refname}\",\n                //     onCancel: function (p) {\n                //         console.log(p)\n                //     },\n                //     title: '人员选择',\n                //     backdrop: false,\n                //     hasPage: true,\n                //     //保存回调sels选中的行数据showVal显示的字\n                //     onSave: function (sels, showVal) {//showVal=\"12;13;管理员\"\n                //         console.log(sels);\n                //         var temp = sels.map(v => v.id);\n                //         //显示值\n                //         let _showVal = self.state.showVal.slice();\n                //         _showVal[index] = showVal;\n                //         //选中的值\n                //         let _childRefKey = self.state.childRefKey.slice();\n                //         _childRefKey[index] = temp;\n                //         //副本原始对象\n                //         let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                //         //根据修改索引修改指定数据内容\n                //         sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                //         self.setState({\n                //             childRefKey: _childRefKey,\n                //             showVal: _showVal,\n                //             assignInfo: {\n                //                 assignInfoItems: sourseArray\n                //             }\n                //         });\n                //     }\n                // })}\n                // />)\n            }\n        }]\n        return (<Table\n            loading={false}\n            scroll={{ y: this.props.scrollY }}\n            emptyText={() => (<span>暂无环节</span>)}\n            rowKey={record => record.id}\n            columns={huanjieCol}\n            data={this.state.huanjieList}\n        />);\n    }\n}\nBpmLinkAssign.propTypes = propTypes;\nBpmLinkAssign.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    scrollY: 270\n}\nexport default BpmLinkAssign;\n"],"sourceRoot":""}