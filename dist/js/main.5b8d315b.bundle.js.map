{"version":3,"sources":["webpack:///./src/refOptions.js","webpack:///./src/BpmTable.js","webpack:///./src/BpmFlowChart.js","webpack:///./src/BpmTaskApproval.js","webpack:///./src/app.js","webpack:///./src/demo.js","webpack:///./src/index.js","webpack:///./src/common.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/BpmTestCheckTable.js","webpack:///./src/BpmWrap.js","webpack:///./src/BpmTaskApprovalWrap.js","webpack:///./src/BpmButtonSubmit.js","webpack:///./src/BpmButtonRecall.js","webpack:///./src/BpmLinkAssign.js"],"names":["_stringify2","default","title","backdrop","disabled","multiple","strictMode","param","refCode","refModelUrl","tableBodyUrl","refInfo","matchUrl","filterUrl","valueField","displayField","fliterColumn","dataIndex","filterDropdown","filterDropdownType","filterType","filterDropdownIncludeKeys","__webpack_require__","_react","_tinperBee","_common","propTypes","processDefinitionId","PropTypes","string","processInstanceId","BpmTable","_this2","this","_classCallCheck","_this","_possibleConstructorReturn","__proto__","_getPrototypeOf2","call","componentDidMount","_asyncToGenerator","_regenerator2","mark","_callee","_this$props","hisTasklistData","wrap","_context","prev","next","props","sendBpmTaskAJAX","sent","setState","data","stop","state","columns","key","width","render","text","record","index","_react2","createElement","descriptionToText","timestampToDate","Component","Table","bordered","emptyText","defaultProps","url","height","BpmFlowChart","_props","style","minHeight","src","frameBorder","id","appType","filterRefUrl","properties","object","onBpmFlowClick","func","onStart","onEnd","onSuccess","onError","onChangestate","BpmTaskApproval","componentWillMount","approvetype","comment","approvetypeToText","handleChange","value","userName","userIds","userId","checkedArray","handlerCommentChange","e","target","activityModalClose","rejectToActivityShow","rejectlist","selectedRow","rejectToActivityOK","rejectToBillMakerMsg","activityId","taskId","catch","Message","create","content","toString","color","position","duration","type","msg","flag","handlerFlow","getDataSource","arr","_this$props$propertie","addsignAble","rejectAble","delegateAble","unagreeable","deleteable","push","rejectToActivity","_callee2","result","_context2","length","Array","animation","activityName","HuoDongID","HuoDongName","rejectToActivityCol","_this3","self","assignOption","textOption","modalTitle","leftTitle","rightTitle","leftTransferText","rightTransferText","treeUrl","tableBodyUrlSearch","jsonp","hearders","onCancel","p","console","log","onSave","sels","showVal","temp","map","v","option","className","padding","Row","margin","Col","md","sm","xs","paddingLeft","paddingRight","_beeSelect2","placeholder","onChange","defaultValue","_index4","_index2","FormControl","readOnly","onClick","mdOffset","xsOffset","smOffset","textAlign","Button","colors","outline","resize","border","marginBottom","borderRadius","lineHeight","Radio","RadioGroup","name","selectedValue","Modal","show","onHide","Header","closeButton","Title","Body","rowKey","r","rowClassName","indent","onRowClick","Footer","marginRight","addSignAble","iscopytouser","assignAble","ReactDOM","_demo2","document","querySelector","_index","Demo","BpmTaskApprovalWrap","err","BpmLinkAssign","BpmTestCheckTable","BpmButtonSubmit","funccode","nodekey","size","isOne","urlAssignSubmit","createTime","createUser","lastModified","lastModifyUser","ts","newTs","dr","bpmState","taskKey","processDefineCode","bpmStateEnumValue","orderUser","orderType","orderTypeEnumValue","orderDeptName","orderDept","orderCode","orderPrice","orderDate","orderUserName","orderName","tenantid","orderName2","orderName3","orderName4","orderName5","orderName6","bpmBillCode","mainBoCode","shape","BpmButtonRecall","supplier","supplierName","purchasing","purchasingGroup","voucherDate","approvalState","confirmState","closeState","type_name","approvalState_name","confirmState_name","closeState_name","remark","BpmWrap","_stamp","formatStr","arguments","undefined","unixTimestamp","Date","str","replace","getFullYear","getYear","month","getMonth","getDay","getDate","getHours","getMinutes","getSeconds","vApproveType","getBpmTaskURL","root","axios","post","copyusers","intersection","participants","billidToIds","billId","queryBpmTemplateAllocate","obj","get","Math","random","params","onCommit","_axios2","method","onRecall","reconvert","$0","String","fromCharCode","parseInt","escape","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","Error","code","keys","Object","resolve","module","exports","hisTasklist","draw","order","search","search_EQ_code","processDefinitionName","billno","searchconfirm","isArray","factoryValue","location","hash","pID","_pID$data","_BpmFlowChart2","_BpmTable2","_pID$data$currentActi","message","isShowFlowBtn","currentActivity","handlerSubmitBtn","_this$state","signAddMsg","delegateMsg","res","rejectres","abrupt","t0","assignList","showModal","s","_ref3","_callee3","agreeeMsg","_context3","_from2","x","_x","apply","_BpmTaskApproval2","RefTreeTransfer","_extends","array","scrollY","number","bool","handlerBtn","_ref2","_ref2$data","success","detailMsg","commitParam","_result","_result2","children","res_code","submitArray","assignedActivities","filter","item","startactivity","huanjieShow","chaosongShow","huanjieList","assignInfo","assignInfoItems","closeHuanjie","childRefKey","signAddOK","editRowIndex","sourseArray","slice","huanjieHandlerOK","_this$props2","submiting","_result3","concat","changeCheck","huanjieCol","_showVal","_childRefKey","_index3","enforceFocus","scroll","y","organrefCode","positonrefCode","roleRef","userRef","recallArray","loading"],"mappings":"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QAAQ,0BAA2B,gCC9T1F,IAAA3H,GACA+J,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,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","file":"js/main.5b8d315b.bundle.js","sourcesContent":["let option = {\n    title: '复杂表格参照',\n    backdrop: true,\n    disabled: false,\n    multiple: false,\n    strictMode: true,\n    param:{//url请求参数\n        refCode:'new_relatedUser'\n    },\n    refModelUrl:{\n        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n    },\n    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n    filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n    valueField: \"refpk\",\n    displayField: \"{refname}\",\n    fliterColumn: [{\n        dataIndex: \"code\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"name\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"level\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"dropdown\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    }]\n};\n\n\nexport default JSON.stringify(option)\n","/**\n * bpm流程数据历史表格\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Table } from 'tinper-bee';\nimport { descriptionToText, sendBpmTaskAJAX, timestampToDate } from './common';\nconst propTypes = {\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string\n\n};\n\nclass BpmTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: []\n        };\n        this.columns = [\n            {\n                title: \"任务ID\",\n                dataIndex: \"id\",\n                key: \"id\",\n                width: \"30%\"\n            },\n            {\n                title: \"任务名称\",\n                dataIndex: \"name\",\n                key: \"name\"\n            },\n            {\n                title: \"任务类型\",\n                dataIndex: \"description\",\n                key: \"description\",\n                render: (text, record, index) => {\n                    return <div>{descriptionToText(text)}</div>\n                }\n            },\n            {\n                title: \"执行者\",\n                dataIndex: \"executionId\",\n                key: \"executionId\"\n            },\n            {\n                title: \"开始时间\",\n                dataIndex: \"startTime\",\n                key: \"startTime\",\n                render: (text, record, index) => {\n                    return <div>{timestampToDate(text)}</div>\n                }\n            },\n            {\n                title: \"结束时间\",\n                dataIndex: \"endTime\",\n                key: \"endTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            },\n            {\n                title: \"审批意见\",\n                dataIndex: \"deleteReason\",\n                key: \"deleteReason\"\n            },\n            {\n                title: \"超时时间\",\n                dataIndex: \"claimTime\",\n                key: \"claimTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let { processDefinitionId, processInstanceId } = this.props;\n        let hisTasklistData = await sendBpmTaskAJAX('hisTasklist', {\n            processDefinitionId,\n            processInstanceId\n        });\n        this.setState({\n            data: hisTasklistData.data.data\n        });\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有流程历史数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n        />);\n    }\n}\nBpmTable.propTypes = propTypes;\nBpmTable.defaultProps = {\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\nexport default BpmTable;\n","/**\n * bpm流程图组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nconst propTypes = {\n    url: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string\n};\n\nclass BpmFlowChart extends Component {\n    render() {\n        let { processDefinitionId, processInstanceId, width, height, url } = this.props;\n        return (\n            <div>\n                <iframe\n                    style={{ width, height, \"minHeight\": \"300px\" }}\n                    src={`${url}?processDefinitionId=${processDefinitionId}&processInstanceId=${processInstanceId}`}\n                    frameBorder=\"0\"\n                >\n                </iframe>\n            </div>\n        );\n    }\n}\nBpmFlowChart.propTypes = propTypes;\nBpmFlowChart.defaultProps = {\n    url: \"/eiap-plus/vendor/diagram-viewer/index.html\",\n    width: \"99%\",\n    height: \"300px\",\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\n\nexport default BpmFlowChart;","/**\n * bpm流程任务审批组件\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Col, Message, Modal, Radio, Row, Table,FormControl} from 'tinper-bee';\nimport Select from 'bee-select';\nimport { approvetypeToText, sendBpmTaskAJAX } from './common';\nimport refOptions from './refOptions';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nimport 'pap-refer/dist/index.css'\nconst propTypes = {\n    id: PropTypes.string,\n    appType: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    properties:PropTypes.object,\n    onBpmFlowClick: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onChangestate:PropTypes.func\n};\n\nclass BpmTaskApproval extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            approvetype: \"agree\",\n            comment: \"审批同意\",\n            processDefinitionId: props.processDefinitionId,\n            processInstanceId: props.processInstanceId,\n            taskId: props.id,\n            activityId: \"\",\n            activityName:\"\",\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: [],\n            userIds: [],\n            userId: [],\n            userName:[],\n            checkedArray:[],\n            HuoDongID: \"\",//新版活动ID\n            HuoDongName: \"\"//新版活动名字\n        }\n        //驳回到环节的Modal-Table\n        this.rejectToActivityCol = [{\n            title: \"活动编码\",\n            dataIndex: \"activityId\",\n            key: \"activityId\",\n            width: \"40%\"\n        },\n        {\n            title: \"活动名称\",\n            dataIndex: \"activityName\",\n            key: \"activityName\",\n            width: \"30%\"\n        }]\n    }\n    componentWillMount = () => {\n        //通过billID获得processDefinitionId,processInstanceId\n        // let pID = await billidToIds('f39234a2-ed92-473f-b7c1-45f71559facb');\n    }\n    componentDidMount = () => {\n        //传入类型是弃审，那么直接设置2\n        if (this.props.appType == \"2\") {\n            this.setState({\n                approvetype: \"withdraw\",\n                comment: approvetypeToText(\"withdraw\")\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        }\n    }\n\n    //选择审批的类型\n    handleChange = (value) => {\n        this.setState({\n            approvetype: value,\n            comment: approvetypeToText(value) ,\n            userName:\"\",\n            userIds: [],\n            userId: [],\n            checkedArray:[]\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //绑定审批意见\n    handlerCommentChange = (e) => {\n        this.setState({ comment: e.target.value },()=>{\n            this.props.onChangestate(this.state);\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //审批提交\n\n    //通用关闭方法\n    activityModalClose = () => {\n        this.setState({\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: []\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //驳回到环节的最终提交\n    rejectToActivityOK = async () => {\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        onStart && onStart();\n        let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n            activityId: this.state.activityId,\n            approvetype: this.state.approvetype,\n            comment: this.state.comment,\n            processInstanceId: this.state.processInstanceId,\n            taskId: this.state.taskId\n        }).catch((e) => {\n            Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top',duration:15 });\n            onError && onError({\n                type: 2,\n                msg: `服务器请求错误`\n            });\n        });\n\n        if (rejectToBillMakerMsg.data.flag == 'success') {\n            onSuccess && onSuccess();\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n            this.setState({\n                rejectToActivityShow: false,\n                rejectlist: [],\n                selectedRow: []\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        } else {\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: rejectToBillMakerMsg.data.msg\n            });\n        }\n    }\n    //流程图函数调用\n    handlerFlow = () => {\n        let onBpmFlowClick = this.props.onBpmFlowClick;\n        onBpmFlowClick && onBpmFlowClick();\n    }\n    getDataSource=()=>{\n        let arr =[{\n            key: \"同意\",\n            value: \"agree\"\n        }];\n        let { addsignAble,rejectAble ,delegateAble,unagreeable ,deleteable} = this.props.properties\n        if(unagreeable)arr.push({key: \"不同意\", value: \"unagree\"})\n        if(rejectAble)arr.push({key: \"驳回到环节\", value: \"rejectToActivity\"})\n        if(deleteable)arr.push({key: \"驳回到制单人\", value: \"rejectToBillMaker\"})\n        if(addsignAble)arr.push({key: \"加签\", value: \"signAdd\"})\n        if(delegateAble)arr.push({key: \"改派\", value: \"delegate\"})\n        return arr\n    }\n    rejectToActivity= async ()=>{\n        let { onError } = this.props;\n        let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n        if (result.data.flag == 'success'&& result.data.rejectlist.length>0) {\n            this.setState({\n                rejectlist: result.data.rejectlist,\n                selectedRow: new Array(result.data.rejectlist.length),\n                rejectToActivityShow: true\n            });\n        } else {\n            Message.create({ content: result.data.msg||'当前环节为首环节，没有可以驳回的环节', color: 'warning', position: 'top' ,style: { animation:'none'}});\n            onError && onError({\n                type: 2,\n                msg: result.data.msg||'当前环节为首环节，没有可以驳回的环节'\n            });\n        }\n    }\n    render() {\n        let self = this;\n    const assignOption = {\n        title: '加签人员选择',\n        textOption: {\n            modalTitle: '选择加签人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        param: {//url请求参数\n            refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n            // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n        },\n        refModelUrl: {\n            treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n            tableBodyUrlSearch: '',\n            tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n        },\n        jsonp: false,\n        hearders: {},\n        displayField: '{refname}',//显示内容的键\n        valueField: 'refpk',//真实 value 的键\n        onCancel: function (p) {\n            console.log(p)\n        },\n        onSave: function (sels,showVal) {\n\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n    const option = {\n        title: '改派人员选择',\n        backdrop: true,\n        disabled: false,\n        multiple: false,\n        strictMode: true,\n        jsonp: false,\n        param:{//url请求参数\n            refCode:'new_relatedUser'\n        },\n        refModelUrl:{\n            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n        },\n        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n        filterUrl: '/wbalone/common-ref/filterRefJSON',\n        valueField: \"refpk\",\n        displayField: \"{refname}\",\n        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n\n        return (\n            <div className=\"clearfix\">\n                <div style={{ \"padding\": \"0px\" }}>\n                    {this.props.appType == \"1\" && <div>\n                        <Row style={{\n                            \"margin\":\"8px 0\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={2}  sm={2} xs={3} style={{\"paddingLeft\":0,\"paddingRight\":'15px'}}>\n                                <Select\n                                    style={{ width: '100%' }}\n                                    placeholder=\"请选择\"\n                                    onChange={self.handleChange}\n                                    defaultValue=\"agree\"\n                                    data={self.getDataSource()}\n                                />\n                            </Col>\n                                <Col md={3} xs={3} sm={3} style={{\"paddingLeft\":0}}>\n                                    {this.state.approvetype===\"signAdd\" && <RefTreeTransferWithInput  { ...assignOption} />}\n                                    {this.state.approvetype===\"delegate\" &&<RefMultipleTableWithInput  {...option} />}\n                                    {this.state.approvetype===\"rejectToActivity\" &&<FormControl\n                                        readOnly={true}\n                                        placeholder={'请选择环节'}\n                                        value={this.state.activityName}\n                                        onClick={this.rejectToActivity}\n                                        onChange={this.onChange} />}{/*驳回*/}\n                                </Col>\n                            <Col md={4} mdOffset={3} xs={4} xsOffset={2} sm={4} smOffset={3} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                                {/*{this.props.appType == \"1\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"1\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入处理意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                    {this.props.appType == \"2\" && <div>\n                        <Row style={{\n                            \"height\": \"46px\",\n                            \"lineHeight\": \"46px\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={8}>\n                                <Radio.RadioGroup\n                                    name=\"approvetype\"\n                                    selectedValue={this.state.approvetype}\n                                    onChange={this.handleChange}>\n                                    <Radio value=\"withdraw\">弃审</Radio>\n                                </Radio.RadioGroup>\n                            </Col>\n                            <Col md={4} style={{ \"textAlign\": \"right\" }}>\n                                {/*{this.props.appType == \"2\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"2\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入弃审意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                </div>\n                <Modal\n                    show={this.state.rejectToActivityShow}\n                    backdrop={false}\n                    onHide={this.activityModalClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title> 活动列表 </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Table\n                            rowKey={(r) => r.activityId}\n                            emptyText={() => (<div>暂无数据</div>)}\n                            rowClassName={(record, index, indent) => {\n                                if (this.state.selectedRow[index]) {\n                                    return 'selected';\n                                } else {\n                                    return '';\n                                }\n                            }}\n                            onRowClick={(record, index, indent) => {\n                                let selectedRow = new Array(this.state.rejectlist.length);\n                                selectedRow[index] = true;\n                                this.setState({\n                                    activityId: record.activityId,\n                                    activityName:record.activityName,\n                                    selectedRow: selectedRow\n                                },()=>{\n                                    this.props.onChangestate(this.state);\n                                });\n                            }}\n                            columns={this.rejectToActivityCol} data={this.state.rejectlist} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button colors=\"primary\" style={{ \"marginRight\": \"10px\" }} onClick={this.activityModalClose}> 确定 </Button>\n                        <Button onClick={this.activityModalClose}> 关闭 </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\nBpmTaskApproval.propTypes = propTypes;\nBpmTaskApproval.defaultProps = {\n    appType: \"1\",\n    refCode: \"newuser\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    properties:{\n        addSignAble:true, //可否加签\n        iscopytouser:true, //可否抄送\n        rejectAble:true, //可否驳回\n        delegateAble:true, //可否改派\n        unagreeable:true, //可否不同意\n        assignAble:true, //可否指派\n        deleteable:true //可否驳回制单人\n    }\n}\n\nexport default BpmTaskApproval;\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Demo from './demo';\n\nReactDOM.render(<Demo />, document.querySelector(\"#app\"));","import React, { Component } from 'react';\nimport { Button } from 'tinper-bee';\nimport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign\n} from './index';\n\nimport 'tinper-bee/assets/tinper-bee.css';\n// import './index.less';\n\nclass Demo extends Component {\n    constructor() {\n        super();\n        this.state = {\n\n        }\n    }\n    render() {\n        return (\n            <div>\n                <BpmTaskApprovalWrap\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                    appType=\"1\"\n                    id=\"5062f7d0c69e4a28b9e5a424a8ad57cb\"\n                />\n                <BpmLinkAssign />\n                <BpmFlowChart\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}/>\n\n                <BpmTable\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}\n                />\n\n                <BpmTestCheckTable />\n\n                <BpmButtonSubmit\n                    funccode=\"masterdetail-one\"\n                    nodekey=\"purchaseOrder\"\n                    size=\"md\"\n                    isOne={true}\n                    url={`/iuap-pap-demo-be/purchase_order/submit`}\n                    urlAssignSubmit={`/iuap-pap-demo-be/purchase_order/assignSubmit`}\n                    checkedArray={\n                        [{\"id\":\"5062f7d0c69e4a28b9e5a424a8ad57cb\",\"createTime\":\"2019-06-20 12:57:38 838\",\"createUser\":\"U001\",\"lastModified\":\"2019-06-20 12:57:38 838\",\"lastModifyUser\":\"U001\",\"ts\":\"2019-06-20 12:57:38 838\",\"newTs\":\"2019-06-20 15:57:27 301\",\"dr\":0,\"bpmState\":0,\"taskKey\":null,\"taskId\":null,\"processInstanceId\":null,\"processDefineCode\":null,\"comment\":null,\"bpmStateEnumValue\":\"待确认\",\"orderUser\":\"U001\",\"orderType\":1,\"orderTypeEnumValue\":\"普通采购\",\"orderDeptName\":\"开发部\",\"orderDept\":\"1a0b3fc7-2032-42ac-b13f-80dedb5934fe\",\"orderCode\":\"B220190620001\",\"orderPrice\":2,\"orderDate\":\"2019-06-20\",\"orderUserName\":\"系统管理员\",\"orderName\":\"aa\",\"tenantid\":\"tenant\",\"orderName2\":null,\"orderName3\":null,\"orderName4\":null,\"orderName5\":null,\"orderName6\":null,\"bpmBillCode\":\"201906201557274\",\"mainBoCode\":\"PURCHASE_ORDER\"}]\n                        }\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-up'></i>提交\n                    </Button>\n                </BpmButtonSubmit>\n\n                <BpmButtonRecall\n                    url={`/iuap_pap_quickstart/example_workorder/recall`}\n                    checkedArray={\n                        [\n                            {\n                                \"id\": \"ccb34c6d3fc349789be73678d7cc8fac\",\n                                \"createTime\": \"2018-07-04 12:36:26 088\",\n                                \"createUser\": \"U001\",\n                                \"lastModified\": \"2018-07-04 12:36:26 088\",\n                                \"lastModifyUser\": \"U001\",\n                                \"ts\": \"2018-07-04 12:36:26 088\",\n                                \"dr\": 0,\n                                \"bpmState\": 1,\n                                \"taskKey\": null,\n                                \"taskId\": null,\n                                \"processInstanceId\": null,\n                                \"processDefineCode\": null,\n                                \"comment\": null,\n                                \"orderCode\": \"201807042036265\",\n                                \"orderName\": null,\n                                \"supplier\": null,\n                                \"supplierName\": \"11\",\n                                \"type\": \"0\",\n                                \"purchasing\": \"22\",\n                                \"purchasingGroup\": \"22\",\n                                \"voucherDate\": 1530633600000,\n                                \"approvalState\": null,\n                                \"confirmState\": null,\n                                \"closeState\": null,\n                                \"type_name\": \"投诉工单\",\n                                \"approvalState_name\": null,\n                                \"confirmState_name\": null,\n                                \"closeState_name\": null,\n                                \"remark\": null,\n                                \"bpmBillCode\": null\n                            }\n                        ]\n                    }\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-down'></i>收回\n                    </Button>\n                </BpmButtonRecall>\n            </div>\n        );\n    }\n}\n\nexport default Demo;\n","import BpmTable from './BpmTable';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport BpmTestCheckTable from './BpmTestCheckTable';\nimport BpmWrap from './BpmWrap';\nimport BpmTaskApprovalWrap from './BpmTaskApprovalWrap';\nimport BpmButtonSubmit from './BpmButtonSubmit';\nimport BpmButtonRecall from './BpmButtonRecall';\nimport BpmLinkAssign from './BpmLinkAssign';\n\n\n\nexport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign,\n\n}","/**\n * 核心功能函数处理类\n */\n\nimport axios from 'axios';\nimport { Message } from 'tinper-bee';\n\n/**\n * 后端时间戳转换正常日期时间\n * @param {*} _stamp 时间戳\n * @param {*} formatStr 日期格式\n */\nexport const timestampToDate = (_stamp, formatStr = 'yyyy-MM-dd  hh:mm:ss') => {\n    let unixTimestamp = new Date(_stamp);\n    {\n        var str = formatStr;\n        var Week = ['日', '一', '二', '三', '四', '五', '六'];\n\n        str = str.replace(/yyyy|YYYY/, unixTimestamp.getFullYear());\n        str = str.replace(/yy|YY/, (unixTimestamp.getYear() % 100) > 9 ? (unixTimestamp.getYear() % 100).toString() : '0' + (unixTimestamp.getYear() % 100));\n        var month = unixTimestamp.getMonth() + 1;\n        str = str.replace(/MM/, month > 9 ? month.toString() : '0' + month);\n        str = str.replace(/M/g, month);\n\n        str = str.replace(/w|W/g, Week[unixTimestamp.getDay()]);\n\n        str = str.replace(/dd|DD/, unixTimestamp.getDate() > 9 ? unixTimestamp.getDate().toString() : '0' + unixTimestamp.getDate());\n        str = str.replace(/d|D/g, unixTimestamp.getDate());\n\n        str = str.replace(/hh|HH/, unixTimestamp.getHours() > 9 ? unixTimestamp.getHours().toString() : '0' + unixTimestamp.getHours());\n        str = str.replace(/h|H/g, unixTimestamp.getHours());\n        str = str.replace(/mm/, unixTimestamp.getMinutes() > 9 ? unixTimestamp.getMinutes().toString() : '0' + unixTimestamp.getMinutes());\n        str = str.replace(/m/g, unixTimestamp.getMinutes());\n\n        str = str.replace(/ss|SS/, unixTimestamp.getSeconds() > 9 ? unixTimestamp.getSeconds().toString() : '0' + unixTimestamp.getSeconds());\n        str = str.replace(/s|S/g, unixTimestamp.getSeconds());\n        return str;\n    }\n}\n\n/**\n * 流程历史表格描述转换\n */\nexport const descriptionToText = (vApproveType) => {\n    if (vApproveType == 'submit') {\n        return '提交';\n    }\n    if (vApproveType == 'agree') {\n        return '审批';\n    }\n    if (vApproveType == 'unagree') {\n        return '不同意';\n    }\n    if (vApproveType == 'reject') {\n        return '驳回';\n    }\n    if (vApproveType == 'signAdd') {\n        return '加签';\n    }\n    if (vApproveType == 'signAdding') {\n        return '加签中';\n    }\n    if (vApproveType == 'delegate') {\n        return '改派';\n    }\n    if (vApproveType == 'termination') {\n        return '终止';\n    }\n    if (vApproveType == 'withdraw') {\n        return '删除';\n    }\n    if (vApproveType == 'postCompleted') {\n        return '审批';\n    }\n}\n\n/**\n * 获得处理URL\n */\nexport const getBpmTaskURL = (type, root = \"/eiap-plus/\") => {\n    switch (type) {\n        case 'agree':\n            return root + 'task/completetask/approveCard';\n        case 'unagree':\n            return root + 'task/completetask/approveCard';\n        case 'rejectToActivity':\n            return root + 'task/rejecttask/bfreject';\n        case 'rejectToBillMaker':\n            return root + 'task/rejecttask/reject';\n        case 'signAdd':\n            return root + 'task/assignee/getlist';\n        case 'delegate':\n            return root + 'task/assignee/getlist';\n        case 'withdraw':\n            return root + 'task/withdrawtask/withdraw';\n        case 'hisTasklist':\n            return root + 'process/hisTasklist';\n        case 'commit':\n            return root + 'task/assigntask/commit';\n        case 'signaddtask':\n            return root + 'task/signaddtask/signadd';\n        case 'delegatetask':\n            return root + 'task/delegatetask/delegate';\n        default:\n            return \"/\"\n            break;\n    }\n}\n\n/**\n * 发送异步\n */\nexport const sendBpmTaskAJAX = (type, data) => {\n    switch (type) {\n        case 'agree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'unagree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToActivity':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToBillMaker':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signAdd':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegate':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'withdraw':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'hisTasklist':\n            return axios.post(getBpmTaskURL(type), {\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'commit':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                activityName: data.activityName,\n                comment: data.comment,\n                taskId: data.taskId,\n                approvetype: data.approvetype,\n                processInstanceId: data.processInstanceId,\n                participants: data.participants\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signaddtask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userIds: data.userIds,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegatetask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userId: data.userId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n\n        default:\n            break;\n    }\n    return axios.post(getBpmTaskURL(type), data).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    })\n}\n\n/**\n * 通过billID获得流程图参数\n */\nexport const billidToIds = (billId) => {\n    return axios.post('/eiap-plus/process/getbillbpm', {\n        billId\n    });\n}\n/**\n * 查询数据\n */\nexport const queryBpmTemplateAllocate = (obj) => {\n    return axios.get(`/eiap-plus/appResAllocate/queryBpmTemplateAllocate?_=${Math.random()}`, {\n        params: {\n            funccode: obj.funccode,\n            nodekey: obj.nodekey\n        }\n    });\n}\n/**\n * 提交流程\n */\nexport const onCommit = (data) => {\n    return axios({\n        url: `${data.url}`,\n        method: \"post\",\n        data: data['submitArray'],\n        params: { \"processDefineCode\": data['processDefineCode'] }\n    });\n}\n/**\n * 收回流程\n */\nexport const onRecall = (url, data) => {\n    return axios({\n        url: `${url}`,\n        method: \"post\",\n        data: data\n    });\n}\n\n/**\n * 审批状态类型返回默认审批文案\n */\nexport const approvetypeToText = (type) => {\n    switch (type) {\n        case 'agree':\n            return '审批同意';\n        case 'unagree':\n            return '审批不同意';\n        case 'rejectToActivity':\n            return '驳回到环节';\n        case 'rejectToBillMaker':\n            return '驳回到制单人';\n        case 'signAdd':\n            return '加签';\n        case 'delegate':\n            return '改派';\n        case 'withdraw':\n            return '弃审';\n        default:\n            break;\n    }\n}\n\n/**\n * Unicode编码转换\n */\nexport const reconvert = (str) => {\n    str = str.replace(/(\\\\u)(\\w{1,4})/gi, function ($0) {\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\w{1,4})/g, \"$2\")), 16)));\n    });\n    str = str.replace(/(&#x)(\\w{1,4});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\w{1,4})(%3B)/g, \"$2\"), 16));\n    });\n    str = str.replace(/(&#)(\\d{1,6});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\d{1,6})(%3B)/g, \"$2\")));\n    });\n\n    return str;\n}","var map = {\n\t\"./af\": 251,\n\t\"./af.js\": 251,\n\t\"./ar\": 252,\n\t\"./ar-dz\": 253,\n\t\"./ar-dz.js\": 253,\n\t\"./ar-kw\": 254,\n\t\"./ar-kw.js\": 254,\n\t\"./ar-ly\": 255,\n\t\"./ar-ly.js\": 255,\n\t\"./ar-ma\": 256,\n\t\"./ar-ma.js\": 256,\n\t\"./ar-sa\": 257,\n\t\"./ar-sa.js\": 257,\n\t\"./ar-tn\": 258,\n\t\"./ar-tn.js\": 258,\n\t\"./ar.js\": 252,\n\t\"./az\": 259,\n\t\"./az.js\": 259,\n\t\"./be\": 260,\n\t\"./be.js\": 260,\n\t\"./bg\": 261,\n\t\"./bg.js\": 261,\n\t\"./bm\": 262,\n\t\"./bm.js\": 262,\n\t\"./bn\": 263,\n\t\"./bn.js\": 263,\n\t\"./bo\": 264,\n\t\"./bo.js\": 264,\n\t\"./br\": 265,\n\t\"./br.js\": 265,\n\t\"./bs\": 266,\n\t\"./bs.js\": 266,\n\t\"./ca\": 267,\n\t\"./ca.js\": 267,\n\t\"./cs\": 268,\n\t\"./cs.js\": 268,\n\t\"./cv\": 269,\n\t\"./cv.js\": 269,\n\t\"./cy\": 270,\n\t\"./cy.js\": 270,\n\t\"./da\": 271,\n\t\"./da.js\": 271,\n\t\"./de\": 272,\n\t\"./de-at\": 273,\n\t\"./de-at.js\": 273,\n\t\"./de-ch\": 274,\n\t\"./de-ch.js\": 274,\n\t\"./de.js\": 272,\n\t\"./dv\": 275,\n\t\"./dv.js\": 275,\n\t\"./el\": 276,\n\t\"./el.js\": 276,\n\t\"./en-SG\": 277,\n\t\"./en-SG.js\": 277,\n\t\"./en-au\": 278,\n\t\"./en-au.js\": 278,\n\t\"./en-ca\": 279,\n\t\"./en-ca.js\": 279,\n\t\"./en-gb\": 150,\n\t\"./en-gb.js\": 150,\n\t\"./en-ie\": 280,\n\t\"./en-ie.js\": 280,\n\t\"./en-il\": 281,\n\t\"./en-il.js\": 281,\n\t\"./en-nz\": 282,\n\t\"./en-nz.js\": 282,\n\t\"./eo\": 283,\n\t\"./eo.js\": 283,\n\t\"./es\": 284,\n\t\"./es-do\": 285,\n\t\"./es-do.js\": 285,\n\t\"./es-us\": 286,\n\t\"./es-us.js\": 286,\n\t\"./es.js\": 284,\n\t\"./et\": 287,\n\t\"./et.js\": 287,\n\t\"./eu\": 288,\n\t\"./eu.js\": 288,\n\t\"./fa\": 289,\n\t\"./fa.js\": 289,\n\t\"./fi\": 290,\n\t\"./fi.js\": 290,\n\t\"./fo\": 291,\n\t\"./fo.js\": 291,\n\t\"./fr\": 292,\n\t\"./fr-ca\": 293,\n\t\"./fr-ca.js\": 293,\n\t\"./fr-ch\": 294,\n\t\"./fr-ch.js\": 294,\n\t\"./fr.js\": 292,\n\t\"./fy\": 295,\n\t\"./fy.js\": 295,\n\t\"./ga\": 296,\n\t\"./ga.js\": 296,\n\t\"./gd\": 297,\n\t\"./gd.js\": 297,\n\t\"./gl\": 298,\n\t\"./gl.js\": 298,\n\t\"./gom-latn\": 299,\n\t\"./gom-latn.js\": 299,\n\t\"./gu\": 300,\n\t\"./gu.js\": 300,\n\t\"./he\": 301,\n\t\"./he.js\": 301,\n\t\"./hi\": 302,\n\t\"./hi.js\": 302,\n\t\"./hr\": 303,\n\t\"./hr.js\": 303,\n\t\"./hu\": 304,\n\t\"./hu.js\": 304,\n\t\"./hy-am\": 305,\n\t\"./hy-am.js\": 305,\n\t\"./id\": 306,\n\t\"./id.js\": 306,\n\t\"./is\": 307,\n\t\"./is.js\": 307,\n\t\"./it\": 308,\n\t\"./it-ch\": 309,\n\t\"./it-ch.js\": 309,\n\t\"./it.js\": 308,\n\t\"./ja\": 310,\n\t\"./ja.js\": 310,\n\t\"./jv\": 311,\n\t\"./jv.js\": 311,\n\t\"./ka\": 312,\n\t\"./ka.js\": 312,\n\t\"./kk\": 313,\n\t\"./kk.js\": 313,\n\t\"./km\": 314,\n\t\"./km.js\": 314,\n\t\"./kn\": 315,\n\t\"./kn.js\": 315,\n\t\"./ko\": 316,\n\t\"./ko.js\": 316,\n\t\"./ku\": 317,\n\t\"./ku.js\": 317,\n\t\"./ky\": 318,\n\t\"./ky.js\": 318,\n\t\"./lb\": 319,\n\t\"./lb.js\": 319,\n\t\"./lo\": 320,\n\t\"./lo.js\": 320,\n\t\"./lt\": 321,\n\t\"./lt.js\": 321,\n\t\"./lv\": 322,\n\t\"./lv.js\": 322,\n\t\"./me\": 323,\n\t\"./me.js\": 323,\n\t\"./mi\": 324,\n\t\"./mi.js\": 324,\n\t\"./mk\": 325,\n\t\"./mk.js\": 325,\n\t\"./ml\": 326,\n\t\"./ml.js\": 326,\n\t\"./mn\": 327,\n\t\"./mn.js\": 327,\n\t\"./mr\": 328,\n\t\"./mr.js\": 328,\n\t\"./ms\": 329,\n\t\"./ms-my\": 330,\n\t\"./ms-my.js\": 330,\n\t\"./ms.js\": 329,\n\t\"./mt\": 331,\n\t\"./mt.js\": 331,\n\t\"./my\": 332,\n\t\"./my.js\": 332,\n\t\"./nb\": 333,\n\t\"./nb.js\": 333,\n\t\"./ne\": 334,\n\t\"./ne.js\": 334,\n\t\"./nl\": 335,\n\t\"./nl-be\": 336,\n\t\"./nl-be.js\": 336,\n\t\"./nl.js\": 335,\n\t\"./nn\": 337,\n\t\"./nn.js\": 337,\n\t\"./pa-in\": 338,\n\t\"./pa-in.js\": 338,\n\t\"./pl\": 339,\n\t\"./pl.js\": 339,\n\t\"./pt\": 340,\n\t\"./pt-br\": 341,\n\t\"./pt-br.js\": 341,\n\t\"./pt.js\": 340,\n\t\"./ro\": 342,\n\t\"./ro.js\": 342,\n\t\"./ru\": 343,\n\t\"./ru.js\": 343,\n\t\"./sd\": 344,\n\t\"./sd.js\": 344,\n\t\"./se\": 345,\n\t\"./se.js\": 345,\n\t\"./si\": 346,\n\t\"./si.js\": 346,\n\t\"./sk\": 347,\n\t\"./sk.js\": 347,\n\t\"./sl\": 348,\n\t\"./sl.js\": 348,\n\t\"./sq\": 349,\n\t\"./sq.js\": 349,\n\t\"./sr\": 350,\n\t\"./sr-cyrl\": 351,\n\t\"./sr-cyrl.js\": 351,\n\t\"./sr.js\": 350,\n\t\"./ss\": 352,\n\t\"./ss.js\": 352,\n\t\"./sv\": 353,\n\t\"./sv.js\": 353,\n\t\"./sw\": 354,\n\t\"./sw.js\": 354,\n\t\"./ta\": 355,\n\t\"./ta.js\": 355,\n\t\"./te\": 356,\n\t\"./te.js\": 356,\n\t\"./tet\": 357,\n\t\"./tet.js\": 357,\n\t\"./tg\": 358,\n\t\"./tg.js\": 358,\n\t\"./th\": 359,\n\t\"./th.js\": 359,\n\t\"./tl-ph\": 360,\n\t\"./tl-ph.js\": 360,\n\t\"./tlh\": 361,\n\t\"./tlh.js\": 361,\n\t\"./tr\": 362,\n\t\"./tr.js\": 362,\n\t\"./tzl\": 363,\n\t\"./tzl.js\": 363,\n\t\"./tzm\": 364,\n\t\"./tzm-latn\": 365,\n\t\"./tzm-latn.js\": 365,\n\t\"./tzm.js\": 364,\n\t\"./ug-cn\": 366,\n\t\"./ug-cn.js\": 366,\n\t\"./uk\": 367,\n\t\"./uk.js\": 367,\n\t\"./ur\": 368,\n\t\"./ur.js\": 368,\n\t\"./uz\": 369,\n\t\"./uz-latn\": 370,\n\t\"./uz-latn.js\": 370,\n\t\"./uz.js\": 369,\n\t\"./vi\": 371,\n\t\"./vi.js\": 371,\n\t\"./x-pseudo\": 372,\n\t\"./x-pseudo.js\": 372,\n\t\"./yo\": 373,\n\t\"./yo.js\": 373,\n\t\"./zh-cn\": 97,\n\t\"./zh-cn.js\": 97,\n\t\"./zh-hk\": 374,\n\t\"./zh-hk.js\": 374,\n\t\"./zh-tw\": 375,\n\t\"./zh-tw.js\": 375\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 691;","/**\n * 模拟任务中心测试组件\n */\n\nimport React, { Component } from 'react';\nimport { Table, Row, Col, Button } from 'tinper-bee';\nimport axios from 'axios';\n\nclass BpmTestCheckTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            factoryValue: {}\n        };\n        this.columns = [\n            {\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\",\n                width: \"30%\"\n            },\n            {\n                title: \"ID\",\n                dataIndex: \"id\",\n                key: \"id\"\n            },\n            {\n                title: \"processDefinitionId\",\n                dataIndex: \"processDefinitionId\",\n                key: \"processDefinitionId\"\n            },\n            {\n                title: \"processInstanceId\",\n                dataIndex: \"processInstanceId\",\n                key: \"processInstanceId\"\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let hisTasklist = `eiap-plus/process/undoTasklist`;\n        let hisTasklistData = await axios.post(hisTasklist, { \"draw\": 1, \"length\": 10, \"order\": {}, \"search\": { \"search_EQ_code\": \"\", \"undefined\": \"\", \"processDefinitionName\": \"\", \"billno\": \"\" }, \"searchconfirm\": {} });\n        if (Array.isArray(hisTasklistData.data.data)) {\n            this.setState({\n                data: hisTasklistData.data.data\n            });\n        }\n\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n            title={() => <Button colors=\"primary\" onClick={() => {\n                //document.location.hash = `#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                document.location.hash = `#/bdm/bpmapproval?id=${this.state.factoryValue.id}&processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                //window.open(`http://127.0.0.1:3000/#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`);\n            }}>任务中心打开审批</Button>}\n            onRowClick={(record, index, indent) => {\n                this.setState({\n                    factoryValue: record\n                });\n            }}\n        />);\n    }\n}\n\nexport default BpmTestCheckTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row } from 'tinper-bee';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTable from './BpmTable';\nimport { billidToIds } from './common';\n\n\nconst propTypes = {\n    id: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n\n}\nclass BpmWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            processDefinitionId: \"\",\n            processInstanceId: \"\"\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            let { processDefinitionId, processInstanceId } = pID.data;\n            this.setState({\n                processDefinitionId,\n                processInstanceId\n            });\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId\n            });\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmFlowChart\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmTable\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\nBpmWrap.propTypes = propTypes;\nBpmWrap.defaultProps = {\n    id: \"\"\n}\nexport default BpmWrap;\n","/**\n * 审批逻辑组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row, Button ,Message} from 'tinper-bee';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport { billidToIds } from './common';\nimport refOptions from './refOptions';\nimport  { RefTreeTransfer} from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nimport 'pap-refer/dist/index.css'\nimport { sendBpmTaskAJAX } from './common';\n\nconst propTypes = {\n    id: PropTypes.string,\n    refCode: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    onBpmFlowClick: PropTypes.func,\n    appType: PropTypes.string,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func\n}\nclass BpmTaskApprovalWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isShowFlowBtn: false,\n            id: \"\",\n            taskId: \"\",\n            processDefinitionId: \"\",\n            processInstanceId: \"\",\n            copyusers:[], //抄送数据\n            intersection:true, //是否交集\n            approvetype:\"agree\",  //审批类型\n            comment:\"审批同意\", //审批内容\n            activityId:\"\",//驳回环节id\n            userIds:[],//加签用户数组\n            userId:\"\",//改派用户\n            showModal:false,\n            properties:{\n                addSignAble:true, //可否加签\n                iscopytouser:true, //可否抄送\n                rejectAble:true, //可否驳回\n                delegateAble:true, //可否改派\n                unagreeable:true, //可否不同意\n                assignAble:true, //可否指派\n                deleteable:true  //可否驳回到制单人\n            }\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            if (pID.data.message && pID.data.message == 'NoBpm') {\n                // console.log('NoBpm');\n                this.setState({\n                    isShowFlowBtn: false\n                });\n            } else if (pID.data.taskId) {\n                let { processDefinitionId, processInstanceId, taskId } = pID.data;\n                //可否加签|可否抄送|可否驳回|可否改派|可否不同意|可否指派\n                let {currentActivity:{ properties:{ addsignAble,iscopytouser,rejectAble ,delegateAble,unagreeable,assignAble ,deleteable}}}= pID.data;\n\n                this.setState({\n                    id: taskId,\n                    taskId:taskId,\n                    properties:{\n                        addsignAble,iscopytouser,rejectAble,delegateAble,unagreeable,assignAble,deleteable\n                    },\n                    processDefinitionId,\n                    processInstanceId,\n                });\n            } else {\n                this.setState({\n                    isShowFlowBtn: true\n                });\n            }\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId,\n                id: this.props.id\n            });\n        }\n    }\n    //提交\n    handlerSubmitBtn =  async()=>{\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        if (this.state.comment == \"\") {\n            Message.create({ content: '审批意见不能为空', color: 'danger', position: 'top' });\n            return;\n        }\n        onStart && onStart();\n        //检测需要二次请求并弹出Modal审批\n        switch (this.state.approvetype) {\n            case 'agree'://同意\n            case 'unagree'://不同意\n                let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                //普通同意操作，没有后续操作，直接成功\n                if (result.data.flag == 'success') {\n                    Message.create({ content: result.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else if (result.data.flag == 'faile') {\n                    Message.create({ content: result.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: result.data.msg\n                    });\n                }\n                //普通同意操作，有后续操作，有加签人员判断\n                if (result.data.assignAble) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.assignList.length > 0) {\n                        this.setState({\n                            HuoDongID: result.data.assignList[0].activityId,\n                            HuoDongName: result.data.assignList[0].activityName\n                        });\n                    }\n                    // onStart && onStart();\n                    //可以是加签操作，拉取加签请求\n                    onEnd && onEnd();\n\n                    //弹出参照组件\n                    // createModal(options);\n                    this.setState({showModal:true})\n                }\n                break;\n            //驳回到环节\n            case 'rejectToActivity':\n                let {activityId,approvetype,comment,processInstanceId,taskId}=this.state;\n                if(!activityId ||activityId.length ===0){\n                    Message.create({ content: `驳回环节不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `驳回环节不可为空`\n                    });\n                    return\n                }\n                let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n                    activityId: activityId,\n                    approvetype: approvetype,\n                    comment: comment,\n                    processInstanceId: processInstanceId,\n                    taskId: taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求错误`\n                    });\n                });\n\n                if (rejectToBillMakerMsg.data.flag == 'success') {\n                    onSuccess && onSuccess();\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n                    this.setState({\n                        rejectToActivityShow: false,\n                        rejectlist: [],\n                        selectedRow: []\n                    });\n                } else {\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectToBillMakerMsg.data.msg\n                    });\n                }\n                break;\n            //加签\n            case 'signAdd':\n                onStart && onStart();\n                //TO DO:重构URL\n                if(!this.state.userIds ||this.state.userIds.length ===0){\n                    Message.create({ content: `加签人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `加签人员不可为空`\n                    });\n                    return\n                }\n                //执行最终加签操作\n                let signAddMsg = await sendBpmTaskAJAX('signaddtask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userIds: this.state.userIds,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //判断加签最终是否成功\n                if (signAddMsg.data.flag == 'success') {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: signAddMsg.data.msg\n                    });\n                }\n                break;\n            //改派\n            case 'delegate':\n                onStart && onStart();\n                if(!this.state.userId ||this.state.userId.length ===0){\n                    Message.create({ content: `改派人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `改派人员不可为空`\n                    });\n                    return\n                }\n                //TO DO:重构URL\n                let delegateMsg = await sendBpmTaskAJAX('delegatetask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userId: this.state.userId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //处理后续的操作\n                if (delegateMsg.data.flag === 'success') {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: delegateMsg.data.msg\n                    });\n                }\n                break;\n            //弃审\n            case 'withdraw':\n                let res = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                if (res.data.flag === 'success') {\n                    Message.create({ content: res.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: res.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: res.data.msg\n                    });\n                }\n                break;\n            case 'rejectToBillMaker':\n                let rejectres = await sendBpmTaskAJAX(this.state.approvetype,{\n                    activityId: 'markerbill',\n                    approvetype: this.state.approvetype,\n                    comment:this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                });\n                if (rejectres.data.flag === 'success') {\n                    Message.create({ content: rejectres.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: rejectres.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectres.data.msg\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    onChangestate =(s)=>{  //审批面板选择的数据\n           //审批类型       审批消息  任务ID  驳回活动id   加签数据  改派\n        let { approvetype, comment,taskId, activityId, userIds, userId} =s;\n        this.setState({\n            approvetype, comment,taskId, activityId, userIds, userId\n        });\n    }\n    render() {\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        let self = this\n        const assignOption = {\n            title: '指派人员选择',\n            textOption: {\n                modalTitle: '选择指派人员',\n                leftTitle: '组织结构',\n                rightTitle: '人员列表',\n                leftTransferText: '待选人员',\n                rightTransferText: '已选人员',\n\n            },\n            param: {//url请求参数\n                refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n                // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n            },\n            refModelUrl: {\n                treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                tableBodyUrlSearch: '',\n                tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n            },\n            jsonp: false,\n            hearders: {},\n            displayField: '{refname}',//显示内容的键\n            valueField: 'refpk',//真实 value 的键\n            onCancel: function (p) {\n                console.log(p)\n                self.setState({showModal:false})\n            },\n            onSave: async(sels) =>{\n                self.setState({showModal:false})\n\n            onStart && onStart();\n            //同意后续的加签\n            //TO DO:重构URL\n            let agreeeMsg = await sendBpmTaskAJAX('commit', {\n                activityId: self.state.HuoDongID,\n                activityName: self.state.HuoDongName,\n                comment: self.state.comment,\n                taskId: self.state.taskId,\n                approvetype: self.state.approvetype,\n                processInstanceId: self.state.processInstanceId,\n                participants: Array.from(sels, x => ({ \"id\": x.id }))\n            }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: `服务器请求出错`\n                });\n            });\n            //确认加签后的处理\n            if (agreeeMsg.data.flag == 'success') {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n                self.setState({\n                    rejectlist: [],\n                    selectedRow: []\n                });\n                onSuccess && onSuccess();\n            } else {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: agreeeMsg.data.msg\n                });\n            }\n        }\n    }\n        return (\n            <div className=\"clearfix\">\n                {this.state.processDefinitionId && <div>\n                    <Row>\n                        <div>\n\n                        </div>\n                    </Row>\n                    <Row>\n                    <Col md={12}>\n                        <BpmTaskApproval\n                            id={this.state.id}\n                            refCode={this.props.refCode}\n                            onBpmFlowClick={this.props.onBpmFlowClick}\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                            appType={this.props.appType}\n                            properties={this.state.properties}\n                            onStart={this.props.onStart}\n                            onEnd={this.props.onEnd}\n                            onSuccess={this.props.onSuccess}\n                            onError={this.props.onError}\n                            onChangestate = {this.onChangestate}\n                        />\n                    </Col>\n                </Row>\n\n                    <Row style={{\"margin\":\"8px 0\", \"padding\": \"0 10px\"}}>\n                        <Col md={4} mdOffset={8} xs={4} xsOffset={8} sm={4} smOffset={8} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                            <Button onClick={this.handlerSubmitBtn}  colors=\"primary\">提交</Button>\n                        </Col>\n                    </Row>\n\n                </div>}\n                {this.state.isShowFlowBtn && <Row>\n                    <Col mdOffset={11} md={1} style={{ \"textAlign\": \"right\" }}>\n                        <Button onClick={this.props.onBpmFlowClick} style={{ \"marginBottom\": \"4px\", \"marginRight\": \"15px\" }} colors=\"primary\">流程图</Button>\n                    </Col>\n                </Row>}\n                    <RefTreeTransfer {...assignOption} showModal={this.state.showModal}/>\n            </div>\n        );\n    }\n}\nBpmTaskApprovalWrap.propTypes = propTypes;\nBpmTaskApprovalWrap.defaultProps = {\n    id: \"\",\n    appType: \"1\",\n    refCode: \"userUnderOrgRef\"\n}\nexport default BpmTaskApprovalWrap;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table ,Row,Label,Checkbox } from 'tinper-bee';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nimport 'pap-refer/dist/index.css'\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    size: PropTypes.string,\n    scrollY: PropTypes.number,\n    isOne: PropTypes.bool,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonSubmit extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: [],//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [],\n            chaosongShow:false,//抄送显示\n            editRowIndex: 0,\n            showVal: [],\n            checkedArray:[], //指派选择的数据\n            copyusers:[],   //抄送数据\n            intersection:true,  //是否交集\n            submiting:false\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, isOne, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        //检查是否多单据提交\n        if (isOne && checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            if(!detailMsg.data ||detailMsg.data==null){\n                onError && onError({\n                    type: 1,\n                    msg: `当前单据没有绑定流程`\n                });\n                return;\n            }\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (!result.data.detailMsg.data.assignAble)) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data && result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        let arr = result.data.detailMsg.data.assignedActivities.filter( (item)=>{ return !item.properties.startactivity;});\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            chaosongShow:result.data.detailMsg.data.assignedActivities[0].properties.iscopytouser,\n                            huanjieList: arr,\n                            obj: checkedArray,\n                            assignInfo: {\n                                assignInfoItems: Array.from(arr, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            chaosongShow:false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj,copyusers,intersection,submiting } = this.state;\n        obj=obj[0];\n        let arr=[];\n        let self = this;\n        copyusers.map(function(value) {\n            arr=arr.concat(value);\n        });\n        copyusers=arr;\n        //加载事件\n        if(!submiting){\n            onStart && onStart();\n            this.setState({\n                submiting:true\n            })\n            let result = await axios.post(urlAssignSubmit, {\n                processDefineCode,\n                assignInfo,\n                obj,\n                copyusers,\n                intersection\n\n            }).catch((e) => {\n\n                onError && onError({\n                    type: 2,\n                    msg: `后台服务请求发生错误`\n                });\n                self.setState({\n                    submiting:false\n                })\n            });\n            if (result.data.success == 'success') {\n                onSuccess && onSuccess();\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            } else if (result.data.success == 'fail_global') {\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(result.data.message) || '流程启动失败'\n                });\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            }\n        }\n    }\n    changeCheck=()=> {\n        this.setState({intersection:!this.state.intersection});\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"20%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"40%\",\n            render(text, record, index) {\n\n                const option = {\n                    title: '选择指派人员',\n                    textOption: {\n                        modalTitle: '选择指派人员',\n                        leftTitle: '组织结构',\n                        rightTitle: '人员列表',\n                        leftTransferText: '待选人员',\n                        rightTransferText: '已选人员',\n\n                    },\n                    param: {//url请求参数\n                        refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n                        // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n                    },\n                    refModelUrl: {\n                        treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                        tableBodyUrlSearch: '',\n                        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n                    },\n                    jsonp: false,\n                    hearders: {},\n                    displayField: '{refname}',//显示内容的键\n                    valueField: 'refpk',//真实 value 的键\n                    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n                    // filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n                    onCancel: function (p) {\n                        console.log(p)\n                    },\n                    onSave: function (sels,showVal) {\n                        console.log(sels);\n                        var temp = sels.map(v => v.id);\n                        //显示值\n                        let _showVal = self.state.showVal.slice();\n                        _showVal[index] = showVal;\n                        //选中的值\n                        let _childRefKey = self.state.childRefKey.slice();\n                        _childRefKey[index] = temp;\n                        //副本原始对象\n                        let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                        //根据修改索引修改指定数据内容\n                        sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                        let checkedArray = self.state.checkedArray;\n                        checkedArray[index] = sels;\n                        self.setState({\n                            checkedArray:checkedArray,\n                            childRefKey: _childRefKey,\n                            showVal: _showVal,\n                            assignInfo: {\n                                assignInfoItems: sourseArray\n                            }\n                        });\n                    }\n                }\n\n                return <RefTreeTransferWithInput {...option}/>\n            }\n        }]\n\n\n        return (<span>\n            <span onClick={this.handlerBtn}>\n                {\n                    this.props.children\n                }\n            </span>\n            <Modal\n                size={this.props.size}\n                show={this.state.huanjieShow||this.state.chaosongShow}\n                backdrop={false}\n                enforceFocus={false}\n                onHide={this.closeHuanjie}>\n                <Modal.Header closeButton>\n                    <Modal.Title> {'环节指派'}</Modal.Title>\n                </Modal.Header>\n                {this.state.huanjieShow?<Modal.Body>\n                    <Table\n                        rowKey={record => record.id}\n                        columns={huanjieCol}\n                        data={this.state.huanjieList}\n                        scroll={{ x: \"100%\", y: 200 }}\n                    />\n                </Modal.Body>:\"\"}\n                <Modal.Footer>\n                    <Button style={{ \"marginRight\": \"10px\" }}  onClick={this.closeHuanjie}> 关闭 </Button>\n                    <Button colors=\"primary\"  onClick={this.huanjieHandlerOK}> 确定 </Button>\n\n                </Modal.Footer>\n            </Modal>\n        </span>);\n    }\n}\nBpmButtonSubmit.propTypes = propTypes;\nBpmButtonSubmit.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    size: \"\",\n    scrollY: 270,\n    isOne: false,\n    organrefCode:\"newdept\",\n    positonrefCode:\"newposition\",\n    roleRef:\"newRoleRef\",\n    userRef:\"newuser\"\n}\nexport default BpmButtonSubmit;\n","/**\n * bpm 收回流程按钮\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { onRecall } from './common';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    url: PropTypes.string,\n    data: PropTypes.array,\n    className: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonRecall extends Component {\n    constructor() {\n        super();\n    }\n    /**\n     * 收回操作事件\n     */\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        let recallArray = [];\n\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据收回`\n            });\n            return;\n        }\n\n        //操作数据至少有一个\n        if (checkedArray.length > 0) {\n            if (checkedArray[0].bpmState != 0 && checkedArray[0].bpmState != null) {\n                recallArray.push({ id: checkedArray[0].id });\n            } else {\n                onError && onError({\n                    type: 1,\n                    msg: `流程没有启动无法撤回`\n                });\n            }\n\n        } else {\n            // 弹出提示请选择数据\n            onError && onError({\n                type: 1,\n                msg: `请选择单据才能撤回`\n            });\n            return;\n        }\n        if (recallArray.length > 0) {\n            onStart && onStart();\n            let { data: { success, detailMsg } } = await onRecall(this.props.url, recallArray);\n            if (detailMsg.data['success'] && detailMsg.data.success == 'success') {\n                onSuccess && onSuccess();\n            } else {\n                onError && onError({\n                    type: 2,\n                    msg: detailMsg.data.message\n                });\n            }\n        }\n    }\n    render() {\n        return (<span onClick={this.handlerBtn}>\n            {\n                this.props.children\n            }\n        </span>);\n    }\n}\nBpmButtonRecall.propTypes = propTypes;\nBpmButtonRecall.defaultProps = {\n    checkedArray: [],\n    url: \"/example/ygdemo_yw_info/unsubmit\",\n    data: [],\n    className: \"\"\n}\nexport default BpmButtonRecall;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table } from 'tinper-bee';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    scrollY: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmLinkAssign extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: {},//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [\n                { \"id\": \"approveUserTask3283\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3183\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3a83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3s83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask32d3\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3zza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTasqzza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask34za83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTas43zza83\", \"name\": \"1\", \"type\": \"userTask\" }\n            ],\n            editRowIndex: 0,\n            showVal: []\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (typeof result.data.detailMsg.data.assignAble == 'undefined')) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            huanjieList: result.data.detailMsg.data.assignedActivities,\n                            obj: checkedArray[0],\n                            assignInfo: {\n                                assignInfoItems: Array.from(result.data.detailMsg.data.assignedActivities, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj } = this.state;\n        //加载事件\n        onStart && onStart();\n        let result = await axios.post(urlAssignSubmit, {\n            processDefineCode,\n            assignInfo,\n            obj\n        }).catch((e) => {\n            onError && onError({\n                type: 2,\n                msg: `后台服务请求发生错误`\n            });\n        });\n        if (result.data.success == 'success') {\n            onSuccess && onSuccess();\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        } else if (result.data.success == 'fail_global') {\n            onError && onError({\n                type: 2,\n                msg: reconvert(result.data.message) || '流程启动失败'\n            });\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        }\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index){\n                const option = {\n                        title: '人员选择',\n                        backdrop: true,\n                        disabled: false,\n                        multiple: false,\n                        strictMode: true,\n                        param:{//url请求参数\n                            refCode:'new_relatedUser'\n                        },\n                        refModelUrl:{\n                            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n                            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n                        },\n                        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n                        filterUrl: '/wbalone/common-ref/filterRefJSON',\n                        valueField: \"refpk\",\n                        displayField: \"{refname}\",\n                        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n                            var temp = sels.map(v => v.id);\n                            //显示值\n                            let _showVal = self.state.showVal.slice();\n                            _showVal[index] = showVal;\n                            //选中的值\n                            let _childRefKey = self.state.childRefKey.slice();\n                            _childRefKey[index] = temp;\n                            //副本原始对象\n                            let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                            //根据修改索引修改指定数据内容\n                            sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                            self.setState({\n                                childRefKey: _childRefKey,\n                                showVal: _showVal,\n                                assignInfo: {\n                                    assignInfoItems: sourseArray\n                                }})\n                        }}\n\n            return (<RefMultipleTableWithInput  {...option} />)\n\n                // {disabled: false,\n                //     multiple: false,\n                //     strictMode: true,\n                //     param:{//url请求参数\n                //         refCode:'new_relatedUser'\n                //     },\n                //     valueField: \"refpk\",\n                //     displayField: \"{refname}\",\n                //     onCancel: function (p) {\n                //         console.log(p)\n                //     },\n                //     title: '人员选择',\n                //     backdrop: false,\n                //     hasPage: true,\n                //     //保存回调sels选中的行数据showVal显示的字\n                //     onSave: function (sels, showVal) {//showVal=\"12;13;管理员\"\n                //         console.log(sels);\n                //         var temp = sels.map(v => v.id);\n                //         //显示值\n                //         let _showVal = self.state.showVal.slice();\n                //         _showVal[index] = showVal;\n                //         //选中的值\n                //         let _childRefKey = self.state.childRefKey.slice();\n                //         _childRefKey[index] = temp;\n                //         //副本原始对象\n                //         let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                //         //根据修改索引修改指定数据内容\n                //         sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                //         self.setState({\n                //             childRefKey: _childRefKey,\n                //             showVal: _showVal,\n                //             assignInfo: {\n                //                 assignInfoItems: sourseArray\n                //             }\n                //         });\n                //     }\n                // })}\n                // />)\n            }\n        }]\n        return (<Table\n            loading={false}\n            scroll={{ y: this.props.scrollY }}\n            emptyText={() => (<span>暂无环节</span>)}\n            rowKey={record => record.id}\n            columns={huanjieCol}\n            data={this.state.huanjieList}\n        />);\n    }\n}\nBpmLinkAssign.propTypes = propTypes;\nBpmLinkAssign.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    scrollY: 270\n}\nexport default BpmLinkAssign;\n"],"sourceRoot":""}