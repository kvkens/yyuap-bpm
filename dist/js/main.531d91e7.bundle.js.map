{"version":3,"sources":["webpack:///./src/BpmTable.js","webpack:///./src/BpmFlowChart.js","webpack:///./src/BpmTaskApproval.js","webpack:///./src/app.js","webpack:///./src/demo.js","webpack:///./src/index.js","webpack:///./src/common.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/BpmTestCheckTable.js","webpack:///./src/BpmWrap.js","webpack:///./src/BpmTaskApprovalWrap.js","webpack:///./src/BpmButtonSubmit.js","webpack:///./src/BpmButtonRecall.js","webpack:///./src/BpmLinkAssign.js","webpack:///./src/refOptions.js"],"names":["__webpack_require__","_react","_tinperBee","_common","propTypes","processDefinitionId","PropTypes","string","processInstanceId","BpmTable","_this2","this","_classCallCheck","_this","_possibleConstructorReturn","__proto__","_getPrototypeOf2","default","call","componentDidMount","_asyncToGenerator","_regenerator2","mark","_callee","_this$props","hisTasklistData","wrap","_context","prev","next","props","sendBpmTaskAJAX","sent","setState","data","stop","state","columns","title","dataIndex","key","width","render","text","record","index","_react2","createElement","descriptionToText","timestampToDate","Component","Table","bordered","emptyText","defaultProps","url","height","BpmFlowChart","_props","style","minHeight","src","frameBorder","id","appType","filterRefUrl","refCode","properties","object","onBpmFlowClick","func","onStart","onEnd","onSuccess","onError","onChangestate","BpmTaskApproval","componentWillMount","approvetype","comment","approvetypeToText","handleChange","value","userName","userIds","userId","checkedArray","handlerCommentChange","e","target","activityModalClose","rejectToActivityShow","rejectlist","selectedRow","rejectToActivityOK","rejectToBillMakerMsg","activityId","taskId","catch","Message","create","content","toString","color","position","duration","type","msg","flag","handlerFlow","getDataSource","arr","_this$props$propertie","addsignAble","rejectAble","delegateAble","unagreeable","deleteable","push","rejectToActivity","_callee2","result","_context2","length","Array","activityName","HuoDongID","HuoDongName","rejectToActivityCol","_this3","self","assignOption","textOption","modalTitle","leftTitle","rightTitle","leftTransferText","rightTransferText","param","refModelUrl","treeUrl","tableBodyUrlSearch","tableBodyUrl","refInfo","jsonp","hearders","displayField","valueField","onCancel","p","console","log","onSave","sels","showVal","temp","map","v","option","backdrop","disabled","multiple","strictMode","matchUrl","filterUrl","className","padding","Row","margin","Col","md","sm","xs","paddingLeft","paddingRight","_beeSelect2","placeholder","onChange","defaultValue","_index4","_index2","FormControl","readOnly","onClick","mdOffset","xsOffset","smOffset","textAlign","Button","colors","outline","resize","border","marginBottom","borderRadius","lineHeight","Radio","RadioGroup","name","selectedValue","Modal","show","onHide","Header","closeButton","Title","Body","rowKey","r","rowClassName","indent","onRowClick","Footer","marginRight","addSignAble","iscopytouser","assignAble","ReactDOM","_demo2","document","querySelector","_index","Demo","BpmTaskApprovalWrap","err","BpmLinkAssign","BpmTestCheckTable","BpmButtonSubmit","funccode","nodekey","size","isOne","urlAssignSubmit","createTime","createUser","lastModified","lastModifyUser","ts","newTs","dr","bpmState","taskKey","processDefineCode","bpmStateEnumValue","orderUser","orderType","orderTypeEnumValue","orderDeptName","orderDept","orderCode","orderPrice","orderDate","orderUserName","orderName","tenantid","orderName2","orderName3","orderName4","orderName5","orderName6","bpmBillCode","mainBoCode","shape","BpmButtonRecall","supplier","supplierName","purchasing","purchasingGroup","voucherDate","approvalState","confirmState","closeState","type_name","approvalState_name","confirmState_name","closeState_name","remark","BpmWrap","_stamp","formatStr","arguments","undefined","unixTimestamp","Date","str","replace","getFullYear","getYear","month","getMonth","getDay","getDate","getHours","getMinutes","getSeconds","vApproveType","getBpmTaskURL","root","axios","post","copyusers","intersection","participants","billidToIds","billId","queryBpmTemplateAllocate","obj","get","Math","random","params","onCommit","_axios2","method","onRecall","reconvert","$0","String","fromCharCode","parseInt","escape","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","Error","code","keys","Object","resolve","module","exports","hisTasklist","draw","order","search","search_EQ_code","processDefinitionName","billno","searchconfirm","isArray","factoryValue","location","hash","pID","_pID$data","_BpmFlowChart2","_BpmTable2","_pID$data$currentActi","message","isShowFlowBtn","currentActivity","handlerSubmitBtn","_this$state","signAddMsg","delegateMsg","res","rejectres","abrupt","t0","assignList","showModal","s","_assign2","JSON","parse","refOptions","hasPage","refType","isRadio","tenantId","sysId","transmitParam","_ref3","_callee3","agreeeMsg","_context3","_from2","x","_x","_x2","apply","showKey","verification","_ref4","_callee4","_context4","_x3","_BpmTaskApproval2","RefTreeTransfer","_extends","array","scrollY","number","bool","handlerBtn","_ref2","_ref2$data","success","detailMsg","commitParam","_result","_result2","children","res_code","submitArray","assignedActivities","filter","item","startactivity","huanjieShow","chaosongShow","huanjieList","assignInfo","assignInfoItems","closeHuanjie","childRefKey","signAddOK","editRowIndex","sourseArray","slice","huanjieHandlerOK","_this$props2","submiting","_result3","concat","changeCheck","huanjieCol","_showVal","_childRefKey","_index3","enforceFocus","scroll","y","organrefCode","positonrefCode","roleRef","userRef","recallArray","loading","_stringify2","fliterColumn","filterDropdown","filterDropdownType","filterType","filterDropdownIncludeKeys"],"mappings":"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C,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACA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","file":"js/main.531d91e7.bundle.js","sourcesContent":["/**\n * bpm流程数据历史表格\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Table } from 'tinper-bee';\nimport { descriptionToText, sendBpmTaskAJAX, timestampToDate } from './common';\nconst propTypes = {\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string\n\n};\n\nclass BpmTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: []\n        };\n        this.columns = [\n            {\n                title: \"任务ID\",\n                dataIndex: \"id\",\n                key: \"id\",\n                width: \"30%\"\n            },\n            {\n                title: \"任务名称\",\n                dataIndex: \"name\",\n                key: \"name\"\n            },\n            {\n                title: \"任务类型\",\n                dataIndex: \"description\",\n                key: \"description\",\n                render: (text, record, index) => {\n                    return <div>{descriptionToText(text)}</div>\n                }\n            },\n            {\n                title: \"执行者\",\n                dataIndex: \"executionId\",\n                key: \"executionId\"\n            },\n            {\n                title: \"开始时间\",\n                dataIndex: \"startTime\",\n                key: \"startTime\",\n                render: (text, record, index) => {\n                    return <div>{timestampToDate(text)}</div>\n                }\n            },\n            {\n                title: \"结束时间\",\n                dataIndex: \"endTime\",\n                key: \"endTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            },\n            {\n                title: \"审批意见\",\n                dataIndex: \"deleteReason\",\n                key: \"deleteReason\"\n            },\n            {\n                title: \"超时时间\",\n                dataIndex: \"claimTime\",\n                key: \"claimTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let { processDefinitionId, processInstanceId } = this.props;\n        let hisTasklistData = await sendBpmTaskAJAX('hisTasklist', {\n            processDefinitionId,\n            processInstanceId\n        });\n        this.setState({\n            data: hisTasklistData.data.data\n        });\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有流程历史数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n        />);\n    }\n}\nBpmTable.propTypes = propTypes;\nBpmTable.defaultProps = {\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\nexport default BpmTable;\n","/**\n * bpm流程图组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nconst propTypes = {\n    url: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string\n};\n\nclass BpmFlowChart extends Component {\n    render() {\n        let { processDefinitionId, processInstanceId, width, height, url } = this.props;\n        return (\n            <div>\n                <iframe\n                    style={{ width, height, \"minHeight\": \"300px\" }}\n                    src={`${url}?processDefinitionId=${processDefinitionId}&processInstanceId=${processInstanceId}`}\n                    frameBorder=\"0\"\n                >\n                </iframe>\n            </div>\n        );\n    }\n}\nBpmFlowChart.propTypes = propTypes;\nBpmFlowChart.defaultProps = {\n    url: \"/eiap-plus/vendor/diagram-viewer/index.html\",\n    width: \"99%\",\n    height: \"300px\",\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\n\nexport default BpmFlowChart;","/**\n * bpm流程任务审批组件\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Col, Message, Modal, Radio, Row, Table,FormControl} from 'tinper-bee';\nimport Select from 'bee-select';\nimport { approvetypeToText, sendBpmTaskAJAX } from './common';\nimport refOptions from './refOptions';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nconst propTypes = {\n    id: PropTypes.string,\n    appType: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    properties:PropTypes.object,\n    onBpmFlowClick: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onChangestate:PropTypes.func\n};\n\nclass BpmTaskApproval extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            approvetype: \"agree\",\n            comment: \"审批同意\",\n            processDefinitionId: props.processDefinitionId,\n            processInstanceId: props.processInstanceId,\n            taskId: props.id,\n            activityId: \"\",\n            activityName:\"\",\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: [],\n            userIds: [],\n            userId: [],\n            userName:[],\n            checkedArray:[],\n            HuoDongID: \"\",//新版活动ID\n            HuoDongName: \"\"//新版活动名字\n        }\n        //驳回到环节的Modal-Table\n        this.rejectToActivityCol = [{\n            title: \"活动编码\",\n            dataIndex: \"activityId\",\n            key: \"activityId\",\n            width: \"40%\"\n        },\n        {\n            title: \"活动名称\",\n            dataIndex: \"activityName\",\n            key: \"activityName\",\n            width: \"30%\"\n        }]\n    }\n    componentWillMount = () => {\n        //通过billID获得processDefinitionId,processInstanceId\n        // let pID = await billidToIds('f39234a2-ed92-473f-b7c1-45f71559facb');\n    }\n    componentDidMount = () => {\n        //传入类型是弃审，那么直接设置2\n        if (this.props.appType == \"2\") {\n            this.setState({\n                approvetype: \"withdraw\",\n                comment: approvetypeToText(\"withdraw\")\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        }\n    }\n\n    //选择审批的类型\n    handleChange = (value) => {\n        this.setState({\n            approvetype: value,\n            comment: approvetypeToText(value) ,\n            userName:\"\",\n            userIds: [],\n            userId: [],\n            checkedArray:[]\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //绑定审批意见\n    handlerCommentChange = (e) => {\n        this.setState({ comment: e.target.value },()=>{\n            this.props.onChangestate(this.state);\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //审批提交\n\n    //通用关闭方法\n    activityModalClose = () => {\n        this.setState({\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: []\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //驳回到环节的最终提交\n    rejectToActivityOK = async () => {\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        onStart && onStart();\n        let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n            activityId: this.state.activityId,\n            approvetype: this.state.approvetype,\n            comment: this.state.comment,\n            processInstanceId: this.state.processInstanceId,\n            taskId: this.state.taskId\n        }).catch((e) => {\n            Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top',duration:15 });\n            onError && onError({\n                type: 2,\n                msg: `服务器请求错误`\n            });\n        });\n\n        if (rejectToBillMakerMsg.data.flag == 'success') {\n            onSuccess && onSuccess();\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n            this.setState({\n                rejectToActivityShow: false,\n                rejectlist: [],\n                selectedRow: []\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        } else {\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: rejectToBillMakerMsg.data.msg\n            });\n        }\n    }\n    //流程图函数调用\n    handlerFlow = () => {\n        let onBpmFlowClick = this.props.onBpmFlowClick;\n        onBpmFlowClick && onBpmFlowClick();\n    }\n    getDataSource=()=>{\n        let arr =[{\n            key: \"同意\",\n            value: \"agree\"\n        }];\n        let { addsignAble,rejectAble ,delegateAble,unagreeable ,deleteable} = this.props.properties\n        if(unagreeable)arr.push({key: \"不同意\", value: \"unagree\"})\n        if(rejectAble)arr.push({key: \"驳回到环节\", value: \"rejectToActivity\"})\n        if(deleteable)arr.push({key: \"驳回到制单人\", value: \"rejectToBillMaker\"})\n        if(addsignAble)arr.push({key: \"加签\", value: \"signAdd\"})\n        if(delegateAble)arr.push({key: \"改派\", value: \"delegate\"})\n        return arr\n    }\n    rejectToActivity= async ()=>{\n        let { onError } = this.props;\n        let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n        if (result.data.flag == 'success'&& result.data.rejectlist.length>0) {\n            this.setState({\n                rejectlist: result.data.rejectlist,\n                selectedRow: new Array(result.data.rejectlist.length),\n                rejectToActivityShow: true\n            });\n        } else {\n            Message.create({ content: result.data.msg||'当前环节为首环节，没有可以驳回的环节', color: 'warning', position: 'top' ,duration:4000});\n            onError && onError({\n                type: 2,\n                msg: result.data.msg||'当前环节为首环节，没有可以驳回的环节'\n            });\n        }\n    }\n    render() {\n        let self = this;\n    const assignOption = {\n        title: '加签人员选择',\n        textOption: {\n            modalTitle: '选择加签人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        param: {//url请求参数\n            refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n            // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n        },\n        refModelUrl: {\n            treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n            tableBodyUrlSearch: '',\n            tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n        },\n        jsonp: false,\n        hearders: {},\n        displayField: '{refname}',//显示内容的键\n        valueField: 'refpk',//真实 value 的键\n        onCancel: function (p) {\n            console.log(p)\n        },\n        onSave: function (sels,showVal) {\n\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n    const option = {\n        title: '改派人员选择',\n        backdrop: true,\n        disabled: false,\n        multiple: false,\n        strictMode: true,\n        jsonp: false,\n        param:{//url请求参数\n            refCode:'new_relatedUser'\n        },\n        refModelUrl:{\n            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n        },\n        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n        filterUrl: '/wbalone/common-ref/filterRefJSON',\n        valueField: \"refpk\",\n        displayField: \"{refname}\",\n        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n\n        return (\n            <div className=\"clearfix\">\n                <div style={{ \"padding\": \"0px\" }}>\n                    {this.props.appType == \"1\" && <div>\n                        <Row style={{\n                            \"margin\":\"8px 0\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={2}  sm={2} xs={3} style={{\"paddingLeft\":0,\"paddingRight\":'15px'}}>\n                                <Select\n                                    style={{ width: '100%' }}\n                                    placeholder=\"请选择\"\n                                    onChange={self.handleChange}\n                                    defaultValue=\"agree\"\n                                    data={self.getDataSource()}\n                                />\n                            </Col>\n                                <Col md={3} xs={3} sm={3} style={{\"paddingLeft\":0}}>\n                                    {this.state.approvetype===\"signAdd\" && <RefTreeTransferWithInput  { ...assignOption} />}\n                                    {this.state.approvetype===\"delegate\" &&<RefMultipleTableWithInput  {...option} />}\n                                    {this.state.approvetype===\"rejectToActivity\" &&<FormControl\n                                        readOnly={true}\n                                        placeholder={'请选择环节'}\n                                        value={this.state.activityName}\n                                        onClick={this.rejectToActivity}\n                                        onChange={this.onChange} />}{/*驳回*/}\n                                </Col>\n                            <Col md={4} mdOffset={3} xs={4} xsOffset={2} sm={4} smOffset={3} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                                {/*{this.props.appType == \"1\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"1\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入处理意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                    {this.props.appType == \"2\" && <div>\n                        <Row style={{\n                            \"height\": \"46px\",\n                            \"lineHeight\": \"46px\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={8}>\n                                <Radio.RadioGroup\n                                    name=\"approvetype\"\n                                    selectedValue={this.state.approvetype}\n                                    onChange={this.handleChange}>\n                                    <Radio value=\"withdraw\">弃审</Radio>\n                                </Radio.RadioGroup>\n                            </Col>\n                            <Col md={4} style={{ \"textAlign\": \"right\" }}>\n                                {/*{this.props.appType == \"2\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"2\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入弃审意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                </div>\n                <Modal\n                    show={this.state.rejectToActivityShow}\n                    backdrop={false}\n                    onHide={this.activityModalClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title> 活动列表 </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Table\n                            rowKey={(r) => r.activityId}\n                            emptyText={() => (<div>暂无数据</div>)}\n                            rowClassName={(record, index, indent) => {\n                                if (this.state.selectedRow[index]) {\n                                    return 'selected';\n                                } else {\n                                    return '';\n                                }\n                            }}\n                            onRowClick={(record, index, indent) => {\n                                let selectedRow = new Array(this.state.rejectlist.length);\n                                selectedRow[index] = true;\n                                this.setState({\n                                    activityId: record.activityId,\n                                    activityName:record.activityName,\n                                    selectedRow: selectedRow\n                                },()=>{\n                                    this.props.onChangestate(this.state);\n                                });\n                            }}\n                            columns={this.rejectToActivityCol} data={this.state.rejectlist} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button colors=\"primary\" style={{ \"marginRight\": \"10px\" }} onClick={this.activityModalClose}> 确定 </Button>\n                        <Button onClick={this.activityModalClose}> 关闭 </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\nBpmTaskApproval.propTypes = propTypes;\nBpmTaskApproval.defaultProps = {\n    appType: \"1\",\n    refCode: \"newuser\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    properties:{\n        addSignAble:true, //可否加签\n        iscopytouser:true, //可否抄送\n        rejectAble:true, //可否驳回\n        delegateAble:true, //可否改派\n        unagreeable:true, //可否不同意\n        assignAble:true, //可否指派\n        deleteable:true //可否驳回制单人\n    }\n}\n\nexport default BpmTaskApproval;\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Demo from './demo';\n\nReactDOM.render(<Demo />, document.querySelector(\"#app\"));","import React, { Component } from 'react';\nimport { Button } from 'tinper-bee';\nimport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign\n} from './index';\n\nimport 'tinper-bee/assets/tinper-bee.css';\n// import './index.less';\n\nclass Demo extends Component {\n    constructor() {\n        super();\n        this.state = {\n\n        }\n    }\n    render() {\n        return (\n            <div>\n                <BpmTaskApprovalWrap\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                    appType=\"1\"\n                    id=\"5062f7d0c69e4a28b9e5a424a8ad57cb\"\n                />\n                <BpmLinkAssign />\n                <BpmFlowChart\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}/>\n\n                <BpmTable\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}\n                />\n\n                <BpmTestCheckTable />\n\n                <BpmButtonSubmit\n                    funccode=\"masterdetail-one\"\n                    nodekey=\"purchaseOrder\"\n                    size=\"lg\"\n                    isOne={true}\n                    url={`/iuap-pap-demo-be/purchase_order/submit`}\n                    urlAssignSubmit={`/iuap-pap-demo-be/purchase_order/assignSubmit`}\n                    checkedArray={\n                        [{\"id\":\"5062f7d0c69e4a28b9e5a424a8ad57cb\",\"createTime\":\"2019-06-20 12:57:38 838\",\"createUser\":\"U001\",\"lastModified\":\"2019-06-20 12:57:38 838\",\"lastModifyUser\":\"U001\",\"ts\":\"2019-06-20 12:57:38 838\",\"newTs\":\"2019-06-20 15:57:27 301\",\"dr\":0,\"bpmState\":0,\"taskKey\":null,\"taskId\":null,\"processInstanceId\":null,\"processDefineCode\":null,\"comment\":null,\"bpmStateEnumValue\":\"待确认\",\"orderUser\":\"U001\",\"orderType\":1,\"orderTypeEnumValue\":\"普通采购\",\"orderDeptName\":\"开发部\",\"orderDept\":\"1a0b3fc7-2032-42ac-b13f-80dedb5934fe\",\"orderCode\":\"B220190620001\",\"orderPrice\":2,\"orderDate\":\"2019-06-20\",\"orderUserName\":\"系统管理员\",\"orderName\":\"aa\",\"tenantid\":\"tenant\",\"orderName2\":null,\"orderName3\":null,\"orderName4\":null,\"orderName5\":null,\"orderName6\":null,\"bpmBillCode\":\"201906201557274\",\"mainBoCode\":\"PURCHASE_ORDER\"}]\n                        }\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-up'></i>提交\n                    </Button>\n                </BpmButtonSubmit>\n\n                <BpmButtonRecall\n                    url={`/iuap_pap_quickstart/example_workorder/recall`}\n                    checkedArray={\n                        [\n                            {\n                                \"id\": \"ccb34c6d3fc349789be73678d7cc8fac\",\n                                \"createTime\": \"2018-07-04 12:36:26 088\",\n                                \"createUser\": \"U001\",\n                                \"lastModified\": \"2018-07-04 12:36:26 088\",\n                                \"lastModifyUser\": \"U001\",\n                                \"ts\": \"2018-07-04 12:36:26 088\",\n                                \"dr\": 0,\n                                \"bpmState\": 1,\n                                \"taskKey\": null,\n                                \"taskId\": null,\n                                \"processInstanceId\": null,\n                                \"processDefineCode\": null,\n                                \"comment\": null,\n                                \"orderCode\": \"201807042036265\",\n                                \"orderName\": null,\n                                \"supplier\": null,\n                                \"supplierName\": \"11\",\n                                \"type\": \"0\",\n                                \"purchasing\": \"22\",\n                                \"purchasingGroup\": \"22\",\n                                \"voucherDate\": 1530633600000,\n                                \"approvalState\": null,\n                                \"confirmState\": null,\n                                \"closeState\": null,\n                                \"type_name\": \"投诉工单\",\n                                \"approvalState_name\": null,\n                                \"confirmState_name\": null,\n                                \"closeState_name\": null,\n                                \"remark\": null,\n                                \"bpmBillCode\": null\n                            }\n                        ]\n                    }\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-down'></i>收回\n                    </Button>\n                </BpmButtonRecall>\n            </div>\n        );\n    }\n}\n\nexport default Demo;\n","import BpmTable from './BpmTable';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport BpmTestCheckTable from './BpmTestCheckTable';\nimport BpmWrap from './BpmWrap';\nimport BpmTaskApprovalWrap from './BpmTaskApprovalWrap';\nimport BpmButtonSubmit from './BpmButtonSubmit';\nimport BpmButtonRecall from './BpmButtonRecall';\nimport BpmLinkAssign from './BpmLinkAssign';\n\n\n\nexport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign,\n\n}","/**\n * 核心功能函数处理类\n */\n\nimport axios from 'axios';\nimport { Message } from 'tinper-bee';\n\n/**\n * 后端时间戳转换正常日期时间\n * @param {*} _stamp 时间戳\n * @param {*} formatStr 日期格式\n */\nexport const timestampToDate = (_stamp, formatStr = 'yyyy-MM-dd  hh:mm:ss') => {\n    let unixTimestamp = new Date(_stamp);\n    {\n        var str = formatStr;\n        var Week = ['日', '一', '二', '三', '四', '五', '六'];\n\n        str = str.replace(/yyyy|YYYY/, unixTimestamp.getFullYear());\n        str = str.replace(/yy|YY/, (unixTimestamp.getYear() % 100) > 9 ? (unixTimestamp.getYear() % 100).toString() : '0' + (unixTimestamp.getYear() % 100));\n        var month = unixTimestamp.getMonth() + 1;\n        str = str.replace(/MM/, month > 9 ? month.toString() : '0' + month);\n        str = str.replace(/M/g, month);\n\n        str = str.replace(/w|W/g, Week[unixTimestamp.getDay()]);\n\n        str = str.replace(/dd|DD/, unixTimestamp.getDate() > 9 ? unixTimestamp.getDate().toString() : '0' + unixTimestamp.getDate());\n        str = str.replace(/d|D/g, unixTimestamp.getDate());\n\n        str = str.replace(/hh|HH/, unixTimestamp.getHours() > 9 ? unixTimestamp.getHours().toString() : '0' + unixTimestamp.getHours());\n        str = str.replace(/h|H/g, unixTimestamp.getHours());\n        str = str.replace(/mm/, unixTimestamp.getMinutes() > 9 ? unixTimestamp.getMinutes().toString() : '0' + unixTimestamp.getMinutes());\n        str = str.replace(/m/g, unixTimestamp.getMinutes());\n\n        str = str.replace(/ss|SS/, unixTimestamp.getSeconds() > 9 ? unixTimestamp.getSeconds().toString() : '0' + unixTimestamp.getSeconds());\n        str = str.replace(/s|S/g, unixTimestamp.getSeconds());\n        return str;\n    }\n}\n\n/**\n * 流程历史表格描述转换\n */\nexport const descriptionToText = (vApproveType) => {\n    if (vApproveType == 'submit') {\n        return '提交';\n    }\n    if (vApproveType == 'agree') {\n        return '审批';\n    }\n    if (vApproveType == 'unagree') {\n        return '不同意';\n    }\n    if (vApproveType == 'reject') {\n        return '驳回';\n    }\n    if (vApproveType == 'signAdd') {\n        return '加签';\n    }\n    if (vApproveType == 'signAdding') {\n        return '加签中';\n    }\n    if (vApproveType == 'delegate') {\n        return '改派';\n    }\n    if (vApproveType == 'termination') {\n        return '终止';\n    }\n    if (vApproveType == 'withdraw') {\n        return '删除';\n    }\n    if (vApproveType == 'postCompleted') {\n        return '审批';\n    }\n}\n\n/**\n * 获得处理URL\n */\nexport const getBpmTaskURL = (type, root = \"/eiap-plus/\") => {\n    switch (type) {\n        case 'agree':\n            return root + 'task/completetask/approveCard';\n        case 'unagree':\n            return root + 'task/completetask/approveCard';\n        case 'rejectToActivity':\n            return root + 'task/rejecttask/bfreject';\n        case 'rejectToBillMaker':\n            return root + 'task/rejecttask/reject';\n        case 'signAdd':\n            return root + 'task/assignee/getlist';\n        case 'delegate':\n            return root + 'task/assignee/getlist';\n        case 'withdraw':\n            return root + 'task/withdrawtask/withdraw';\n        case 'hisTasklist':\n            return root + 'process/hisTasklist';\n        case 'commit':\n            return root + 'task/assigntask/commit';\n        case 'signaddtask':\n            return root + 'task/signaddtask/signadd';\n        case 'delegatetask':\n            return root + 'task/delegatetask/delegate';\n        default:\n            return \"/\"\n            break;\n    }\n}\n\n/**\n * 发送异步\n */\nexport const sendBpmTaskAJAX = (type, data) => {\n    switch (type) {\n        case 'agree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'unagree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToActivity':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToBillMaker':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signAdd':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegate':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'withdraw':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'hisTasklist':\n            return axios.post(getBpmTaskURL(type), {\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'commit':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                activityName: data.activityName,\n                comment: data.comment,\n                taskId: data.taskId,\n                approvetype: data.approvetype,\n                processInstanceId: data.processInstanceId,\n                participants: data.participants\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signaddtask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userIds: data.userIds,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegatetask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userId: data.userId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n\n        default:\n            break;\n    }\n    return axios.post(getBpmTaskURL(type), data).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    })\n}\n\n/**\n * 通过billID获得流程图参数\n */\nexport const billidToIds = (billId) => {\n    return axios.post('/eiap-plus/process/getbillbpm', {\n        billId\n    });\n}\n/**\n * 查询数据\n */\nexport const queryBpmTemplateAllocate = (obj) => {\n    return axios.get(`/eiap-plus/appResAllocate/queryBpmTemplateAllocate?_=${Math.random()}`, {\n        params: {\n            funccode: obj.funccode,\n            nodekey: obj.nodekey\n        }\n    });\n}\n/**\n * 提交流程\n */\nexport const onCommit = (data) => {\n    return axios({\n        url: `${data.url}`,\n        method: \"post\",\n        data: data['submitArray'],\n        params: { \"processDefineCode\": data['processDefineCode'] }\n    });\n}\n/**\n * 收回流程\n */\nexport const onRecall = (url, data) => {\n    return axios({\n        url: `${url}`,\n        method: \"post\",\n        data: data\n    });\n}\n\n/**\n * 审批状态类型返回默认审批文案\n */\nexport const approvetypeToText = (type) => {\n    switch (type) {\n        case 'agree':\n            return '审批同意';\n        case 'unagree':\n            return '审批不同意';\n        case 'rejectToActivity':\n            return '驳回到环节';\n        case 'rejectToBillMaker':\n            return '驳回到制单人';\n        case 'signAdd':\n            return '加签';\n        case 'delegate':\n            return '改派';\n        case 'withdraw':\n            return '弃审';\n        default:\n            break;\n    }\n}\n\n/**\n * Unicode编码转换\n */\nexport const reconvert = (str) => {\n    str = str.replace(/(\\\\u)(\\w{1,4})/gi, function ($0) {\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\w{1,4})/g, \"$2\")), 16)));\n    });\n    str = str.replace(/(&#x)(\\w{1,4});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\w{1,4})(%3B)/g, \"$2\"), 16));\n    });\n    str = str.replace(/(&#)(\\d{1,6});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\d{1,6})(%3B)/g, \"$2\")));\n    });\n\n    return str;\n}","var map = {\n\t\"./af\": 248,\n\t\"./af.js\": 248,\n\t\"./ar\": 249,\n\t\"./ar-dz\": 250,\n\t\"./ar-dz.js\": 250,\n\t\"./ar-kw\": 251,\n\t\"./ar-kw.js\": 251,\n\t\"./ar-ly\": 252,\n\t\"./ar-ly.js\": 252,\n\t\"./ar-ma\": 253,\n\t\"./ar-ma.js\": 253,\n\t\"./ar-sa\": 254,\n\t\"./ar-sa.js\": 254,\n\t\"./ar-tn\": 255,\n\t\"./ar-tn.js\": 255,\n\t\"./ar.js\": 249,\n\t\"./az\": 256,\n\t\"./az.js\": 256,\n\t\"./be\": 257,\n\t\"./be.js\": 257,\n\t\"./bg\": 258,\n\t\"./bg.js\": 258,\n\t\"./bm\": 259,\n\t\"./bm.js\": 259,\n\t\"./bn\": 260,\n\t\"./bn.js\": 260,\n\t\"./bo\": 261,\n\t\"./bo.js\": 261,\n\t\"./br\": 262,\n\t\"./br.js\": 262,\n\t\"./bs\": 263,\n\t\"./bs.js\": 263,\n\t\"./ca\": 264,\n\t\"./ca.js\": 264,\n\t\"./cs\": 265,\n\t\"./cs.js\": 265,\n\t\"./cv\": 266,\n\t\"./cv.js\": 266,\n\t\"./cy\": 267,\n\t\"./cy.js\": 267,\n\t\"./da\": 268,\n\t\"./da.js\": 268,\n\t\"./de\": 269,\n\t\"./de-at\": 270,\n\t\"./de-at.js\": 270,\n\t\"./de-ch\": 271,\n\t\"./de-ch.js\": 271,\n\t\"./de.js\": 269,\n\t\"./dv\": 272,\n\t\"./dv.js\": 272,\n\t\"./el\": 273,\n\t\"./el.js\": 273,\n\t\"./en-SG\": 274,\n\t\"./en-SG.js\": 274,\n\t\"./en-au\": 275,\n\t\"./en-au.js\": 275,\n\t\"./en-ca\": 276,\n\t\"./en-ca.js\": 276,\n\t\"./en-gb\": 154,\n\t\"./en-gb.js\": 154,\n\t\"./en-ie\": 277,\n\t\"./en-ie.js\": 277,\n\t\"./en-il\": 278,\n\t\"./en-il.js\": 278,\n\t\"./en-nz\": 279,\n\t\"./en-nz.js\": 279,\n\t\"./eo\": 280,\n\t\"./eo.js\": 280,\n\t\"./es\": 281,\n\t\"./es-do\": 282,\n\t\"./es-do.js\": 282,\n\t\"./es-us\": 283,\n\t\"./es-us.js\": 283,\n\t\"./es.js\": 281,\n\t\"./et\": 284,\n\t\"./et.js\": 284,\n\t\"./eu\": 285,\n\t\"./eu.js\": 285,\n\t\"./fa\": 286,\n\t\"./fa.js\": 286,\n\t\"./fi\": 287,\n\t\"./fi.js\": 287,\n\t\"./fo\": 288,\n\t\"./fo.js\": 288,\n\t\"./fr\": 289,\n\t\"./fr-ca\": 290,\n\t\"./fr-ca.js\": 290,\n\t\"./fr-ch\": 291,\n\t\"./fr-ch.js\": 291,\n\t\"./fr.js\": 289,\n\t\"./fy\": 292,\n\t\"./fy.js\": 292,\n\t\"./ga\": 293,\n\t\"./ga.js\": 293,\n\t\"./gd\": 294,\n\t\"./gd.js\": 294,\n\t\"./gl\": 295,\n\t\"./gl.js\": 295,\n\t\"./gom-latn\": 296,\n\t\"./gom-latn.js\": 296,\n\t\"./gu\": 297,\n\t\"./gu.js\": 297,\n\t\"./he\": 298,\n\t\"./he.js\": 298,\n\t\"./hi\": 299,\n\t\"./hi.js\": 299,\n\t\"./hr\": 300,\n\t\"./hr.js\": 300,\n\t\"./hu\": 301,\n\t\"./hu.js\": 301,\n\t\"./hy-am\": 302,\n\t\"./hy-am.js\": 302,\n\t\"./id\": 303,\n\t\"./id.js\": 303,\n\t\"./is\": 304,\n\t\"./is.js\": 304,\n\t\"./it\": 305,\n\t\"./it-ch\": 306,\n\t\"./it-ch.js\": 306,\n\t\"./it.js\": 305,\n\t\"./ja\": 307,\n\t\"./ja.js\": 307,\n\t\"./jv\": 308,\n\t\"./jv.js\": 308,\n\t\"./ka\": 309,\n\t\"./ka.js\": 309,\n\t\"./kk\": 310,\n\t\"./kk.js\": 310,\n\t\"./km\": 311,\n\t\"./km.js\": 311,\n\t\"./kn\": 312,\n\t\"./kn.js\": 312,\n\t\"./ko\": 313,\n\t\"./ko.js\": 313,\n\t\"./ku\": 314,\n\t\"./ku.js\": 314,\n\t\"./ky\": 315,\n\t\"./ky.js\": 315,\n\t\"./lb\": 316,\n\t\"./lb.js\": 316,\n\t\"./lo\": 317,\n\t\"./lo.js\": 317,\n\t\"./lt\": 318,\n\t\"./lt.js\": 318,\n\t\"./lv\": 319,\n\t\"./lv.js\": 319,\n\t\"./me\": 320,\n\t\"./me.js\": 320,\n\t\"./mi\": 321,\n\t\"./mi.js\": 321,\n\t\"./mk\": 322,\n\t\"./mk.js\": 322,\n\t\"./ml\": 323,\n\t\"./ml.js\": 323,\n\t\"./mn\": 324,\n\t\"./mn.js\": 324,\n\t\"./mr\": 325,\n\t\"./mr.js\": 325,\n\t\"./ms\": 326,\n\t\"./ms-my\": 327,\n\t\"./ms-my.js\": 327,\n\t\"./ms.js\": 326,\n\t\"./mt\": 328,\n\t\"./mt.js\": 328,\n\t\"./my\": 329,\n\t\"./my.js\": 329,\n\t\"./nb\": 330,\n\t\"./nb.js\": 330,\n\t\"./ne\": 331,\n\t\"./ne.js\": 331,\n\t\"./nl\": 332,\n\t\"./nl-be\": 333,\n\t\"./nl-be.js\": 333,\n\t\"./nl.js\": 332,\n\t\"./nn\": 334,\n\t\"./nn.js\": 334,\n\t\"./pa-in\": 335,\n\t\"./pa-in.js\": 335,\n\t\"./pl\": 336,\n\t\"./pl.js\": 336,\n\t\"./pt\": 337,\n\t\"./pt-br\": 338,\n\t\"./pt-br.js\": 338,\n\t\"./pt.js\": 337,\n\t\"./ro\": 339,\n\t\"./ro.js\": 339,\n\t\"./ru\": 340,\n\t\"./ru.js\": 340,\n\t\"./sd\": 341,\n\t\"./sd.js\": 341,\n\t\"./se\": 342,\n\t\"./se.js\": 342,\n\t\"./si\": 343,\n\t\"./si.js\": 343,\n\t\"./sk\": 344,\n\t\"./sk.js\": 344,\n\t\"./sl\": 345,\n\t\"./sl.js\": 345,\n\t\"./sq\": 346,\n\t\"./sq.js\": 346,\n\t\"./sr\": 347,\n\t\"./sr-cyrl\": 348,\n\t\"./sr-cyrl.js\": 348,\n\t\"./sr.js\": 347,\n\t\"./ss\": 349,\n\t\"./ss.js\": 349,\n\t\"./sv\": 350,\n\t\"./sv.js\": 350,\n\t\"./sw\": 351,\n\t\"./sw.js\": 351,\n\t\"./ta\": 352,\n\t\"./ta.js\": 352,\n\t\"./te\": 353,\n\t\"./te.js\": 353,\n\t\"./tet\": 354,\n\t\"./tet.js\": 354,\n\t\"./tg\": 355,\n\t\"./tg.js\": 355,\n\t\"./th\": 356,\n\t\"./th.js\": 356,\n\t\"./tl-ph\": 357,\n\t\"./tl-ph.js\": 357,\n\t\"./tlh\": 358,\n\t\"./tlh.js\": 358,\n\t\"./tr\": 359,\n\t\"./tr.js\": 359,\n\t\"./tzl\": 360,\n\t\"./tzl.js\": 360,\n\t\"./tzm\": 361,\n\t\"./tzm-latn\": 362,\n\t\"./tzm-latn.js\": 362,\n\t\"./tzm.js\": 361,\n\t\"./ug-cn\": 363,\n\t\"./ug-cn.js\": 363,\n\t\"./uk\": 364,\n\t\"./uk.js\": 364,\n\t\"./ur\": 365,\n\t\"./ur.js\": 365,\n\t\"./uz\": 366,\n\t\"./uz-latn\": 367,\n\t\"./uz-latn.js\": 367,\n\t\"./uz.js\": 366,\n\t\"./vi\": 368,\n\t\"./vi.js\": 368,\n\t\"./x-pseudo\": 369,\n\t\"./x-pseudo.js\": 369,\n\t\"./yo\": 370,\n\t\"./yo.js\": 370,\n\t\"./zh-cn\": 103,\n\t\"./zh-cn.js\": 103,\n\t\"./zh-hk\": 371,\n\t\"./zh-hk.js\": 371,\n\t\"./zh-tw\": 372,\n\t\"./zh-tw.js\": 372\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 665;","/**\n * 模拟任务中心测试组件\n */\n\nimport React, { Component } from 'react';\nimport { Table, Row, Col, Button } from 'tinper-bee';\nimport axios from 'axios';\n\nclass BpmTestCheckTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            factoryValue: {}\n        };\n        this.columns = [\n            {\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\",\n                width: \"30%\"\n            },\n            {\n                title: \"ID\",\n                dataIndex: \"id\",\n                key: \"id\"\n            },\n            {\n                title: \"processDefinitionId\",\n                dataIndex: \"processDefinitionId\",\n                key: \"processDefinitionId\"\n            },\n            {\n                title: \"processInstanceId\",\n                dataIndex: \"processInstanceId\",\n                key: \"processInstanceId\"\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let hisTasklist = `eiap-plus/process/undoTasklist`;\n        let hisTasklistData = await axios.post(hisTasklist, { \"draw\": 1, \"length\": 10, \"order\": {}, \"search\": { \"search_EQ_code\": \"\", \"undefined\": \"\", \"processDefinitionName\": \"\", \"billno\": \"\" }, \"searchconfirm\": {} });\n        if (Array.isArray(hisTasklistData.data.data)) {\n            this.setState({\n                data: hisTasklistData.data.data\n            });\n        }\n\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n            title={() => <Button colors=\"primary\" onClick={() => {\n                //document.location.hash = `#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                document.location.hash = `#/bdm/bpmapproval?id=${this.state.factoryValue.id}&processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                //window.open(`http://127.0.0.1:3000/#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`);\n            }}>任务中心打开审批</Button>}\n            onRowClick={(record, index, indent) => {\n                this.setState({\n                    factoryValue: record\n                });\n            }}\n        />);\n    }\n}\n\nexport default BpmTestCheckTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row } from 'tinper-bee';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTable from './BpmTable';\nimport { billidToIds } from './common';\n\n\nconst propTypes = {\n    id: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n\n}\nclass BpmWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            processDefinitionId: \"\",\n            processInstanceId: \"\"\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            let { processDefinitionId, processInstanceId } = pID.data;\n            this.setState({\n                processDefinitionId,\n                processInstanceId\n            });\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId\n            });\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmFlowChart\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmTable\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\nBpmWrap.propTypes = propTypes;\nBpmWrap.defaultProps = {\n    id: \"\"\n}\nexport default BpmWrap;\n","/**\n * 审批逻辑组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row, Button ,Message} from 'tinper-bee';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport { billidToIds } from './common';\nimport refOptions from './refOptions';\nimport  { RefTreeTransfer} from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n\nimport { sendBpmTaskAJAX } from './common';\n\nconst propTypes = {\n    id: PropTypes.string,\n    refCode: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    onBpmFlowClick: PropTypes.func,\n    appType: PropTypes.string,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func\n}\nclass BpmTaskApprovalWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isShowFlowBtn: false,\n            id: \"\",\n            taskId: \"\",\n            processDefinitionId: \"\",\n            processInstanceId: \"\",\n            copyusers:[], //抄送数据\n            intersection:true, //是否交集\n            approvetype:\"agree\",  //审批类型\n            comment:\"审批同意\", //审批内容\n            activityId:\"\",//驳回环节id\n            userIds:[],//加签用户数组\n            userId:\"\",//改派用户\n            showModal:false,\n            properties:{\n                addSignAble:true, //可否加签\n                iscopytouser:true, //可否抄送\n                rejectAble:true, //可否驳回\n                delegateAble:true, //可否改派\n                unagreeable:true, //可否不同意\n                assignAble:true, //可否指派\n                deleteable:true  //可否驳回到制单人\n            }\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            if (pID.data.message && pID.data.message == 'NoBpm') {\n                // console.log('NoBpm');\n                this.setState({\n                    isShowFlowBtn: false\n                });\n            } else if (pID.data.taskId) {\n                let { processDefinitionId, processInstanceId, taskId } = pID.data;\n                //可否加签|可否抄送|可否驳回|可否改派|可否不同意|可否指派\n                let {currentActivity:{ properties:{ addsignAble,iscopytouser,rejectAble ,delegateAble,unagreeable,assignAble ,deleteable}}}= pID.data;\n\n                this.setState({\n                    id: taskId,\n                    taskId:taskId,\n                    properties:{\n                        addsignAble,iscopytouser,rejectAble,delegateAble,unagreeable,assignAble,deleteable\n                    },\n                    processDefinitionId,\n                    processInstanceId,\n                });\n            } else {\n                this.setState({\n                    isShowFlowBtn: true\n                });\n            }\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId,\n                id: this.props.id\n            });\n        }\n    }\n    //提交\n    handlerSubmitBtn =  async()=>{\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        if (this.state.comment == \"\") {\n            Message.create({ content: '审批意见不能为空', color: 'danger', position: 'top' });\n            return;\n        }\n        onStart && onStart();\n        //检测需要二次请求并弹出Modal审批\n        switch (this.state.approvetype) {\n            case 'agree'://同意\n            case 'unagree'://不同意\n                let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                //普通同意操作，没有后续操作，直接成功\n                if (result.data.flag == 'success') {\n                    Message.create({ content: result.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else if (result.data.flag == 'faile') {\n                    Message.create({ content: result.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: result.data.msg\n                    });\n                }\n                //普通同意操作，有后续操作，有加签人员判断\n                if (result.data.assignAble) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.assignList.length > 0) {\n                        this.setState({\n                            HuoDongID: result.data.assignList[0].activityId,\n                            HuoDongName: result.data.assignList[0].activityName\n                        });\n                    }\n                    // onStart && onStart();\n                    //可以是加签操作，拉取加签请求\n                    onEnd && onEnd();\n\n                    //弹出参照组件\n                    // createModal(options);\n                    this.setState({showModal:true})\n                }\n                break;\n            //驳回到环节\n            case 'rejectToActivity':\n                let {activityId,approvetype,comment,processInstanceId,taskId}=this.state;\n                if(!activityId ||activityId.length ===0){\n                    Message.create({ content: `驳回环节不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `驳回环节不可为空`\n                    });\n                    return\n                }\n                let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n                    activityId: activityId,\n                    approvetype: approvetype,\n                    comment: comment,\n                    processInstanceId: processInstanceId,\n                    taskId: taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求错误`\n                    });\n                });\n\n                if (rejectToBillMakerMsg.data.flag == 'success') {\n                    onSuccess && onSuccess();\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n                    this.setState({\n                        rejectToActivityShow: false,\n                        rejectlist: [],\n                        selectedRow: []\n                    });\n                } else {\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectToBillMakerMsg.data.msg\n                    });\n                }\n                break;\n            //加签\n            case 'signAdd':\n                onStart && onStart();\n                //TO DO:重构URL\n                if(!this.state.userIds ||this.state.userIds.length ===0){\n                    Message.create({ content: `加签人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `加签人员不可为空`\n                    });\n                    return\n                }\n                //执行最终加签操作\n                let signAddMsg = await sendBpmTaskAJAX('signaddtask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userIds: this.state.userIds,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //判断加签最终是否成功\n                if (signAddMsg.data.flag == 'success') {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: signAddMsg.data.msg\n                    });\n                }\n                break;\n            //改派\n            case 'delegate':\n                onStart && onStart();\n                if(!this.state.userId ||this.state.userId.length ===0){\n                    Message.create({ content: `改派人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `改派人员不可为空`\n                    });\n                    return\n                }\n                //TO DO:重构URL\n                let delegateMsg = await sendBpmTaskAJAX('delegatetask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userId: this.state.userId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //处理后续的操作\n                if (delegateMsg.data.flag === 'success') {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: delegateMsg.data.msg\n                    });\n                }\n                break;\n            //弃审\n            case 'withdraw':\n                let res = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                if (res.data.flag === 'success') {\n                    Message.create({ content: res.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: res.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: res.data.msg\n                    });\n                }\n                break;\n            case 'rejectToBillMaker':\n                let rejectres = await sendBpmTaskAJAX(this.state.approvetype,{\n                    activityId: 'markerbill',\n                    approvetype: this.state.approvetype,\n                    comment:this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                });\n                if (rejectres.data.flag === 'success') {\n                    Message.create({ content: rejectres.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: rejectres.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectres.data.msg\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    onChangestate =(s)=>{  //审批面板选择的数据\n           //审批类型       审批消息  任务ID  驳回活动id   加签数据  改派\n        let { approvetype, comment,taskId, activityId, userIds, userId} =s;\n        this.setState({\n            approvetype, comment,taskId, activityId, userIds, userId\n        });\n    var options = Object.assign(JSON.parse(refOptions), {\n        title: '指派人员选择',\n        backdrop: false,\n        hasPage: true,\n        refType: 5,//1:树形 2.单表 3.树卡型 4.多选 5.default\n        isRadio: false,\n        className: '',\n        param: {//url请求参数\n            refCode: this.props.refCode,\n            tenantId: '',\n            sysId: '',\n            transmitParam: 'EXAMPLE_CONTACTS,EXAMPLE_ORGANIZATION',\n        },\n        //选择中的数据\n        checkedArray:[],\n        textOption: {\n            modalTitle: '选择指派人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        onCancel: function (p) {\n            console.log(p)\n        },\n        //保存回调sels选中的行数据showVal显示的字\n        onSave: async (sels, showVal) => {//showVal=\"12;13;管理员\"\n        //回调\n        onStart && onStart();\n    //同意后续的加签\n    //TO DO:重构URL\n    var agreeeMsg = await sendBpmTaskAJAX('commit', {\n        activityId: this.state.HuoDongID,\n        activityName: this.state.HuoDongName,\n        comment: this.state.comment,\n        taskId: this.state.taskId,\n        approvetype: this.state.approvetype,\n        processInstanceId: this.state.processInstanceId,\n        participants: Array.from(sels, x => ({ \"id\": x.id }))\n}).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    onError && onError({\n        type: 2,\n        msg: `服务器请求出错`\n    });\n});\n    //确认加签后的处理\n    if (agreeeMsg.data.flag == 'success') {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n        this.setState({\n            rejectlist: [],\n            selectedRow: []\n        });\n        onSuccess && onSuccess();\n    } else {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n        onError && onError({\n            type: 2,\n            msg: agreeeMsg.data.msg\n        });\n    }\n},\n    showVal: '',\n        showKey: 'refname',\n        verification: false\n});\n    }\n    render() {\n        const assignOption = {\n            title: '指派人员选择',\n            textOption: {\n                modalTitle: '选择指派人员',\n                leftTitle: '组织结构',\n                rightTitle: '人员列表',\n                leftTransferText: '待选人员',\n                rightTransferText: '已选人员',\n\n            },\n            param: {//url请求参数\n                refCode: 'neworgdeptuser_treegrid ',//test_common||test_grid||test_tree||test_treeTable\n                // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n            },\n            refModelUrl: {\n                treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                tableBodyUrlSearch: '',\n                tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n            },\n            jsonp: true,\n            hearders: {},\n            displayField: '{refname}',//显示内容的键\n            valueField: 'refcode',//真实 value 的键\n            onCancel: function (p) {\n                console.log(p)\n                this.setState({showModal:false})\n            },\n            onSave: async(sels) =>{\n                this.setState({showModal:false})\n\n            onStart && onStart();\n            //同意后续的加签\n            //TO DO:重构URL\n            let agreeeMsg = await sendBpmTaskAJAX('commit', {\n                activityId: this.state.HuoDongID,\n                activityName: this.state.HuoDongName,\n                comment: this.state.comment,\n                taskId: this.state.taskId,\n                approvetype: this.state.approvetype,\n                processInstanceId: this.state.processInstanceId,\n                participants: Array.from(sels, x => ({ \"id\": x.id }))\n            }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: `服务器请求出错`\n                });\n            });\n            //确认加签后的处理\n            if (agreeeMsg.data.flag == 'success') {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n                this.setState({\n                    rejectlist: [],\n                    selectedRow: []\n                });\n                onSuccess && onSuccess();\n            } else {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: agreeeMsg.data.msg\n                });\n            }\n        }\n    }\n        return (\n            <div className=\"clearfix\">\n                {this.state.processDefinitionId && <div>\n                    <Row>\n                        <div>\n\n                        </div>\n                    </Row>\n                    <Row>\n                    <Col md={12}>\n                        <BpmTaskApproval\n                            id={this.state.id}\n                            refCode={this.props.refCode}\n                            onBpmFlowClick={this.props.onBpmFlowClick}\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                            appType={this.props.appType}\n                            properties={this.state.properties}\n                            onStart={this.props.onStart}\n                            onEnd={this.props.onEnd}\n                            onSuccess={this.props.onSuccess}\n                            onError={this.props.onError}\n                            onChangestate = {this.onChangestate}\n                        />\n                    </Col>\n                </Row>\n\n                    <Row style={{\"margin\":\"8px 0\", \"padding\": \"0 10px\"}}>\n                        <Col md={4} mdOffset={8} xs={4} xsOffset={8} sm={4} smOffset={8} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                            <Button onClick={this.handlerSubmitBtn}  colors=\"primary\">提交</Button>\n                        </Col>\n                    </Row>\n\n                </div>}\n                {this.state.isShowFlowBtn && <Row>\n                    <Col mdOffset={11} md={1} style={{ \"textAlign\": \"right\" }}>\n                        <Button onClick={this.props.onBpmFlowClick} style={{ \"marginBottom\": \"4px\", \"marginRight\": \"15px\" }} colors=\"primary\">流程图</Button>\n                    </Col>\n                </Row>}\n                    <RefTreeTransfer {...assignOption} showModal={this.state.showModal}/>\n            </div>\n        );\n    }\n}\nBpmTaskApprovalWrap.propTypes = propTypes;\nBpmTaskApprovalWrap.defaultProps = {\n    id: \"\",\n    appType: \"1\",\n    refCode: \"userUnderOrgRef\"\n}\nexport default BpmTaskApprovalWrap;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table ,Row,Label,Checkbox } from 'tinper-bee';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n// import 'pap-refer/lib/pap-common-treeTransfer/src/index.css';\n// import 'tinper-bee/assets/tinper-bee.css'\n// import 'ref-tree-transfer/lib/index.less';\n// import './tinper-bee-theme.css'\n// import 'pap-refer/dist/index.css'\nimport './index.css'\n// import './test.css'\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    size: PropTypes.string,\n    scrollY: PropTypes.number,\n    isOne: PropTypes.bool,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonSubmit extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: [],//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [],\n            chaosongShow:false,//抄送显示\n            editRowIndex: 0,\n            showVal: [],\n            checkedArray:[], //指派选择的数据\n            copyusers:[],   //抄送数据\n            intersection:true,  //是否交集\n            submiting:false\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, isOne, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        //检查是否多单据提交\n        if (isOne && checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            if(!detailMsg.data ||detailMsg.data==null){\n                onError && onError({\n                    type: 1,\n                    msg: `当前单据没有绑定流程`\n                });\n                return;\n            }\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (!result.data.detailMsg.data.assignAble)) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data && result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        let arr = result.data.detailMsg.data.assignedActivities.filter( (item)=>{ return !item.properties.startactivity;});\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            chaosongShow:result.data.detailMsg.data.assignedActivities[0].properties.iscopytouser,\n                            huanjieList: arr,\n                            obj: checkedArray,\n                            assignInfo: {\n                                assignInfoItems: Array.from(arr, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            chaosongShow:false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj,copyusers,intersection,submiting } = this.state;\n        obj=obj[0];\n        let arr=[];\n        let self = this;\n        copyusers.map(function(value) {\n            arr=arr.concat(value);\n        });\n        copyusers=arr;\n        //加载事件\n        if(!submiting){\n            onStart && onStart();\n            this.setState({\n                submiting:true\n            })\n            let result = await axios.post(urlAssignSubmit, {\n                processDefineCode,\n                assignInfo,\n                obj,\n                copyusers,\n                intersection\n\n            }).catch((e) => {\n\n                onError && onError({\n                    type: 2,\n                    msg: `后台服务请求发生错误`\n                });\n                self.setState({\n                    submiting:false\n                })\n            });\n            if (result.data.success == 'success') {\n                onSuccess && onSuccess();\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            } else if (result.data.success == 'fail_global') {\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(result.data.message) || '流程启动失败'\n                });\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            }\n        }\n    }\n    changeCheck=()=> {\n        this.setState({intersection:!this.state.intersection});\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index) {\n\n                const option = {\n                    title: '选择指派人员',\n                    textOption: {\n                        modalTitle: '选择指派人员',\n                        leftTitle: '组织结构',\n                        rightTitle: '人员列表',\n                        leftTransferText: '待选人员',\n                        rightTransferText: '已选人员',\n\n                    },\n                    param: {//url请求参数\n                        refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n                        // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n                    },\n                    refModelUrl: {\n                        treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                        tableBodyUrlSearch: '',\n                        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n                    },\n                    jsonp: false,\n                    hearders: {},\n                    displayField: '{refname}',//显示内容的键\n                    valueField: 'refpk',//真实 value 的键\n                    onCancel: function (p) {\n                        console.log(p)\n                    },\n                    onSave: function (sels,showVal) {\n                        console.log(sels);\n                        var temp = sels.map(v => v.id);\n                        //显示值\n                        let _showVal = self.state.showVal.slice();\n                        _showVal[index] = showVal;\n                        //选中的值\n                        let _childRefKey = self.state.childRefKey.slice();\n                        _childRefKey[index] = temp;\n                        //副本原始对象\n                        let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                        //根据修改索引修改指定数据内容\n                        sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                        let checkedArray = self.state.checkedArray;\n                        checkedArray[index] = sels;\n                        self.setState({\n                            checkedArray:checkedArray,\n                            childRefKey: _childRefKey,\n                            showVal: _showVal,\n                            assignInfo: {\n                                assignInfoItems: sourseArray\n                            }\n                        });\n                    }\n                }\n\n                return <RefTreeTransferWithInput {...option}/>\n            }\n        }]\n\n\n        return (<span>\n            <span onClick={this.handlerBtn}>\n                {\n                    this.props.children\n                }\n            </span>\n            <Modal\n                size={this.props.size}\n                show={this.state.huanjieShow||this.state.chaosongShow}\n                backdrop={false}\n                enforceFocus={false}\n                onHide={this.closeHuanjie}>\n                <Modal.Header closeButton>\n                    <Modal.Title> {'环节指派'}</Modal.Title>\n                </Modal.Header>\n                {this.state.huanjieShow?<Modal.Body>\n                    <Table\n                        rowKey={record => record.id}\n                        columns={huanjieCol}\n                        data={this.state.huanjieList}\n                        scroll={{ x: \"100%\", y: 200 }}\n                    />\n                </Modal.Body>:\"\"}\n                <Modal.Footer>\n                    <Button style={{ \"marginRight\": \"10px\" }}  onClick={this.closeHuanjie}> 关闭 </Button>\n                    <Button colors=\"primary\"  onClick={this.huanjieHandlerOK}> 确定 </Button>\n\n                </Modal.Footer>\n            </Modal>\n        </span>);\n    }\n}\nBpmButtonSubmit.propTypes = propTypes;\nBpmButtonSubmit.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    size: \"\",\n    scrollY: 270,\n    isOne: false,\n    organrefCode:\"newdept\",\n    positonrefCode:\"newposition\",\n    roleRef:\"newRoleRef\",\n    userRef:\"newuser\"\n}\nexport default BpmButtonSubmit;\n","/**\n * bpm 收回流程按钮\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { onRecall } from './common';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    url: PropTypes.string,\n    data: PropTypes.array,\n    className: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonRecall extends Component {\n    constructor() {\n        super();\n    }\n    /**\n     * 收回操作事件\n     */\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        let recallArray = [];\n\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据收回`\n            });\n            return;\n        }\n\n        //操作数据至少有一个\n        if (checkedArray.length > 0) {\n            if (checkedArray[0].bpmState != 0 && checkedArray[0].bpmState != null) {\n                recallArray.push({ id: checkedArray[0].id });\n            } else {\n                onError && onError({\n                    type: 1,\n                    msg: `流程没有启动无法撤回`\n                });\n            }\n\n        } else {\n            // 弹出提示请选择数据\n            onError && onError({\n                type: 1,\n                msg: `请选择单据才能撤回`\n            });\n            return;\n        }\n        if (recallArray.length > 0) {\n            onStart && onStart();\n            let { data: { success, detailMsg } } = await onRecall(this.props.url, recallArray);\n            if (detailMsg.data['success'] && detailMsg.data.success == 'success') {\n                onSuccess && onSuccess();\n            } else {\n                onError && onError({\n                    type: 2,\n                    msg: detailMsg.data.message\n                });\n            }\n        }\n    }\n    render() {\n        return (<span onClick={this.handlerBtn}>\n            {\n                this.props.children\n            }\n        </span>);\n    }\n}\nBpmButtonRecall.propTypes = propTypes;\nBpmButtonRecall.defaultProps = {\n    checkedArray: [],\n    url: \"/example/ygdemo_yw_info/unsubmit\",\n    data: [],\n    className: \"\"\n}\nexport default BpmButtonRecall;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table } from 'tinper-bee';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    scrollY: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmLinkAssign extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: {},//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [\n                { \"id\": \"approveUserTask3283\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3183\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3a83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3s83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask32d3\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3zza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTasqzza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask34za83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTas43zza83\", \"name\": \"1\", \"type\": \"userTask\" }\n            ],\n            editRowIndex: 0,\n            showVal: []\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (typeof result.data.detailMsg.data.assignAble == 'undefined')) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            huanjieList: result.data.detailMsg.data.assignedActivities,\n                            obj: checkedArray[0],\n                            assignInfo: {\n                                assignInfoItems: Array.from(result.data.detailMsg.data.assignedActivities, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj } = this.state;\n        //加载事件\n        onStart && onStart();\n        let result = await axios.post(urlAssignSubmit, {\n            processDefineCode,\n            assignInfo,\n            obj\n        }).catch((e) => {\n            onError && onError({\n                type: 2,\n                msg: `后台服务请求发生错误`\n            });\n        });\n        if (result.data.success == 'success') {\n            onSuccess && onSuccess();\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        } else if (result.data.success == 'fail_global') {\n            onError && onError({\n                type: 2,\n                msg: reconvert(result.data.message) || '流程启动失败'\n            });\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        }\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index){\n                const option = {\n                        title: '人员选择',\n                        backdrop: true,\n                        disabled: false,\n                        multiple: false,\n                        strictMode: true,\n                        param:{//url请求参数\n                            refCode:'new_relatedUser'\n                        },\n                        refModelUrl:{\n                            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n                            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n                        },\n                        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n                        filterUrl: '/wbalone/common-ref/filterRefJSON',\n                        valueField: \"refpk\",\n                        displayField: \"{refname}\",\n                        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n                            var temp = sels.map(v => v.id);\n                            //显示值\n                            let _showVal = self.state.showVal.slice();\n                            _showVal[index] = showVal;\n                            //选中的值\n                            let _childRefKey = self.state.childRefKey.slice();\n                            _childRefKey[index] = temp;\n                            //副本原始对象\n                            let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                            //根据修改索引修改指定数据内容\n                            sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                            self.setState({\n                                childRefKey: _childRefKey,\n                                showVal: _showVal,\n                                assignInfo: {\n                                    assignInfoItems: sourseArray\n                                }})\n                        }}\n\n            return (<RefMultipleTableWithInput  {...option} />)\n\n                // {disabled: false,\n                //     multiple: false,\n                //     strictMode: true,\n                //     param:{//url请求参数\n                //         refCode:'new_relatedUser'\n                //     },\n                //     valueField: \"refpk\",\n                //     displayField: \"{refname}\",\n                //     onCancel: function (p) {\n                //         console.log(p)\n                //     },\n                //     title: '人员选择',\n                //     backdrop: false,\n                //     hasPage: true,\n                //     //保存回调sels选中的行数据showVal显示的字\n                //     onSave: function (sels, showVal) {//showVal=\"12;13;管理员\"\n                //         console.log(sels);\n                //         var temp = sels.map(v => v.id);\n                //         //显示值\n                //         let _showVal = self.state.showVal.slice();\n                //         _showVal[index] = showVal;\n                //         //选中的值\n                //         let _childRefKey = self.state.childRefKey.slice();\n                //         _childRefKey[index] = temp;\n                //         //副本原始对象\n                //         let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                //         //根据修改索引修改指定数据内容\n                //         sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                //         self.setState({\n                //             childRefKey: _childRefKey,\n                //             showVal: _showVal,\n                //             assignInfo: {\n                //                 assignInfoItems: sourseArray\n                //             }\n                //         });\n                //     }\n                // })}\n                // />)\n            }\n        }]\n        return (<Table\n            loading={false}\n            scroll={{ y: this.props.scrollY }}\n            emptyText={() => (<span>暂无环节</span>)}\n            rowKey={record => record.id}\n            columns={huanjieCol}\n            data={this.state.huanjieList}\n        />);\n    }\n}\nBpmLinkAssign.propTypes = propTypes;\nBpmLinkAssign.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    scrollY: 270\n}\nexport default BpmLinkAssign;\n","let option = {\n    title: '复杂表格参照',\n    backdrop: true,\n    disabled: false,\n    multiple: false,\n    strictMode: true,\n    param:{//url请求参数\n        refCode:'new_relatedUser'\n    },\n    refModelUrl:{\n        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n    },\n    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n    filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n    valueField: \"refpk\",\n    displayField: \"{refname}\",\n    fliterColumn: [{\n        dataIndex: \"code\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"name\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"level\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"dropdown\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    }]\n};\n\n\nexport default JSON.stringify(option)\n"],"sourceRoot":""}