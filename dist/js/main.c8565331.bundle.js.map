{"version":3,"sources":["webpack:///./src/BpmTable.js","webpack:///./src/BpmFlowChart.js","webpack:///./src/BpmTaskApproval.js","webpack:///./src/app.js","webpack:///./src/demo.js","webpack:///./src/index.js","webpack:///./src/common.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/BpmTestCheckTable.js","webpack:///./src/BpmWrap.js","webpack:///./src/BpmTaskApprovalWrap.js","webpack:///./src/BpmButtonSubmit.js","webpack:///./src/BpmButtonRecall.js","webpack:///./src/BpmLinkAssign.js","webpack:///./src/refOptions.js"],"names":["__webpack_require__","_react","_tinperBee","_common","propTypes","processDefinitionId","PropTypes","string","processInstanceId","BpmTable","_this2","this","_classCallCheck","_this","_possibleConstructorReturn","__proto__","_getPrototypeOf2","default","call","componentDidMount","_asyncToGenerator","_regenerator2","mark","_callee","_this$props","hisTasklistData","wrap","_context","prev","next","props","sendBpmTaskAJAX","sent","setState","data","stop","state","columns","title","dataIndex","key","width","render","text","record","index","_react2","createElement","descriptionToText","timestampToDate","Component","Table","bordered","emptyText","defaultProps","url","height","BpmFlowChart","_props","style","minHeight","src","frameBorder","id","appType","filterRefUrl","refCode","properties","object","onBpmFlowClick","func","onStart","onEnd","onSuccess","onError","onChangestate","BpmTaskApproval","componentWillMount","approvetype","comment","approvetypeToText","handleChange","value","userName","userIds","userId","checkedArray","handlerCommentChange","e","target","activityModalClose","rejectToActivityShow","rejectlist","selectedRow","rejectToActivityOK","rejectToBillMakerMsg","activityId","taskId","catch","Message","create","content","toString","color","position","type","msg","flag","handlerFlow","getDataSource","arr","_this$props$propertie","addsignAble","rejectAble","delegateAble","unagreeable","deleteable","push","rejectToActivity","_callee2","result","_context2","length","Array","activityName","HuoDongID","HuoDongName","rejectToActivityCol","_this3","self","assignOption","textOption","modalTitle","leftTitle","rightTitle","leftTransferText","rightTransferText","param","refModelUrl","treeUrl","tableBodyUrlSearch","tableBodyUrl","refInfo","jsonp","hearders","displayField","valueField","onCancel","p","console","log","onSave","sels","showVal","temp","map","v","option","backdrop","disabled","multiple","strictMode","matchUrl","filterUrl","className","padding","Row","margin","Col","md","sm","xs","paddingLeft","paddingRight","_beeSelect2","placeholder","onChange","defaultValue","_index4","_index2","FormControl","readOnly","onClick","mdOffset","xsOffset","smOffset","textAlign","Button","colors","outline","resize","border","marginBottom","borderRadius","lineHeight","Radio","RadioGroup","name","selectedValue","Modal","show","onHide","Header","closeButton","Title","Body","rowKey","r","rowClassName","indent","onRowClick","Footer","marginRight","addSignAble","iscopytouser","assignAble","ReactDOM","_demo2","document","querySelector","_index","Demo","BpmTaskApprovalWrap","err","BpmLinkAssign","BpmTestCheckTable","BpmButtonSubmit","funccode","nodekey","size","isOne","urlAssignSubmit","createTime","createUser","lastModified","lastModifyUser","ts","newTs","dr","bpmState","taskKey","processDefineCode","bpmStateEnumValue","orderUser","orderType","orderTypeEnumValue","orderDeptName","orderDept","orderCode","orderPrice","orderDate","orderUserName","orderName","tenantid","orderName2","orderName3","orderName4","orderName5","orderName6","bpmBillCode","mainBoCode","shape","BpmButtonRecall","supplier","supplierName","purchasing","purchasingGroup","voucherDate","approvalState","confirmState","closeState","type_name","approvalState_name","confirmState_name","closeState_name","remark","BpmWrap","_stamp","formatStr","arguments","undefined","unixTimestamp","Date","str","replace","getFullYear","getYear","month","getMonth","getDay","getDate","getHours","getMinutes","getSeconds","vApproveType","getBpmTaskURL","root","axios","post","copyusers","intersection","participants","billidToIds","billId","queryBpmTemplateAllocate","obj","get","Math","random","params","onCommit","_axios2","method","onRecall","reconvert","$0","String","fromCharCode","parseInt","escape","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","o","Error","code","keys","Object","resolve","module","exports","hisTasklist","draw","order","search","search_EQ_code","processDefinitionName","billno","searchconfirm","isArray","factoryValue","location","hash","pID","_pID$data","_BpmFlowChart2","_BpmTable2","_pID$data$currentActi","message","isShowFlowBtn","currentActivity","handlerSubmitBtn","_this$state","signAddMsg","delegateMsg","res","rejectres","abrupt","t0","assignList","showModal","s","_assign2","JSON","parse","refOptions","hasPage","refType","isRadio","tenantId","sysId","transmitParam","_ref3","_callee3","agreeeMsg","_context3","_from2","x","_x","_x2","apply","showKey","verification","_ref4","_callee4","_context4","_x3","_BpmTaskApproval2","RefTreeTransfer","_extends","array","scrollY","number","bool","handlerBtn","_ref2","_ref2$data","success","detailMsg","commitParam","_result","_result2","children","res_code","submitArray","assignedActivities","filter","item","startactivity","huanjieShow","chaosongShow","huanjieList","assignInfo","assignInfoItems","closeHuanjie","childRefKey","signAddOK","editRowIndex","sourseArray","slice","huanjieHandlerOK","_this$props2","submiting","_result3","concat","changeCheck","huanjieCol","_showVal","_childRefKey","_index3","enforceFocus","scroll","y","organrefCode","positonrefCode","roleRef","userRef","recallArray","loading","_stringify2","fliterColumn","filterDropdown","filterDropdownType","filterType","filterDropdownIncludeKeys"],"mappings":"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C,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACA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","file":"js/main.c8565331.bundle.js","sourcesContent":["/**\n * bpm流程数据历史表格\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Table } from 'tinper-bee';\nimport { descriptionToText, sendBpmTaskAJAX, timestampToDate } from './common';\nconst propTypes = {\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string\n\n};\n\nclass BpmTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: []\n        };\n        this.columns = [\n            {\n                title: \"任务ID\",\n                dataIndex: \"id\",\n                key: \"id\",\n                width: \"30%\"\n            },\n            {\n                title: \"任务名称\",\n                dataIndex: \"name\",\n                key: \"name\"\n            },\n            {\n                title: \"任务类型\",\n                dataIndex: \"description\",\n                key: \"description\",\n                render: (text, record, index) => {\n                    return <div>{descriptionToText(text)}</div>\n                }\n            },\n            {\n                title: \"执行者\",\n                dataIndex: \"executionId\",\n                key: \"executionId\"\n            },\n            {\n                title: \"开始时间\",\n                dataIndex: \"startTime\",\n                key: \"startTime\",\n                render: (text, record, index) => {\n                    return <div>{timestampToDate(text)}</div>\n                }\n            },\n            {\n                title: \"结束时间\",\n                dataIndex: \"endTime\",\n                key: \"endTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            },\n            {\n                title: \"审批意见\",\n                dataIndex: \"deleteReason\",\n                key: \"deleteReason\"\n            },\n            {\n                title: \"超时时间\",\n                dataIndex: \"claimTime\",\n                key: \"claimTime\",\n                render: (text, record, index) => {\n                    if (text == null) {\n                        return <div>-</div>\n                    } else {\n                        return <div>{timestampToDate(text)}</div>\n                    }\n                }\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let { processDefinitionId, processInstanceId } = this.props;\n        let hisTasklistData = await sendBpmTaskAJAX('hisTasklist', {\n            processDefinitionId,\n            processInstanceId\n        });\n        this.setState({\n            data: hisTasklistData.data.data\n        });\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有流程历史数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n        />);\n    }\n}\nBpmTable.propTypes = propTypes;\nBpmTable.defaultProps = {\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\nexport default BpmTable;\n","/**\n * bpm流程图组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nconst propTypes = {\n    url: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    width: PropTypes.string,\n    height: PropTypes.string\n};\n\nclass BpmFlowChart extends Component {\n    render() {\n        let { processDefinitionId, processInstanceId, width, height, url } = this.props;\n        return (\n            <div>\n                <iframe\n                    style={{ width, height, \"minHeight\": \"300px\" }}\n                    src={`${url}?processDefinitionId=${processDefinitionId}&processInstanceId=${processInstanceId}`}\n                    frameBorder=\"0\"\n                >\n                </iframe>\n            </div>\n        );\n    }\n}\nBpmFlowChart.propTypes = propTypes;\nBpmFlowChart.defaultProps = {\n    url: \"/eiap-plus/vendor/diagram-viewer/index.html\",\n    width: \"99%\",\n    height: \"300px\",\n    processDefinitionId: \"eiap508870:4:c3bc57e8-631a-11e8-8d04-0686c4000fcf\",\n    processInstanceId: \"d5c3ab59-631a-11e8-8d04-0686c4000fcf\"\n}\n\nexport default BpmFlowChart;","/**\n * bpm流程任务审批组件\n */\n\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Col, Message, Modal, Radio, Row, Table,FormControl} from 'tinper-bee';\nimport Select from 'bee-select';\nimport { approvetypeToText, sendBpmTaskAJAX } from './common';\nimport refOptions from './refOptions';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\nconst propTypes = {\n    id: PropTypes.string,\n    appType: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    properties:PropTypes.object,\n    onBpmFlowClick: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onChangestate:PropTypes.func\n};\n\nclass BpmTaskApproval extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            approvetype: \"agree\",\n            comment: \"审批同意\",\n            processDefinitionId: props.processDefinitionId,\n            processInstanceId: props.processInstanceId,\n            taskId: props.id,\n            activityId: \"\",\n            activityName:\"\",\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: [],\n            userIds: [],\n            userId: [],\n            userName:[],\n            checkedArray:[],\n            HuoDongID: \"\",//新版活动ID\n            HuoDongName: \"\"//新版活动名字\n        }\n        //驳回到环节的Modal-Table\n        this.rejectToActivityCol = [{\n            title: \"活动编码\",\n            dataIndex: \"activityId\",\n            key: \"activityId\",\n            width: \"40%\"\n        },\n        {\n            title: \"活动名称\",\n            dataIndex: \"activityName\",\n            key: \"activityName\",\n            width: \"30%\"\n        }]\n    }\n    componentWillMount = () => {\n        //通过billID获得processDefinitionId,processInstanceId\n        // let pID = await billidToIds('f39234a2-ed92-473f-b7c1-45f71559facb');\n    }\n    componentDidMount = () => {\n        //传入类型是弃审，那么直接设置2\n        if (this.props.appType == \"2\") {\n            this.setState({\n                approvetype: \"withdraw\",\n                comment: approvetypeToText(\"withdraw\")\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        }\n    }\n\n    //选择审批的类型\n    handleChange = (value) => {\n        this.setState({\n            approvetype: value,\n            comment: approvetypeToText(value) ,\n            userName:\"\",\n            userIds: [],\n            userId: [],\n            checkedArray:[]\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //绑定审批意见\n    handlerCommentChange = (e) => {\n        this.setState({ comment: e.target.value },()=>{\n            this.props.onChangestate(this.state);\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //审批提交\n\n    //通用关闭方法\n    activityModalClose = () => {\n        this.setState({\n            rejectToActivityShow: false,\n            rejectlist: [],\n            selectedRow: []\n        },()=>{\n            this.props.onChangestate(this.state);\n        });\n    }\n    //驳回到环节的最终提交\n    rejectToActivityOK = async () => {\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        onStart && onStart();\n        let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n            activityId: this.state.activityId,\n            approvetype: this.state.approvetype,\n            comment: this.state.comment,\n            processInstanceId: this.state.processInstanceId,\n            taskId: this.state.taskId\n        }).catch((e) => {\n            Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: `服务器请求错误`\n            });\n        });\n\n        if (rejectToBillMakerMsg.data.flag == 'success') {\n            onSuccess && onSuccess();\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n            this.setState({\n                rejectToActivityShow: false,\n                rejectlist: [],\n                selectedRow: []\n            },()=>{\n                this.props.onChangestate(this.state);\n            });\n        } else {\n            Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: rejectToBillMakerMsg.data.msg\n            });\n        }\n    }\n    //流程图函数调用\n    handlerFlow = () => {\n        let onBpmFlowClick = this.props.onBpmFlowClick;\n        onBpmFlowClick && onBpmFlowClick();\n    }\n    getDataSource=()=>{\n        let arr =[{\n            key: \"同意\",\n            value: \"agree\"\n        }];\n        let { addsignAble,rejectAble ,delegateAble,unagreeable ,deleteable} = this.props.properties\n        if(unagreeable)arr.push({key: \"不同意\", value: \"unagree\"})\n        if(rejectAble)arr.push({key: \"驳回到环节\", value: \"rejectToActivity\"})\n        if(deleteable)arr.push({key: \"驳回到制单人\", value: \"rejectToBillMaker\"})\n        if(addsignAble)arr.push({key: \"加签\", value: \"signAdd\"})\n        if(delegateAble)arr.push({key: \"改派\", value: \"delegate\"})\n        return arr\n    }\n    rejectToActivity= async ()=>{\n        let { onError } = this.props;\n        let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n        if (result.data.flag == 'success'&& result.data.rejectlist.length>0) {\n            this.setState({\n                rejectlist: result.data.rejectlist,\n                selectedRow: new Array(result.data.rejectlist.length),\n                rejectToActivityShow: true\n            });\n        } else {\n            Message.create({ content: result.data.msg||'当前环节为首环节，没有可以驳回的环节', color: 'warning', position: 'top' });\n            onError && onError({\n                type: 2,\n                msg: result.data.msg||'当前环节为首环节，没有可以驳回的环节'\n            });\n        }\n    }\n    render() {\n        let self = this;\n    const assignOption = {\n        title: '加签人员选择',\n        textOption: {\n            modalTitle: '选择加签人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        param: {//url请求参数\n            refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n            // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n        },\n        refModelUrl: {\n            treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n            tableBodyUrlSearch: '',\n            tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n        },\n        jsonp: false,\n        hearders: {},\n        displayField: '{refname}',//显示内容的键\n        valueField: 'refpk',//真实 value 的键\n        onCancel: function (p) {\n            console.log(p)\n        },\n        onSave: function (sels,showVal) {\n\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n    const option = {\n        title: '改派人员选择',\n        backdrop: true,\n        disabled: false,\n        multiple: false,\n        strictMode: true,\n        jsonp: false,\n        param:{//url请求参数\n            refCode:'new_relatedUser'\n        },\n        refModelUrl:{\n            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n        },\n        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n        filterUrl: '/wbalone/common-ref/filterRefJSON',\n        valueField: \"refpk\",\n        displayField: \"{refname}\",\n        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n            var temp = sels.map(v => v.id);\n            //显示值\n            let userName = self.state.userName;\n            userName = showVal;\n            //选中的值\n            let userId = self.state.userIds;\n            userId = temp;\n            self.setState({\n                userId: userId[0],\n                userIds:userId,\n                userName: userName,\n                checkedArray:sels,\n            },()=>{\n                self.props.onChangestate(self.state);\n        });\n        }\n    }\n\n        return (\n            <div className=\"clearfix\">\n                <div style={{ \"padding\": \"0px\" }}>\n                    {this.props.appType == \"1\" && <div>\n                        <Row style={{\n                            \"margin\":\"8px 0\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={2}  sm={2} xs={3} style={{\"paddingLeft\":0,\"paddingRight\":'15px'}}>\n                                <Select\n                                    style={{ width: '100%' }}\n                                    placeholder=\"请选择\"\n                                    onChange={self.handleChange}\n                                    defaultValue=\"agree\"\n                                    data={self.getDataSource()}\n                                />\n                            </Col>\n                                <Col md={3} xs={3} sm={3} style={{\"paddingLeft\":0}}>\n                                    {this.state.approvetype===\"signAdd\" && <RefTreeTransferWithInput  { ...assignOption} />}\n                                    {this.state.approvetype===\"delegate\" &&<RefMultipleTableWithInput  {...option} />}\n                                    {this.state.approvetype===\"rejectToActivity\" &&<FormControl\n                                        readOnly={true}\n                                        placeholder={'请选择环节'}\n                                        value={this.state.activityName}\n                                        onClick={this.rejectToActivity}\n                                        onChange={this.onChange} />}{/*驳回*/}\n                                </Col>\n                            <Col md={4} mdOffset={3} xs={4} xsOffset={2} sm={4} smOffset={3} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                                {/*{this.props.appType == \"1\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"1\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入处理意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                    {this.props.appType == \"2\" && <div>\n                        <Row style={{\n                            \"height\": \"46px\",\n                            \"lineHeight\": \"46px\",\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={8}>\n                                <Radio.RadioGroup\n                                    name=\"approvetype\"\n                                    selectedValue={this.state.approvetype}\n                                    onChange={this.handleChange}>\n                                    <Radio value=\"withdraw\">弃审</Radio>\n                                </Radio.RadioGroup>\n                            </Col>\n                            <Col md={4} style={{ \"textAlign\": \"right\" }}>\n                                {/*{this.props.appType == \"2\" && <Button onClick={this.handlerSubmitBtn} style={{ \"marginRight\": \"10px\" }} colors=\"primary\">提交</Button>}*/}\n                                {this.props.appType == \"2\" && <Button onClick={this.handlerFlow} colors=\"primary\">流程图</Button>}\n                            </Col>\n                        </Row>\n                        <Row style={{\n                            \"padding\": \"0 10px\"\n                        }}>\n                            <Col md={12}>\n                                <textarea\n                                    style={{\n                                        \"height\": \"75px\",\n                                        \"width\": \"100%\",\n                                        \"outline\": \"none\",\n                                        \"resize\": \"none\",\n                                        \"border\": \"1px solid #cecece\",\n                                        \"padding\": \"10px\",\n                                        \"marginBottom\": \"20px\",\n                                        \"borderRadius\": \"4px\"\n                                    }}\n                                    placeholder=\"请输入弃审意见\"\n                                    value={this.state.comment}\n                                    onChange={this.handlerCommentChange}\n                                />\n                            </Col>\n                        </Row>\n                    </div>}\n                </div>\n                <Modal\n                    show={this.state.rejectToActivityShow}\n                    backdrop={false}\n                    onHide={this.activityModalClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title> 活动列表 </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Table\n                            rowKey={(r) => r.activityId}\n                            emptyText={() => (<div>暂无数据</div>)}\n                            rowClassName={(record, index, indent) => {\n                                if (this.state.selectedRow[index]) {\n                                    return 'selected';\n                                } else {\n                                    return '';\n                                }\n                            }}\n                            onRowClick={(record, index, indent) => {\n                                let selectedRow = new Array(this.state.rejectlist.length);\n                                selectedRow[index] = true;\n                                this.setState({\n                                    activityId: record.activityId,\n                                    activityName:record.activityName,\n                                    selectedRow: selectedRow\n                                },()=>{\n                                    this.props.onChangestate(this.state);\n                                });\n                            }}\n                            columns={this.rejectToActivityCol} data={this.state.rejectlist} />\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button colors=\"primary\" style={{ \"marginRight\": \"10px\" }} onClick={this.activityModalClose}> 确定 </Button>\n                        <Button onClick={this.activityModalClose}> 关闭 </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        );\n    }\n}\nBpmTaskApproval.propTypes = propTypes;\nBpmTaskApproval.defaultProps = {\n    appType: \"1\",\n    refCode: \"newuser\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    properties:{\n        addSignAble:true, //可否加签\n        iscopytouser:true, //可否抄送\n        rejectAble:true, //可否驳回\n        delegateAble:true, //可否改派\n        unagreeable:true, //可否不同意\n        assignAble:true, //可否指派\n        deleteable:true //可否驳回制单人\n    }\n}\n\nexport default BpmTaskApproval;\n","import React, { Component } from \"react\";\nimport ReactDOM from 'react-dom';\nimport Demo from './demo';\n\nReactDOM.render(<Demo />, document.querySelector(\"#app\"));","import React, { Component } from 'react';\nimport { Button } from 'tinper-bee';\nimport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign\n} from './index';\n\nimport 'tinper-bee/assets/tinper-bee.css';\n// import './index.less';\n\nclass Demo extends Component {\n    constructor() {\n        super();\n        this.state = {\n\n        }\n    }\n    render() {\n        return (\n            <div>\n                <BpmTaskApprovalWrap\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                    appType=\"1\"\n                    id=\"5062f7d0c69e4a28b9e5a424a8ad57cb\"\n                />\n                <BpmLinkAssign />\n                <BpmFlowChart\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}/>\n\n                <BpmTable\n                    processDefinitionId={\"eiap350694:3:e2e70948-9559-11e8-b376-02420cbf1b08\"}\n                    processInstanceId={\"1352ad87-955e-11e8-b376-02420cbf1b08\"}\n                />\n\n                <BpmTestCheckTable />\n\n                <BpmButtonSubmit\n                    funccode=\"masterdetail-one\"\n                    nodekey=\"purchaseOrder\"\n                    size=\"lg\"\n                    isOne={true}\n                    url={`/iuap-pap-demo-be/purchase_order/submit`}\n                    urlAssignSubmit={`/iuap-pap-demo-be/purchase_order/assignSubmit`}\n                    checkedArray={\n                        [{\"id\":\"5062f7d0c69e4a28b9e5a424a8ad57cb\",\"createTime\":\"2019-06-20 12:57:38 838\",\"createUser\":\"U001\",\"lastModified\":\"2019-06-20 12:57:38 838\",\"lastModifyUser\":\"U001\",\"ts\":\"2019-06-20 12:57:38 838\",\"newTs\":\"2019-06-20 15:57:27 301\",\"dr\":0,\"bpmState\":0,\"taskKey\":null,\"taskId\":null,\"processInstanceId\":null,\"processDefineCode\":null,\"comment\":null,\"bpmStateEnumValue\":\"待确认\",\"orderUser\":\"U001\",\"orderType\":1,\"orderTypeEnumValue\":\"普通采购\",\"orderDeptName\":\"开发部\",\"orderDept\":\"1a0b3fc7-2032-42ac-b13f-80dedb5934fe\",\"orderCode\":\"B220190620001\",\"orderPrice\":2,\"orderDate\":\"2019-06-20\",\"orderUserName\":\"系统管理员\",\"orderName\":\"aa\",\"tenantid\":\"tenant\",\"orderName2\":null,\"orderName3\":null,\"orderName4\":null,\"orderName5\":null,\"orderName6\":null,\"bpmBillCode\":\"201906201557274\",\"mainBoCode\":\"PURCHASE_ORDER\"}]\n                        }\n                    onSuccess={() => console.log('success')}\n                    onError={(err) => console.log(err)}\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-up'></i>提交\n                    </Button>\n                </BpmButtonSubmit>\n\n                <BpmButtonRecall\n                    url={`/iuap_pap_quickstart/example_workorder/recall`}\n                    checkedArray={\n                        [\n                            {\n                                \"id\": \"ccb34c6d3fc349789be73678d7cc8fac\",\n                                \"createTime\": \"2018-07-04 12:36:26 088\",\n                                \"createUser\": \"U001\",\n                                \"lastModified\": \"2018-07-04 12:36:26 088\",\n                                \"lastModifyUser\": \"U001\",\n                                \"ts\": \"2018-07-04 12:36:26 088\",\n                                \"dr\": 0,\n                                \"bpmState\": 1,\n                                \"taskKey\": null,\n                                \"taskId\": null,\n                                \"processInstanceId\": null,\n                                \"processDefineCode\": null,\n                                \"comment\": null,\n                                \"orderCode\": \"201807042036265\",\n                                \"orderName\": null,\n                                \"supplier\": null,\n                                \"supplierName\": \"11\",\n                                \"type\": \"0\",\n                                \"purchasing\": \"22\",\n                                \"purchasingGroup\": \"22\",\n                                \"voucherDate\": 1530633600000,\n                                \"approvalState\": null,\n                                \"confirmState\": null,\n                                \"closeState\": null,\n                                \"type_name\": \"投诉工单\",\n                                \"approvalState_name\": null,\n                                \"confirmState_name\": null,\n                                \"closeState_name\": null,\n                                \"remark\": null,\n                                \"bpmBillCode\": null\n                            }\n                        ]\n                    }\n                >\n                    <Button size='sm' shape=\"border\" className=\"admin\">\n                        <i className='uf uf-arrow-c-o-down'></i>收回\n                    </Button>\n                </BpmButtonRecall>\n            </div>\n        );\n    }\n}\n\nexport default Demo;\n","import BpmTable from './BpmTable';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport BpmTestCheckTable from './BpmTestCheckTable';\nimport BpmWrap from './BpmWrap';\nimport BpmTaskApprovalWrap from './BpmTaskApprovalWrap';\nimport BpmButtonSubmit from './BpmButtonSubmit';\nimport BpmButtonRecall from './BpmButtonRecall';\nimport BpmLinkAssign from './BpmLinkAssign';\n\n\n\nexport {\n    BpmTable,\n    BpmFlowChart,\n    BpmTaskApproval,\n    BpmTestCheckTable,\n    BpmWrap,\n    BpmTaskApprovalWrap,\n    BpmButtonSubmit,\n    BpmButtonRecall,\n    BpmLinkAssign,\n\n}","/**\n * 核心功能函数处理类\n */\n\nimport axios from 'axios';\nimport { Message } from 'tinper-bee';\n\n/**\n * 后端时间戳转换正常日期时间\n * @param {*} _stamp 时间戳\n * @param {*} formatStr 日期格式\n */\nexport const timestampToDate = (_stamp, formatStr = 'yyyy-MM-dd  hh:mm:ss') => {\n    let unixTimestamp = new Date(_stamp);\n    {\n        var str = formatStr;\n        var Week = ['日', '一', '二', '三', '四', '五', '六'];\n\n        str = str.replace(/yyyy|YYYY/, unixTimestamp.getFullYear());\n        str = str.replace(/yy|YY/, (unixTimestamp.getYear() % 100) > 9 ? (unixTimestamp.getYear() % 100).toString() : '0' + (unixTimestamp.getYear() % 100));\n        var month = unixTimestamp.getMonth() + 1;\n        str = str.replace(/MM/, month > 9 ? month.toString() : '0' + month);\n        str = str.replace(/M/g, month);\n\n        str = str.replace(/w|W/g, Week[unixTimestamp.getDay()]);\n\n        str = str.replace(/dd|DD/, unixTimestamp.getDate() > 9 ? unixTimestamp.getDate().toString() : '0' + unixTimestamp.getDate());\n        str = str.replace(/d|D/g, unixTimestamp.getDate());\n\n        str = str.replace(/hh|HH/, unixTimestamp.getHours() > 9 ? unixTimestamp.getHours().toString() : '0' + unixTimestamp.getHours());\n        str = str.replace(/h|H/g, unixTimestamp.getHours());\n        str = str.replace(/mm/, unixTimestamp.getMinutes() > 9 ? unixTimestamp.getMinutes().toString() : '0' + unixTimestamp.getMinutes());\n        str = str.replace(/m/g, unixTimestamp.getMinutes());\n\n        str = str.replace(/ss|SS/, unixTimestamp.getSeconds() > 9 ? unixTimestamp.getSeconds().toString() : '0' + unixTimestamp.getSeconds());\n        str = str.replace(/s|S/g, unixTimestamp.getSeconds());\n        return str;\n    }\n}\n\n/**\n * 流程历史表格描述转换\n */\nexport const descriptionToText = (vApproveType) => {\n    if (vApproveType == 'submit') {\n        return '提交';\n    }\n    if (vApproveType == 'agree') {\n        return '审批';\n    }\n    if (vApproveType == 'unagree') {\n        return '不同意';\n    }\n    if (vApproveType == 'reject') {\n        return '驳回';\n    }\n    if (vApproveType == 'signAdd') {\n        return '加签';\n    }\n    if (vApproveType == 'signAdding') {\n        return '加签中';\n    }\n    if (vApproveType == 'delegate') {\n        return '改派';\n    }\n    if (vApproveType == 'termination') {\n        return '终止';\n    }\n    if (vApproveType == 'withdraw') {\n        return '删除';\n    }\n    if (vApproveType == 'postCompleted') {\n        return '审批';\n    }\n}\n\n/**\n * 获得处理URL\n */\nexport const getBpmTaskURL = (type, root = \"/eiap-plus/\") => {\n    switch (type) {\n        case 'agree':\n            return root + 'task/completetask/approveCard';\n        case 'unagree':\n            return root + 'task/completetask/approveCard';\n        case 'rejectToActivity':\n            return root + 'task/rejecttask/bfreject';\n        case 'rejectToBillMaker':\n            return root + 'task/rejecttask/reject';\n        case 'signAdd':\n            return root + 'task/assignee/getlist';\n        case 'delegate':\n            return root + 'task/assignee/getlist';\n        case 'withdraw':\n            return root + 'task/withdrawtask/withdraw';\n        case 'hisTasklist':\n            return root + 'process/hisTasklist';\n        case 'commit':\n            return root + 'task/assigntask/commit';\n        case 'signaddtask':\n            return root + 'task/signaddtask/signadd';\n        case 'delegatetask':\n            return root + 'task/delegatetask/delegate';\n        default:\n            return \"/\"\n            break;\n    }\n}\n\n/**\n * 发送异步\n */\nexport const sendBpmTaskAJAX = (type, data) => {\n    switch (type) {\n        case 'agree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'unagree':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToActivity':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'rejectToBillMaker':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signAdd':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegate':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'withdraw':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'hisTasklist':\n            return axios.post(getBpmTaskURL(type), {\n                processDefinitionId: data.processDefinitionId,\n                processInstanceId: data.processInstanceId\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'commit':\n            return axios.post(getBpmTaskURL(type), {\n                activityId: data.activityId,\n                activityName: data.activityName,\n                comment: data.comment,\n                taskId: data.taskId,\n                approvetype: data.approvetype,\n                processInstanceId: data.processInstanceId,\n                participants: data.participants\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'signaddtask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userIds: data.userIds,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n        case 'delegatetask':\n            return axios.post(getBpmTaskURL(type), {\n                approvetype: data.approvetype,\n                comment: data.comment,\n                processInstanceId: data.processInstanceId,\n                taskId: data.taskId,\n                userId: data.userId,\n                copyusers:data.copyusers,\n                intersection:data.intersection\n            }).catch((e) => {\n                Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n            })\n\n        default:\n            break;\n    }\n    return axios.post(getBpmTaskURL(type), data).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    })\n}\n\n/**\n * 通过billID获得流程图参数\n */\nexport const billidToIds = (billId) => {\n    return axios.post('/eiap-plus/process/getbillbpm', {\n        billId\n    });\n}\n/**\n * 查询数据\n */\nexport const queryBpmTemplateAllocate = (obj) => {\n    return axios.get(`/eiap-plus/appResAllocate/queryBpmTemplateAllocate?_=${Math.random()}`, {\n        params: {\n            funccode: obj.funccode,\n            nodekey: obj.nodekey\n        }\n    });\n}\n/**\n * 提交流程\n */\nexport const onCommit = (data) => {\n    return axios({\n        url: `${data.url}`,\n        method: \"post\",\n        data: data['submitArray'],\n        params: { \"processDefineCode\": data['processDefineCode'] }\n    });\n}\n/**\n * 收回流程\n */\nexport const onRecall = (url, data) => {\n    return axios({\n        url: `${url}`,\n        method: \"post\",\n        data: data\n    });\n}\n\n/**\n * 审批状态类型返回默认审批文案\n */\nexport const approvetypeToText = (type) => {\n    switch (type) {\n        case 'agree':\n            return '审批同意';\n        case 'unagree':\n            return '审批不同意';\n        case 'rejectToActivity':\n            return '驳回到环节';\n        case 'rejectToBillMaker':\n            return '驳回到制单人';\n        case 'signAdd':\n            return '加签';\n        case 'delegate':\n            return '改派';\n        case 'withdraw':\n            return '弃审';\n        default:\n            break;\n    }\n}\n\n/**\n * Unicode编码转换\n */\nexport const reconvert = (str) => {\n    str = str.replace(/(\\\\u)(\\w{1,4})/gi, function ($0) {\n        return (String.fromCharCode(parseInt((escape($0).replace(/(%5Cu)(\\w{1,4})/g, \"$2\")), 16)));\n    });\n    str = str.replace(/(&#x)(\\w{1,4});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23x)(\\w{1,4})(%3B)/g, \"$2\"), 16));\n    });\n    str = str.replace(/(&#)(\\d{1,6});/gi, function ($0) {\n        return String.fromCharCode(parseInt(escape($0).replace(/(%26%23)(\\d{1,6})(%3B)/g, \"$2\")));\n    });\n\n    return str;\n}","var map = {\n\t\"./af\": 245,\n\t\"./af.js\": 245,\n\t\"./ar\": 246,\n\t\"./ar-dz\": 247,\n\t\"./ar-dz.js\": 247,\n\t\"./ar-kw\": 248,\n\t\"./ar-kw.js\": 248,\n\t\"./ar-ly\": 249,\n\t\"./ar-ly.js\": 249,\n\t\"./ar-ma\": 250,\n\t\"./ar-ma.js\": 250,\n\t\"./ar-sa\": 251,\n\t\"./ar-sa.js\": 251,\n\t\"./ar-tn\": 252,\n\t\"./ar-tn.js\": 252,\n\t\"./ar.js\": 246,\n\t\"./az\": 253,\n\t\"./az.js\": 253,\n\t\"./be\": 254,\n\t\"./be.js\": 254,\n\t\"./bg\": 255,\n\t\"./bg.js\": 255,\n\t\"./bm\": 256,\n\t\"./bm.js\": 256,\n\t\"./bn\": 257,\n\t\"./bn.js\": 257,\n\t\"./bo\": 258,\n\t\"./bo.js\": 258,\n\t\"./br\": 259,\n\t\"./br.js\": 259,\n\t\"./bs\": 260,\n\t\"./bs.js\": 260,\n\t\"./ca\": 261,\n\t\"./ca.js\": 261,\n\t\"./cs\": 262,\n\t\"./cs.js\": 262,\n\t\"./cv\": 263,\n\t\"./cv.js\": 263,\n\t\"./cy\": 264,\n\t\"./cy.js\": 264,\n\t\"./da\": 265,\n\t\"./da.js\": 265,\n\t\"./de\": 266,\n\t\"./de-at\": 267,\n\t\"./de-at.js\": 267,\n\t\"./de-ch\": 268,\n\t\"./de-ch.js\": 268,\n\t\"./de.js\": 266,\n\t\"./dv\": 269,\n\t\"./dv.js\": 269,\n\t\"./el\": 270,\n\t\"./el.js\": 270,\n\t\"./en-SG\": 271,\n\t\"./en-SG.js\": 271,\n\t\"./en-au\": 272,\n\t\"./en-au.js\": 272,\n\t\"./en-ca\": 273,\n\t\"./en-ca.js\": 273,\n\t\"./en-gb\": 152,\n\t\"./en-gb.js\": 152,\n\t\"./en-ie\": 274,\n\t\"./en-ie.js\": 274,\n\t\"./en-il\": 275,\n\t\"./en-il.js\": 275,\n\t\"./en-nz\": 276,\n\t\"./en-nz.js\": 276,\n\t\"./eo\": 277,\n\t\"./eo.js\": 277,\n\t\"./es\": 278,\n\t\"./es-do\": 279,\n\t\"./es-do.js\": 279,\n\t\"./es-us\": 280,\n\t\"./es-us.js\": 280,\n\t\"./es.js\": 278,\n\t\"./et\": 281,\n\t\"./et.js\": 281,\n\t\"./eu\": 282,\n\t\"./eu.js\": 282,\n\t\"./fa\": 283,\n\t\"./fa.js\": 283,\n\t\"./fi\": 284,\n\t\"./fi.js\": 284,\n\t\"./fo\": 285,\n\t\"./fo.js\": 285,\n\t\"./fr\": 286,\n\t\"./fr-ca\": 287,\n\t\"./fr-ca.js\": 287,\n\t\"./fr-ch\": 288,\n\t\"./fr-ch.js\": 288,\n\t\"./fr.js\": 286,\n\t\"./fy\": 289,\n\t\"./fy.js\": 289,\n\t\"./ga\": 290,\n\t\"./ga.js\": 290,\n\t\"./gd\": 291,\n\t\"./gd.js\": 291,\n\t\"./gl\": 292,\n\t\"./gl.js\": 292,\n\t\"./gom-latn\": 293,\n\t\"./gom-latn.js\": 293,\n\t\"./gu\": 294,\n\t\"./gu.js\": 294,\n\t\"./he\": 295,\n\t\"./he.js\": 295,\n\t\"./hi\": 296,\n\t\"./hi.js\": 296,\n\t\"./hr\": 297,\n\t\"./hr.js\": 297,\n\t\"./hu\": 298,\n\t\"./hu.js\": 298,\n\t\"./hy-am\": 299,\n\t\"./hy-am.js\": 299,\n\t\"./id\": 300,\n\t\"./id.js\": 300,\n\t\"./is\": 301,\n\t\"./is.js\": 301,\n\t\"./it\": 302,\n\t\"./it-ch\": 303,\n\t\"./it-ch.js\": 303,\n\t\"./it.js\": 302,\n\t\"./ja\": 304,\n\t\"./ja.js\": 304,\n\t\"./jv\": 305,\n\t\"./jv.js\": 305,\n\t\"./ka\": 306,\n\t\"./ka.js\": 306,\n\t\"./kk\": 307,\n\t\"./kk.js\": 307,\n\t\"./km\": 308,\n\t\"./km.js\": 308,\n\t\"./kn\": 309,\n\t\"./kn.js\": 309,\n\t\"./ko\": 310,\n\t\"./ko.js\": 310,\n\t\"./ku\": 311,\n\t\"./ku.js\": 311,\n\t\"./ky\": 312,\n\t\"./ky.js\": 312,\n\t\"./lb\": 313,\n\t\"./lb.js\": 313,\n\t\"./lo\": 314,\n\t\"./lo.js\": 314,\n\t\"./lt\": 315,\n\t\"./lt.js\": 315,\n\t\"./lv\": 316,\n\t\"./lv.js\": 316,\n\t\"./me\": 317,\n\t\"./me.js\": 317,\n\t\"./mi\": 318,\n\t\"./mi.js\": 318,\n\t\"./mk\": 319,\n\t\"./mk.js\": 319,\n\t\"./ml\": 320,\n\t\"./ml.js\": 320,\n\t\"./mn\": 321,\n\t\"./mn.js\": 321,\n\t\"./mr\": 322,\n\t\"./mr.js\": 322,\n\t\"./ms\": 323,\n\t\"./ms-my\": 324,\n\t\"./ms-my.js\": 324,\n\t\"./ms.js\": 323,\n\t\"./mt\": 325,\n\t\"./mt.js\": 325,\n\t\"./my\": 326,\n\t\"./my.js\": 326,\n\t\"./nb\": 327,\n\t\"./nb.js\": 327,\n\t\"./ne\": 328,\n\t\"./ne.js\": 328,\n\t\"./nl\": 329,\n\t\"./nl-be\": 330,\n\t\"./nl-be.js\": 330,\n\t\"./nl.js\": 329,\n\t\"./nn\": 331,\n\t\"./nn.js\": 331,\n\t\"./pa-in\": 332,\n\t\"./pa-in.js\": 332,\n\t\"./pl\": 333,\n\t\"./pl.js\": 333,\n\t\"./pt\": 334,\n\t\"./pt-br\": 335,\n\t\"./pt-br.js\": 335,\n\t\"./pt.js\": 334,\n\t\"./ro\": 336,\n\t\"./ro.js\": 336,\n\t\"./ru\": 337,\n\t\"./ru.js\": 337,\n\t\"./sd\": 338,\n\t\"./sd.js\": 338,\n\t\"./se\": 339,\n\t\"./se.js\": 339,\n\t\"./si\": 340,\n\t\"./si.js\": 340,\n\t\"./sk\": 341,\n\t\"./sk.js\": 341,\n\t\"./sl\": 342,\n\t\"./sl.js\": 342,\n\t\"./sq\": 343,\n\t\"./sq.js\": 343,\n\t\"./sr\": 344,\n\t\"./sr-cyrl\": 345,\n\t\"./sr-cyrl.js\": 345,\n\t\"./sr.js\": 344,\n\t\"./ss\": 346,\n\t\"./ss.js\": 346,\n\t\"./sv\": 347,\n\t\"./sv.js\": 347,\n\t\"./sw\": 348,\n\t\"./sw.js\": 348,\n\t\"./ta\": 349,\n\t\"./ta.js\": 349,\n\t\"./te\": 350,\n\t\"./te.js\": 350,\n\t\"./tet\": 351,\n\t\"./tet.js\": 351,\n\t\"./tg\": 352,\n\t\"./tg.js\": 352,\n\t\"./th\": 353,\n\t\"./th.js\": 353,\n\t\"./tl-ph\": 354,\n\t\"./tl-ph.js\": 354,\n\t\"./tlh\": 355,\n\t\"./tlh.js\": 355,\n\t\"./tr\": 356,\n\t\"./tr.js\": 356,\n\t\"./tzl\": 357,\n\t\"./tzl.js\": 357,\n\t\"./tzm\": 358,\n\t\"./tzm-latn\": 359,\n\t\"./tzm-latn.js\": 359,\n\t\"./tzm.js\": 358,\n\t\"./ug-cn\": 360,\n\t\"./ug-cn.js\": 360,\n\t\"./uk\": 361,\n\t\"./uk.js\": 361,\n\t\"./ur\": 362,\n\t\"./ur.js\": 362,\n\t\"./uz\": 363,\n\t\"./uz-latn\": 364,\n\t\"./uz-latn.js\": 364,\n\t\"./uz.js\": 363,\n\t\"./vi\": 365,\n\t\"./vi.js\": 365,\n\t\"./x-pseudo\": 366,\n\t\"./x-pseudo.js\": 366,\n\t\"./yo\": 367,\n\t\"./yo.js\": 367,\n\t\"./zh-cn\": 102,\n\t\"./zh-cn.js\": 102,\n\t\"./zh-hk\": 368,\n\t\"./zh-hk.js\": 368,\n\t\"./zh-tw\": 369,\n\t\"./zh-tw.js\": 369\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 649;","/**\n * 模拟任务中心测试组件\n */\n\nimport React, { Component } from 'react';\nimport { Table, Row, Col, Button } from 'tinper-bee';\nimport axios from 'axios';\n\nclass BpmTestCheckTable extends Component {\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            factoryValue: {}\n        };\n        this.columns = [\n            {\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\",\n                width: \"30%\"\n            },\n            {\n                title: \"ID\",\n                dataIndex: \"id\",\n                key: \"id\"\n            },\n            {\n                title: \"processDefinitionId\",\n                dataIndex: \"processDefinitionId\",\n                key: \"processDefinitionId\"\n            },\n            {\n                title: \"processInstanceId\",\n                dataIndex: \"processInstanceId\",\n                key: \"processInstanceId\"\n            }\n        ];\n    }\n    componentDidMount = async () => {\n        let hisTasklist = `eiap-plus/process/undoTasklist`;\n        let hisTasklistData = await axios.post(hisTasklist, { \"draw\": 1, \"length\": 10, \"order\": {}, \"search\": { \"search_EQ_code\": \"\", \"undefined\": \"\", \"processDefinitionName\": \"\", \"billno\": \"\" }, \"searchconfirm\": {} });\n        if (Array.isArray(hisTasklistData.data.data)) {\n            this.setState({\n                data: hisTasklistData.data.data\n            });\n        }\n\n    }\n    render() {\n        return (<Table\n            bordered\n            emptyText={() => <span>暂时没有数据</span>}\n            columns={this.columns}\n            data={this.state.data}\n            title={() => <Button colors=\"primary\" onClick={() => {\n                //document.location.hash = `#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                document.location.hash = `#/bdm/bpmapproval?id=${this.state.factoryValue.id}&processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`;\n                //window.open(`http://127.0.0.1:3000/#/bdm/bpm?processDefinitionId=${this.state.factoryValue.processDefinitionId}&processInstanceId=${this.state.factoryValue.processInstanceId}`);\n            }}>任务中心打开审批</Button>}\n            onRowClick={(record, index, indent) => {\n                this.setState({\n                    factoryValue: record\n                });\n            }}\n        />);\n    }\n}\n\nexport default BpmTestCheckTable;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row } from 'tinper-bee';\nimport BpmFlowChart from './BpmFlowChart';\nimport BpmTable from './BpmTable';\nimport { billidToIds } from './common';\n\n\nconst propTypes = {\n    id: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n\n}\nclass BpmWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            processDefinitionId: \"\",\n            processInstanceId: \"\"\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            let { processDefinitionId, processInstanceId } = pID.data;\n            this.setState({\n                processDefinitionId,\n                processInstanceId\n            });\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId\n            });\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmFlowChart\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={12}>\n                        {this.state.processDefinitionId && <BpmTable\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                        />}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\nBpmWrap.propTypes = propTypes;\nBpmWrap.defaultProps = {\n    id: \"\"\n}\nexport default BpmWrap;\n","/**\n * 审批逻辑组件\n */\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row, Button ,Message} from 'tinper-bee';\nimport BpmTaskApproval from './BpmTaskApproval';\nimport { billidToIds } from './common';\nimport refOptions from './refOptions';\nimport  { RefTreeTransfer} from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n\nimport { sendBpmTaskAJAX } from './common';\n\nconst propTypes = {\n    id: PropTypes.string,\n    refCode: PropTypes.string,\n    processDefinitionId: PropTypes.string,\n    processInstanceId: PropTypes.string,\n    onBpmFlowClick: PropTypes.func,\n    appType: PropTypes.string,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func\n}\nclass BpmTaskApprovalWrap extends Component {\n    constructor() {\n        super();\n        this.state = {\n            isShowFlowBtn: false,\n            id: \"\",\n            taskId: \"\",\n            processDefinitionId: \"\",\n            processInstanceId: \"\",\n            copyusers:[], //抄送数据\n            intersection:true, //是否交集\n            approvetype:\"agree\",  //审批类型\n            comment:\"审批同意\", //审批内容\n            activityId:\"\",//驳回环节id\n            userIds:[],//加签用户数组\n            userId:\"\",//改派用户\n            showModal:false,\n            properties:{\n                addSignAble:true, //可否加签\n                iscopytouser:true, //可否抄送\n                rejectAble:true, //可否驳回\n                delegateAble:true, //可否改派\n                unagreeable:true, //可否不同意\n                assignAble:true, //可否指派\n                deleteable:true  //可否驳回到制单人\n            }\n        }\n    }\n\n    componentWillMount = async () => {\n        if (!this.props.processDefinitionId) {//督办查看详情\n            let pID = await billidToIds(this.props.id);\n            if (pID.data.message && pID.data.message == 'NoBpm') {\n                // console.log('NoBpm');\n                this.setState({\n                    isShowFlowBtn: false\n                });\n            } else if (pID.data.taskId) {\n                let { processDefinitionId, processInstanceId, taskId } = pID.data;\n                //可否加签|可否抄送|可否驳回|可否改派|可否不同意|可否指派\n                let {currentActivity:{ properties:{ addsignAble,iscopytouser,rejectAble ,delegateAble,unagreeable,assignAble ,deleteable}}}= pID.data;\n\n                this.setState({\n                    id: taskId,\n                    taskId:taskId,\n                    properties:{\n                        addsignAble,iscopytouser,rejectAble,delegateAble,unagreeable,assignAble,deleteable\n                    },\n                    processDefinitionId,\n                    processInstanceId,\n                });\n            } else {\n                this.setState({\n                    isShowFlowBtn: true\n                });\n            }\n        } else {//从任务中心跳转\n            this.setState({\n                processDefinitionId: this.props.processDefinitionId,\n                processInstanceId: this.props.processInstanceId,\n                id: this.props.id\n            });\n        }\n    }\n    //提交\n    handlerSubmitBtn =  async()=>{\n        let { onStart, onEnd, onSuccess, onError } = this.props;\n        if (this.state.comment == \"\") {\n            Message.create({ content: '审批意见不能为空', color: 'danger', position: 'top' });\n            return;\n        }\n        onStart && onStart();\n        //检测需要二次请求并弹出Modal审批\n        switch (this.state.approvetype) {\n            case 'agree'://同意\n            case 'unagree'://不同意\n                let result = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                //普通同意操作，没有后续操作，直接成功\n                if (result.data.flag == 'success') {\n                    Message.create({ content: result.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else if (result.data.flag == 'faile') {\n                    Message.create({ content: result.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: result.data.msg\n                    });\n                }\n                //普通同意操作，有后续操作，有加签人员判断\n                if (result.data.assignAble) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.assignList.length > 0) {\n                        this.setState({\n                            HuoDongID: result.data.assignList[0].activityId,\n                            HuoDongName: result.data.assignList[0].activityName\n                        });\n                    }\n                    // onStart && onStart();\n                    //可以是加签操作，拉取加签请求\n                    onEnd && onEnd();\n\n                    //弹出参照组件\n                    // createModal(options);\n                    this.setState({showModal:true})\n                }\n                break;\n            //驳回到环节\n            case 'rejectToActivity':\n                let {activityId,approvetype,comment,processInstanceId,taskId}=this.state;\n                if(!activityId ||activityId.length ===0){\n                    Message.create({ content: `驳回环节不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `驳回环节不可为空`\n                    });\n                    return\n                }\n                let rejectToBillMakerMsg = await sendBpmTaskAJAX('rejectToBillMaker', {\n                    activityId: activityId,\n                    approvetype: approvetype,\n                    comment: comment,\n                    processInstanceId: processInstanceId,\n                    taskId: taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求错误`\n                    });\n                });\n\n                if (rejectToBillMakerMsg.data.flag == 'success') {\n                    onSuccess && onSuccess();\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'info', position: 'top' });\n                    this.setState({\n                        rejectToActivityShow: false,\n                        rejectlist: [],\n                        selectedRow: []\n                    });\n                } else {\n                    Message.create({ content: `${rejectToBillMakerMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectToBillMakerMsg.data.msg\n                    });\n                }\n                break;\n            //加签\n            case 'signAdd':\n                onStart && onStart();\n                //TO DO:重构URL\n                if(!this.state.userIds ||this.state.userIds.length ===0){\n                    Message.create({ content: `加签人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `加签人员不可为空`\n                    });\n                    return\n                }\n                //执行最终加签操作\n                let signAddMsg = await sendBpmTaskAJAX('signaddtask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userIds: this.state.userIds,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //判断加签最终是否成功\n                if (signAddMsg.data.flag == 'success') {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${signAddMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: signAddMsg.data.msg\n                    });\n                }\n                break;\n            //改派\n            case 'delegate':\n                onStart && onStart();\n                if(!this.state.userId ||this.state.userId.length ===0){\n                    Message.create({ content: `改派人员不可为空`, color: 'warning', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `改派人员不可为空`\n                    });\n                    return\n                }\n                //TO DO:重构URL\n                let delegateMsg = await sendBpmTaskAJAX('delegatetask', {\n                    approvetype: this.state.approvetype,\n                    comment: this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    userId: this.state.userId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: `服务器请求出错`\n                    });\n                });\n                //处理后续的操作\n                if (delegateMsg.data.flag === 'success') {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: `${delegateMsg.data.msg}`, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: delegateMsg.data.msg\n                    });\n                }\n                break;\n            //弃审\n            case 'withdraw':\n                let res = await sendBpmTaskAJAX(this.state.approvetype, this.state);\n                if (res.data.flag === 'success') {\n                    Message.create({ content: res.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: res.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: res.data.msg\n                    });\n                }\n                break;\n            case 'rejectToBillMaker':\n                let rejectres = await sendBpmTaskAJAX(this.state.approvetype,{\n                    activityId: 'markerbill',\n                    approvetype: this.state.approvetype,\n                    comment:this.state.comment,\n                    processInstanceId: this.state.processInstanceId,\n                    taskId: this.state.taskId,\n                    copyusers:this.state.copyusers,\n                    intersection:this.state.intersection\n                });\n                if (rejectres.data.flag === 'success') {\n                    Message.create({ content: rejectres.data.msg, color: 'info', position: 'top' });\n                    onSuccess && onSuccess();\n                } else {\n                    Message.create({ content: rejectres.data.msg, color: 'danger', position: 'top' });\n                    onError && onError({\n                        type: 2,\n                        msg: rejectres.data.msg\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n    onChangestate =(s)=>{  //审批面板选择的数据\n           //审批类型       审批消息  任务ID  驳回活动id   加签数据  改派\n        let { approvetype, comment,taskId, activityId, userIds, userId} =s;\n        this.setState({\n            approvetype, comment,taskId, activityId, userIds, userId\n        });\n    var options = Object.assign(JSON.parse(refOptions), {\n        title: '指派人员选择',\n        backdrop: false,\n        hasPage: true,\n        refType: 5,//1:树形 2.单表 3.树卡型 4.多选 5.default\n        isRadio: false,\n        className: '',\n        param: {//url请求参数\n            refCode: this.props.refCode,\n            tenantId: '',\n            sysId: '',\n            transmitParam: 'EXAMPLE_CONTACTS,EXAMPLE_ORGANIZATION',\n        },\n        //选择中的数据\n        checkedArray:[],\n        textOption: {\n            modalTitle: '选择指派人员',\n            leftTitle: '组织结构',\n            rightTitle: '人员列表',\n            leftTransferText: '待选人员',\n            rightTransferText: '已选人员',\n\n        },\n        onCancel: function (p) {\n            console.log(p)\n        },\n        //保存回调sels选中的行数据showVal显示的字\n        onSave: async (sels, showVal) => {//showVal=\"12;13;管理员\"\n        //回调\n        onStart && onStart();\n    //同意后续的加签\n    //TO DO:重构URL\n    var agreeeMsg = await sendBpmTaskAJAX('commit', {\n        activityId: this.state.HuoDongID,\n        activityName: this.state.HuoDongName,\n        comment: this.state.comment,\n        taskId: this.state.taskId,\n        approvetype: this.state.approvetype,\n        processInstanceId: this.state.processInstanceId,\n        participants: Array.from(sels, x => ({ \"id\": x.id }))\n}).catch((e) => {\n        Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n    onError && onError({\n        type: 2,\n        msg: `服务器请求出错`\n    });\n});\n    //确认加签后的处理\n    if (agreeeMsg.data.flag == 'success') {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n        this.setState({\n            rejectlist: [],\n            selectedRow: []\n        });\n        onSuccess && onSuccess();\n    } else {\n        Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n        onError && onError({\n            type: 2,\n            msg: agreeeMsg.data.msg\n        });\n    }\n},\n    showVal: '',\n        showKey: 'refname',\n        verification: false\n});\n    }\n    render() {\n        const assignOption = {\n            title: '指派人员选择',\n            textOption: {\n                modalTitle: '选择指派人员',\n                leftTitle: '组织结构',\n                rightTitle: '人员列表',\n                leftTransferText: '待选人员',\n                rightTransferText: '已选人员',\n\n            },\n            param: {//url请求参数\n                refCode: 'neworgdeptuser_treegrid ',//test_common||test_grid||test_tree||test_treeTable\n                // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n            },\n            refModelUrl: {\n                treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                tableBodyUrlSearch: '',\n                tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n            },\n            jsonp: true,\n            hearders: {},\n            displayField: '{refname}',//显示内容的键\n            valueField: 'refcode',//真实 value 的键\n            onCancel: function (p) {\n                console.log(p)\n                this.setState({showModal:false})\n            },\n            onSave: async(sels) =>{\n                this.setState({showModal:false})\n\n            onStart && onStart();\n            //同意后续的加签\n            //TO DO:重构URL\n            let agreeeMsg = await sendBpmTaskAJAX('commit', {\n                activityId: this.state.HuoDongID,\n                activityName: this.state.HuoDongName,\n                comment: this.state.comment,\n                taskId: this.state.taskId,\n                approvetype: this.state.approvetype,\n                processInstanceId: this.state.processInstanceId,\n                participants: Array.from(sels, x => ({ \"id\": x.id }))\n            }).catch((e) => {\n                    Message.create({ content: `${e.toString()}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: `服务器请求出错`\n                });\n            });\n            //确认加签后的处理\n            if (agreeeMsg.data.flag == 'success') {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'info', position: 'top' });\n                this.setState({\n                    rejectlist: [],\n                    selectedRow: []\n                });\n                onSuccess && onSuccess();\n            } else {\n                Message.create({ content: `${agreeeMsg.data.msg}`, color: 'danger', position: 'top' });\n                onError && onError({\n                    type: 2,\n                    msg: agreeeMsg.data.msg\n                });\n            }\n        }\n    }\n        return (\n            <div className=\"clearfix\">\n                {this.state.processDefinitionId && <div>\n                    <Row>\n                        <div>\n\n                        </div>\n                    </Row>\n                    <Row>\n                    <Col md={12}>\n                        <BpmTaskApproval\n                            id={this.state.id}\n                            refCode={this.props.refCode}\n                            onBpmFlowClick={this.props.onBpmFlowClick}\n                            processDefinitionId={this.state.processDefinitionId}\n                            processInstanceId={this.state.processInstanceId}\n                            appType={this.props.appType}\n                            properties={this.state.properties}\n                            onStart={this.props.onStart}\n                            onEnd={this.props.onEnd}\n                            onSuccess={this.props.onSuccess}\n                            onError={this.props.onError}\n                            onChangestate = {this.onChangestate}\n                        />\n                    </Col>\n                </Row>\n\n                    <Row style={{\"margin\":\"8px 0\", \"padding\": \"0 10px\"}}>\n                        <Col md={4} mdOffset={8} xs={4} xsOffset={8} sm={4} smOffset={8} style={{ \"textAlign\": \"right\",\"paddingRight\": 0}}>\n                            <Button onClick={this.handlerSubmitBtn}  colors=\"primary\">提交</Button>\n                        </Col>\n                    </Row>\n\n                </div>}\n                {this.state.isShowFlowBtn && <Row>\n                    <Col mdOffset={11} md={1} style={{ \"textAlign\": \"right\" }}>\n                        <Button onClick={this.props.onBpmFlowClick} style={{ \"marginBottom\": \"4px\", \"marginRight\": \"15px\" }} colors=\"primary\">流程图</Button>\n                    </Col>\n                </Row>}\n                    <RefTreeTransfer {...assignOption} showModal={this.state.showModal}/>\n            </div>\n        );\n    }\n}\nBpmTaskApprovalWrap.propTypes = propTypes;\nBpmTaskApprovalWrap.defaultProps = {\n    id: \"\",\n    appType: \"1\",\n    refCode: \"userUnderOrgRef\"\n}\nexport default BpmTaskApprovalWrap;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table ,Row,Label,Checkbox } from 'tinper-bee';\nimport RefTreeTransferWithInput from 'pap-refer/lib/pap-common-treeTransfer/src/index.js';\n// import 'pap-refer/lib/pap-common-treeTransfer/src/index.css';\n// import 'tinper-bee/assets/tinper-bee.css'\n// import 'ref-tree-transfer/lib/index.less';\n// import './tinper-bee-theme.css'\n// import 'pap-refer/dist/index.css'\nimport './index.css'\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    size: PropTypes.string,\n    scrollY: PropTypes.number,\n    isOne: PropTypes.bool,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonSubmit extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: [],//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [],\n            chaosongShow:false,//抄送显示\n            editRowIndex: 0,\n            showVal: [],\n            checkedArray:[], //指派选择的数据\n            copyusers:[],   //抄送数据\n            intersection:true,  //是否交集\n            submiting:false\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, isOne, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        //检查是否多单据提交\n        if (isOne && checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            if(!detailMsg.data ||detailMsg.data==null){\n                onError && onError({\n                    type: 1,\n                    msg: `当前单据没有绑定流程`\n                });\n                return;\n            }\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (!result.data.detailMsg.data.assignAble)) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data && result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        let arr = result.data.detailMsg.data.assignedActivities.filter( (item)=>{ return !item.properties.startactivity;});\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            chaosongShow:result.data.detailMsg.data.assignedActivities[0].properties.iscopytouser,\n                            huanjieList: arr,\n                            obj: checkedArray,\n                            assignInfo: {\n                                assignInfoItems: Array.from(arr, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            chaosongShow:false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj,copyusers,intersection,submiting } = this.state;\n        obj=obj[0];\n        let arr=[];\n        let self = this;\n        copyusers.map(function(value) {\n            arr=arr.concat(value);\n        });\n        copyusers=arr;\n        //加载事件\n        if(!submiting){\n            onStart && onStart();\n            this.setState({\n                submiting:true\n            })\n            let result = await axios.post(urlAssignSubmit, {\n                processDefineCode,\n                assignInfo,\n                obj,\n                copyusers,\n                intersection\n\n            }).catch((e) => {\n\n                onError && onError({\n                    type: 2,\n                    msg: `后台服务请求发生错误`\n                });\n                self.setState({\n                    submiting:false\n                })\n            });\n            if (result.data.success == 'success') {\n                onSuccess && onSuccess();\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            } else if (result.data.success == 'fail_global') {\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(result.data.message) || '流程启动失败'\n                });\n                this.setState({\n                    huanjieShow: false,\n                    chaosongShow:false,\n                    childRefKey: [],\n                    showVal: [],\n                    submiting:false\n                });\n            }\n        }\n    }\n    changeCheck=()=> {\n        this.setState({intersection:!this.state.intersection});\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index) {\n\n                const option = {\n                    title: '选择指派人员',\n                    textOption: {\n                        modalTitle: '选择指派人员',\n                        leftTitle: '组织结构',\n                        rightTitle: '人员列表',\n                        leftTransferText: '待选人员',\n                        rightTransferText: '已选人员',\n\n                    },\n                    param: {//url请求参数\n                        refCode: 'neworgdeptuser_treegrid',//test_common||test_grid||test_tree||test_treeTable\n                        // refModelUrl: 'http://workbench.yyuap.com/ref/rest/testref_ctr/',\n                    },\n                    refModelUrl: {\n                        treeUrl: '/pap_basedoc/common-ref/blobRefTree',\n                        tableBodyUrlSearch: '',\n                        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n                        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n                    },\n                    jsonp: false,\n                    hearders: {},\n                    displayField: '{refname}',//显示内容的键\n                    valueField: 'refpk',//真实 value 的键\n                    onCancel: function (p) {\n                        console.log(p)\n                    },\n                    onSave: function (sels,showVal) {\n                        console.log(sels);\n                        var temp = sels.map(v => v.id);\n                        //显示值\n                        let _showVal = self.state.showVal.slice();\n                        _showVal[index] = showVal;\n                        //选中的值\n                        let _childRefKey = self.state.childRefKey.slice();\n                        _childRefKey[index] = temp;\n                        //副本原始对象\n                        let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                        //根据修改索引修改指定数据内容\n                        sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                        let checkedArray = self.state.checkedArray;\n                        checkedArray[index] = sels;\n                        self.setState({\n                            checkedArray:checkedArray,\n                            childRefKey: _childRefKey,\n                            showVal: _showVal,\n                            assignInfo: {\n                                assignInfoItems: sourseArray\n                            }\n                        });\n                    }\n                }\n\n                return <RefTreeTransferWithInput {...option}/>\n            }\n        }]\n\n\n        return (<span>\n            <span onClick={this.handlerBtn}>\n                {\n                    this.props.children\n                }\n            </span>\n            <Modal\n                size={this.props.size}\n                show={this.state.huanjieShow||this.state.chaosongShow}\n                backdrop={false}\n                enforceFocus={false}\n                onHide={this.closeHuanjie}>\n                <Modal.Header closeButton>\n                    <Modal.Title> {'环节指派'}</Modal.Title>\n                </Modal.Header>\n                {this.state.huanjieShow?<Modal.Body>\n                    <Table\n                        rowKey={record => record.id}\n                        columns={huanjieCol}\n                        data={this.state.huanjieList}\n                        scroll={{ x: \"100%\", y: 200 }}\n                    />\n                </Modal.Body>:\"\"}\n                <Modal.Footer>\n                    <Button style={{ \"marginRight\": \"10px\" }}  onClick={this.closeHuanjie}> 关闭 </Button>\n                    <Button colors=\"primary\"  onClick={this.huanjieHandlerOK}> 确定 </Button>\n\n                </Modal.Footer>\n            </Modal>\n        </span>);\n    }\n}\nBpmButtonSubmit.propTypes = propTypes;\nBpmButtonSubmit.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    size: \"\",\n    scrollY: 270,\n    isOne: false,\n    organrefCode:\"newdept\",\n    positonrefCode:\"newposition\",\n    roleRef:\"newRoleRef\",\n    userRef:\"newuser\"\n}\nexport default BpmButtonSubmit;\n","/**\n * bpm 收回流程按钮\n */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { onRecall } from './common';\n\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    url: PropTypes.string,\n    data: PropTypes.array,\n    className: PropTypes.string,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmButtonRecall extends Component {\n    constructor() {\n        super();\n    }\n    /**\n     * 收回操作事件\n     */\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        if(this.props.children.props.disabled){\n            return\n        }\n        let recallArray = [];\n\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据收回`\n            });\n            return;\n        }\n\n        //操作数据至少有一个\n        if (checkedArray.length > 0) {\n            if (checkedArray[0].bpmState != 0 && checkedArray[0].bpmState != null) {\n                recallArray.push({ id: checkedArray[0].id });\n            } else {\n                onError && onError({\n                    type: 1,\n                    msg: `流程没有启动无法撤回`\n                });\n            }\n\n        } else {\n            // 弹出提示请选择数据\n            onError && onError({\n                type: 1,\n                msg: `请选择单据才能撤回`\n            });\n            return;\n        }\n        if (recallArray.length > 0) {\n            onStart && onStart();\n            let { data: { success, detailMsg } } = await onRecall(this.props.url, recallArray);\n            if (detailMsg.data['success'] && detailMsg.data.success == 'success') {\n                onSuccess && onSuccess();\n            } else {\n                onError && onError({\n                    type: 2,\n                    msg: detailMsg.data.message\n                });\n            }\n        }\n    }\n    render() {\n        return (<span onClick={this.handlerBtn}>\n            {\n                this.props.children\n            }\n        </span>);\n    }\n}\nBpmButtonRecall.propTypes = propTypes;\nBpmButtonRecall.defaultProps = {\n    checkedArray: [],\n    url: \"/example/ygdemo_yw_info/unsubmit\",\n    data: [],\n    className: \"\"\n}\nexport default BpmButtonRecall;\n","/**\n * bpm 提交流程按钮\n */\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Button, Modal, Table } from 'tinper-bee';\nimport RefMultipleTableWithInput from 'pap-refer/lib/pap-common-table/src/index.js';\nimport { onCommit, queryBpmTemplateAllocate, reconvert } from './common';\nimport refOptions from './refOptions';\nconst propTypes = {\n    checkedArray: PropTypes.array,\n    funccode: PropTypes.string,\n    nodekey: PropTypes.string,\n    url: PropTypes.string,\n    urlAssignSubmit: PropTypes.string,\n    className: PropTypes.string,\n    filterRefUrl: PropTypes.string,\n    refCode: PropTypes.string,\n    scrollY: PropTypes.number,\n    onSuccess: PropTypes.func,\n    onError: PropTypes.func,\n    onStart: PropTypes.func,\n    onEnd: PropTypes.func\n};\n\nclass BpmLinkAssign extends Component {\n    constructor() {\n        super();\n        this.state = {\n            childRefKey: [],//参照组件选择的数据\n            userIds: [],\n            processDefineCode: \"\",\n            assignInfo: {\n                assignInfoItems: []\n            },\n            obj: {},//单据数据\n            huanjieShow: false,//环节指派显示\n            huanjieList: [\n                { \"id\": \"approveUserTask3283\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3183\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3a83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3s83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask32d3\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask3zza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTasqzza83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTask34za83\", \"name\": \"1\", \"type\": \"userTask\" },\n                { \"id\": \"approveUserTas43zza83\", \"name\": \"1\", \"type\": \"userTask\" }\n            ],\n            editRowIndex: 0,\n            showVal: []\n        }\n    }\n    //提交流程按钮\n    handlerBtn = async () => {\n        let { checkedArray, onStart, onEnd, onSuccess, onError } = this.props;\n        //检查只能一条单据提交流程\n        if (checkedArray.length >= 2) {\n            onError && onError({\n                type: 2,\n                msg: `请选择单条数据提交`\n            });\n            return;\n        }\n\n        //处理数据提交第一次请求，然后发起二次请求\n        if (checkedArray.length > 0) {\n            //如果传来的数据状态bpmState==null or 0 那么直接给出错误重复提交\n            if (checkedArray[0].bpmState >= 1) {\n                onError && onError({\n                    type: 1,\n                    msg: `不能提交此单据，重复提交`\n                });\n                return;\n            }\n            //加载事件\n            onStart && onStart();\n            //提交第一次请求，获得res_code通过funccode,nodekey\n            let { data: { success, detailMsg } } = await queryBpmTemplateAllocate({\n                funccode: this.props.funccode,\n                nodekey: this.props.nodekey\n            });\n            //正常拿到成功数据后\n            if (success == \"success\") {\n                //组织新的第二次提交参数，用于是否有流程指派操作等\n                let commitParam = {\n                    \"url\": this.props.url,\n                    \"processDefineCode\": detailMsg.data.res_code,\n                    \"submitArray\": checkedArray\n                }\n                //得到下次需要接口用的res_code\n                this.setState({\n                    processDefineCode: detailMsg.data.res_code\n                });\n                //收集参数准备提交submit\n                let result = await onCommit(commitParam);\n                let flag = result.data.success;\n                //一般普通的提交成功和失败\n                if (flag == \"success\" && (typeof result.data.detailMsg.data.assignAble == 'undefined')) {\n                    //正确\n                    onSuccess && onSuccess();\n                } else if (flag == \"fail_global\") {\n                    //后端错误\n                    onError && onError({\n                        type: 2,\n                        msg: reconvert(result.data.message) || '流程启动失败'\n                    });\n                }\n                //当得知需要二次弹出环节面板\n                if (result.data.detailMsg.data.assignAble == true) {\n                    //判断是否有最新的活动id和name\n                    if (result.data.detailMsg.data.assignedActivities && result.data.detailMsg.data.assignedActivities.length > 0) {\n                        //停止事件\n                        onEnd && onEnd();\n                        //更新环节指派数据\n                        this.setState({\n                            huanjieShow: true,\n                            huanjieList: result.data.detailMsg.data.assignedActivities,\n                            obj: checkedArray[0],\n                            assignInfo: {\n                                assignInfoItems: Array.from(result.data.detailMsg.data.assignedActivities, x => ({ activityId: x.id, activityName: x.name, participants: [] }))\n                            }\n                        });\n                    }\n                }\n            } else if (success == \"fail_global\") {\n                let { data: { message } } = result\n                //流程提交错误\n                onError && onError({\n                    type: 2,\n                    msg: reconvert(message) || '流程启动失败'\n                });\n            }\n        } else {\n            // 弹出提示\n            onError && onError({\n                type: 1,\n                msg: `请选择提交的单据`\n            });\n        }\n\n    }\n    //通用关闭方法\n    closeHuanjie = () => {\n        this.setState({\n            huanjieShow: false,\n            childRefKey: [],\n            showVal: []\n        });\n    }\n    //选择人员后的确定事件\n    signAddOK = () => {\n        //修改第几个数据\n        let _index = this.state.editRowIndex;\n        //副本原始对象\n        let sourseArray = this.state.assignInfo.assignInfoItems.slice();\n        //根据修改索引修改指定数据内容\n        sourseArray[_index]['participants'] = Array.from(this.state.userIds, x => ({ id: x.id }));\n        this.setState({\n            assignInfo: {\n                assignInfoItems: sourseArray\n            },\n            userIds: []\n        });\n    }\n    //选择完所有加签后的确定事件\n    huanjieHandlerOK = async () => {\n        let { urlAssignSubmit, onSuccess, onError, onStart, onEnd } = this.props;\n        let { processDefineCode, assignInfo, obj } = this.state;\n        //加载事件\n        onStart && onStart();\n        let result = await axios.post(urlAssignSubmit, {\n            processDefineCode,\n            assignInfo,\n            obj\n        }).catch((e) => {\n            onError && onError({\n                type: 2,\n                msg: `后台服务请求发生错误`\n            });\n        });\n        if (result.data.success == 'success') {\n            onSuccess && onSuccess();\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        } else if (result.data.success == 'fail_global') {\n            onError && onError({\n                type: 2,\n                msg: reconvert(result.data.message) || '流程启动失败'\n            });\n            this.setState({\n                huanjieShow: false,\n                childRefKey: [],\n                showVal: []\n            });\n        }\n    }\n    render() {\n        let self = this;\n        let huanjieCol = [{\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n            width: \"40%\"\n        },\n        {\n            title: \"编码\",\n            dataIndex: \"id\",\n            key: \"id\",\n            width: \"40%\"\n        }, {\n            title: \"指派\",\n            dataIndex: \"1\",\n            key: \"1\",\n            width: \"20%\",\n            render(text, record, index){\n                const option = {\n                        title: '人员选择',\n                        backdrop: true,\n                        disabled: false,\n                        multiple: false,\n                        strictMode: true,\n                        param:{//url请求参数\n                            refCode:'new_relatedUser'\n                        },\n                        refModelUrl:{\n                            tableBodyUrl:'/wbalone/common-ref/blobRefTreeGrid',//表体请求\n                            refInfo:'/wbalone/common-ref/refInfo',//表头请求\n                        },\n                        matchUrl: '/wbalone/common-ref/matchPKRefJSON',\n                        filterUrl: '/wbalone/common-ref/filterRefJSON',\n                        valueField: \"refpk\",\n                        displayField: \"{refname}\",\n                        onSave:(sels, showVal)=> {//showVal=\"12;13;管理员\"\n                            var temp = sels.map(v => v.id);\n                            //显示值\n                            let _showVal = self.state.showVal.slice();\n                            _showVal[index] = showVal;\n                            //选中的值\n                            let _childRefKey = self.state.childRefKey.slice();\n                            _childRefKey[index] = temp;\n                            //副本原始对象\n                            let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                            //根据修改索引修改指定数据内容\n                            sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                            self.setState({\n                                childRefKey: _childRefKey,\n                                showVal: _showVal,\n                                assignInfo: {\n                                    assignInfoItems: sourseArray\n                                }})\n                        }}\n\n            return (<RefMultipleTableWithInput  {...option} />)\n\n                // {disabled: false,\n                //     multiple: false,\n                //     strictMode: true,\n                //     param:{//url请求参数\n                //         refCode:'new_relatedUser'\n                //     },\n                //     valueField: \"refpk\",\n                //     displayField: \"{refname}\",\n                //     onCancel: function (p) {\n                //         console.log(p)\n                //     },\n                //     title: '人员选择',\n                //     backdrop: false,\n                //     hasPage: true,\n                //     //保存回调sels选中的行数据showVal显示的字\n                //     onSave: function (sels, showVal) {//showVal=\"12;13;管理员\"\n                //         console.log(sels);\n                //         var temp = sels.map(v => v.id);\n                //         //显示值\n                //         let _showVal = self.state.showVal.slice();\n                //         _showVal[index] = showVal;\n                //         //选中的值\n                //         let _childRefKey = self.state.childRefKey.slice();\n                //         _childRefKey[index] = temp;\n                //         //副本原始对象\n                //         let sourseArray = self.state.assignInfo.assignInfoItems.slice();\n                //         //根据修改索引修改指定数据内容\n                //         sourseArray[index]['participants'] = Array.from(_childRefKey[index], x => ({ id: x }));\n                //         self.setState({\n                //             childRefKey: _childRefKey,\n                //             showVal: _showVal,\n                //             assignInfo: {\n                //                 assignInfoItems: sourseArray\n                //             }\n                //         });\n                //     }\n                // })}\n                // />)\n            }\n        }]\n        return (<Table\n            loading={false}\n            scroll={{ y: this.props.scrollY }}\n            emptyText={() => (<span>暂无环节</span>)}\n            rowKey={record => record.id}\n            columns={huanjieCol}\n            data={this.state.huanjieList}\n        />);\n    }\n}\nBpmLinkAssign.propTypes = propTypes;\nBpmLinkAssign.defaultProps = {\n    checkedArray: [],\n    nodekey: \"003\",\n    funccode: \"react\",\n    url: \"/example/ygdemo_yw_info/submit\",\n    urlAssignSubmit: \"/example/ygdemo_yw_info/assignSubmit\",\n    className: \"\",\n    filterRefUrl: \"/iuap_pap_quickstart/common/filterRef\",\n    refCode: \"newuser\",\n    scrollY: 270\n}\nexport default BpmLinkAssign;\n","let option = {\n    title: '复杂表格参照',\n    backdrop: true,\n    disabled: false,\n    multiple: false,\n    strictMode: true,\n    param:{//url请求参数\n        refCode:'new_relatedUser'\n    },\n    refModelUrl:{\n        tableBodyUrl:'/pap_basedoc/common-ref/blobRefTreeGrid',//表体请求\n        refInfo:'/pap_basedoc/common-ref/refInfo',//表头请求\n    },\n    matchUrl: '/pap_basedoc/common-ref/matchPKRefJSON',\n    filterUrl: '/pap_basedoc/common-ref/filterRefJSON',\n    valueField: \"refpk\",\n    displayField: \"{refname}\",\n    fliterColumn: [{\n        dataIndex: \"code\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"name\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"text\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    },{\n        dataIndex: \"level\",\n        filterDropdown: \"show\",\n        filterDropdownType: \"string\",\n        filterType: \"dropdown\",\n        filterDropdownIncludeKeys: ['LIKE', 'ULIKE', 'EQ']\n    }]\n};\n\n\nexport default JSON.stringify(option)\n"],"sourceRoot":""}